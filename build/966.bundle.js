(self.webpackChunkuser_dashboard=self.webpackChunkuser_dashboard||[]).push([[966,44],{2537:(e,n,t)=>{"use strict";t.d(n,{Z:()=>m});var r=t(4942),a=t(5987),i=t(7294),o=t(2283),s=t(5934),c=t(5893),d=["name","label","isFieldArray","className","style","hideError"];function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const m=function(e){var n,t,r=e.name,l=e.label,m=e.isFieldArray,p=e.className,f=e.style,h=e.hideError,g=(0,a.Z)(e,d),x=(0,o.Gc)(),v=x.register,b=x.formState.errors,y=null;if(m&&!h){var j=r.split(".");y=3===j.length&&Object.keys(b).length>0&&b[j[0]]?(n=[j[1],j[2],"message"],t=b[j[0]],Object.keys(t).length>0&&n.forEach((function(e){t=t&&t[e]?t[e]:null})),t&&"string"==typeof t&&t.split(".")[1]||t):null}return(0,c.jsx)(i.Fragment,{children:(0,c.jsxs)("div",{className:p,style:f,children:[l&&(0,c.jsx)("label",{htmlFor:r,children:l}),(0,c.jsx)("input",u(u({className:"form-control ".concat((b[r]||y)&&"is-invalid")},v(r)),g)),b[r]&&!h&&(0,c.jsx)(s.dp,{className:"invalid-feild",children:b[r].message}),y&&!h&&(0,c.jsx)(s.dp,{className:"invalid-feild",children:y})]})})}},2201:(e,n,t)=>{"use strict";t.d(n,{Z:()=>u});var r,a=t(168),i=t(7294),o=t(2283),s=t(4290),c=t.n(s),d=t(9163),l=t(5893);const u=(0,i.forwardRef)((function(e,n){var t=e.name,r=e.maxHeight,a=void 0===r?"":r,s=e.formats,d=e.modules,u=e.placeholder,p=(0,o.Gc)().control,f={toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]},h=["bold","italic","underline","list","bullet","link"];return(0,i.useEffect)((function(){var e=document&&document.querySelector(".ql-tooltip input");e&&e.setAttribute("data-link","https://www.example.com")}),[]),(0,l.jsx)(i.Fragment,{children:(0,l.jsx)(m,{maxHeight:a,className:"wrapper",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(o.Qr,{name:t,control:p,render:function(e){var t=e.field,r=t.value,a=t.onChange,i=t.onBlur;return(0,l.jsx)(c(),{ref:n,modules:d||f,onBlur:i,onChange:function(e){return a(e)},value:r,formats:s||h,theme:"snow",bounds:"wrapper",placeholder:u})}})})})})}));var m=d.ZP.div(r||(r=(0,a.Z)(["\n  .quill {\n    background-color: #f4f5f7;\n    border-radius: 6px;\n    display: block;\n  }\n\n  .ql-toolbar,\n  .ql-container {\n    border: none;\n    display: block;\n    ",'\n  }\n  .ql-toolbar {\n    padding-top: 1rem;\n    span.ql-formats {\n      &:not(:last-child) {\n        border-right: 2px solid #ddd;\n      }\n      button {\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        padding: 0;\n        svg {\n          width: 1.2rem;\n          height: 1.2rem;\n        }\n      }\n    }\n    .ql-formats {\n      margin-right: 0.5rem;\n      padding-right: 0.5rem;\n    }\n    .ql-stroke {\n      stroke: #898989;\n    }\n  }\n\n  .ql-editor {\n    min-height: 150px;\n    * {\n      font-size: 1rem;\n    }\n  }\n  .ql-editor.ql-blank::before {\n    font-style: unset;\n  }\n\n  .ql-editor ol,\n  .ql-editor ul {\n    padding-left: 0.5em;\n  }\n  .ql-tooltip {\n    z-index: 10;\n    border: none;\n    border-radius: 4px;\n    &[data-mode=\'link\']:before {\n      content: \'Link\';\n    }\n    &:before {\n      content: \'\';\n    }\n    input[type=\'text\'] {\n      border: 1px solid #f4f5f7;\n      font-size: 1rem;\n      height: 40px;\n      width: 201px;\n    }\n\n    .ql-preview {\n      margin-right: 1rem;\n      text-decoration: underline;\n    }\n    &.ql-editing {\n      a.ql-action {\n        &:after {\n          position: relative;\n          top: 4px;\n          line-height: 1;\n          content: url(\'data:image/svg+xml;utf8,<svg width="20" height="20" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="%2306c" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" /></svg>\');\n          filter: grayscale(1);\n          opacity: 0.5;\n        }\n        &:hover {\n          &:before {\n            filter: grayscale(0);\n            opacity: 1;\n          }\n        }\n      }\n    }\n    a.ql-remove {\n      &:before {\n        position: relative;\n        top: 3px;\n        margin-left: 0.5rem !important;\n        content: url(\'data:image/svg+xml;utf8,<svg width="16" height="16" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="%2306c" d="M6.08594 2.13281H5.90625C6.00508 2.13281 6.08594 2.05195 6.08594 1.95312V2.13281H12.9141V1.95312C12.9141 2.05195 12.9949 2.13281 13.0938 2.13281H12.9141V3.75H14.5312V1.95312C14.5312 1.16025 13.8866 0.515625 13.0938 0.515625H5.90625C5.11338 0.515625 4.46875 1.16025 4.46875 1.95312V3.75H6.08594V2.13281ZM17.4062 3.75H1.59375C1.19619 3.75 0.875 4.07119 0.875 4.46875V5.1875C0.875 5.28633 0.955859 5.36719 1.05469 5.36719H2.41133L2.96611 17.1143C3.00205 17.8802 3.63545 18.4844 4.40137 18.4844H14.5986C15.3668 18.4844 15.9979 17.8824 16.0339 17.1143L16.5887 5.36719H17.9453C18.0441 5.36719 18.125 5.28633 18.125 5.1875V4.46875C18.125 4.07119 17.8038 3.75 17.4062 3.75ZM14.4257 16.8672H4.57432L4.03076 5.36719H14.9692L14.4257 16.8672Z"/></svg>\') !important;\n        filter: grayscale(1);\n        opacity: 0.5;\n      }\n      &:hover {\n        &:before {\n          filter: grayscale(0);\n          opacity: 1;\n        }\n      }\n    }\n  }\n'])),(function(e){var n=e.maxHeight;return n&&"max-height: ".concat(n,"; overflow-y: scroll;")}))},732:(e,n,t)=>{"use strict";t.d(n,{Z:()=>b});var r,a,i,o,s=t(168),c=t(885),d=t(7294),l=t(5977),u=t(9163),m=t(5438),p=t(2790),f=t(5893),h=u.ZP.div(r||(r=(0,s.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  background-color: ",";\n"])),(function(e){return e.theme.shades.dark[3]})),g=u.ZP.div(a||(a=(0,s.Z)(["\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  max-width: 450px;\n  height: auto;\n  width: 100%;\n  padding: 1.5rem;\n  border: 1px solid rgb(237 237 237 / 20%);\n  border-radius: 6px;\n  background-color: #fff;\n\n  h3 {\n    text-align: center;\n    margin: 1.5rem 0 0;\n  }\n  p {\n    text-align: center;\n    font-size: 1rem;\n    margin-bottom: 2rem;\n  }\n"]))),x=u.ZP.div(i||(i=(0,s.Z)(["\n  display: flex;\n  justify-content: space-around;\n  width: 100%;\n  margin-left: auto;\n"]))),v=u.ZP.div(o||(o=(0,s.Z)(["\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n  &:hover {\n    svg {\n      path {\n        stroke: ",";\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.primary}));const b=function(e){var n=e.show,t=e.setShow,r=e.exludedPaths,a=(0,l.k6)(),i=(0,d.useState)(!1),o=(0,c.Z)(i,2),s=o[0],u=o[1],b=(0,d.useState)(""),y=(0,c.Z)(b,2),j=y[0],w=y[1],Z=(0,d.useState)(!1),D=(0,c.Z)(Z,2),Y=D[0],k=D[1],O=(0,d.useRef)(),P=function(){u(!1)};(0,d.useEffect)((function(){return O.current=a.block((function(e){if(n){if(r&&(null==r?void 0:r.length)>0&&r.includes(e.pathname))return;return w(e.pathname),u(!0),!1}})),function(){O.current&&O.current()}}),[n]),(0,d.useEffect)((function(){Y&&j&&(a.push(j),k(!1))}),[Y,j]);var M=(0,d.useCallback)((function(){t(!1),O&&O.current(),u(!1),k(!0)}),[]);return s?(0,f.jsx)(h,{className:"prompt-wrapper",children:(0,f.jsxs)(g,{children:[(0,f.jsx)(v,{onClick:P,children:(0,f.jsx)(p.Z,{})}),(0,f.jsx)("h3",{children:"Are you sure?"}),(0,f.jsx)("p",{children:"You haven't saved your changes, if you exit your changes will be lost"}),(0,f.jsxs)(x,{children:[(0,f.jsx)(m.z,{onClick:M,btnType:"ghost",size:"lg",children:"Ok"}),(0,f.jsx)(m.z,{onClick:P,btnType:"primary",size:"lg",children:"Cancel"})]})]})}):null}},7912:(e,n,t)=>{"use strict";t.d(n,{Z:()=>i});var r=t(7294),a=t(5893);const i=function(e){var n=e.size,t=e.color,i=e.className;return(0,a.jsx)(r.Fragment,{children:(0,a.jsx)("svg",{width:n||"1rem",className:i||"",height:n||"1rem",viewBox:"0 0 14 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M1 1L7 7L13 1",stroke:t||"#898989"})})})}},316:(e,n,t)=>{"use strict";t.d(n,{Z:()=>i});var r=t(7294),a=t(5893);const i=function(e){var n=e.size,t=e.color,i=e.className;return(0,a.jsx)(r.Fragment,{children:(0,a.jsx)("svg",{width:n||"1rem",height:n||"1rem",className:i||"",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6.08594 2.13281H5.90625C6.00508 2.13281 6.08594 2.05195 6.08594 1.95312V2.13281H12.9141V1.95312C12.9141 2.05195 12.9949 2.13281 13.0938 2.13281H12.9141V3.75H14.5312V1.95312C14.5312 1.16025 13.8866 0.515625 13.0938 0.515625H5.90625C5.11338 0.515625 4.46875 1.16025 4.46875 1.95312V3.75H6.08594V2.13281ZM17.4062 3.75H1.59375C1.19619 3.75 0.875 4.07119 0.875 4.46875V5.1875C0.875 5.28633 0.955859 5.36719 1.05469 5.36719H2.41133L2.96611 17.1143C3.00205 17.8802 3.63545 18.4844 4.40137 18.4844H14.5986C15.3668 18.4844 15.9979 17.8824 16.0339 17.1143L16.5887 5.36719H17.9453C18.0441 5.36719 18.125 5.28633 18.125 5.1875V4.46875C18.125 4.07119 17.8038 3.75 17.4062 3.75ZM14.4257 16.8672H4.57432L4.03076 5.36719H14.9692L14.4257 16.8672Z",fill:t||"#898989"})})})}},1826:(e,n,t)=>{"use strict";t.d(n,{Z:()=>i});var r=t(7294),a=t(5893);const i=function(e){var n=e.size,t=e.color,i=e.className;return(0,a.jsx)(r.Fragment,{children:(0,a.jsx)("svg",{width:n||"1rem",height:n||"1rem",className:i||"",viewBox:"0 0 24 24",fill:t||"#898989",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M20.41 4.94l-1.35-1.35c-.78-.78-2.05-.78-2.83 0L3 16.82V21h4.18L20.41 7.77c.79-.78.79-2.05 0-2.83zm-14 14.12L5 19v-1.36l9.82-9.82 1.41 1.41-9.82 9.83z"})})})}},8329:(e,n,t)=>{"use strict";t.d(n,{Z:()=>f});var r,a=t(168),i=t(4942),o=t(5987),s=t(7294),c=t(9163),d=t(3360),l=t(5893),u=["loading","disabled","children","style"];function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const f=function(e){var n=e.loading,t=e.disabled,r=e.children,a=e.style,i=(0,o.Z)(e,u);return(0,l.jsx)(s.Fragment,{children:(0,l.jsx)(h,p(p({},i),{},{disabled:t||n,style:a,children:n?(0,l.jsx)(d.$j,{size:"20px",type:"primary"===i.btnType||"secondary"===i.btnType||"ghost"===i.btnType?"white":"primary"}):r}))})};var h=c.ZP.button(r||(r=(0,a.Z)(["\n  background-color: ",";\n  height: ",";\n  color: ",";\n  border: 1px solid\n    ",";\n  user-select: none;\n  font-size: ",";\n  text-align: center;\n  justify-content: center;\n  font-weight: normal;\n  font-style: normal;\n  letter-spacing: 0.035em;\n  width: ",";\n  padding: 0 1.5rem;\n  border-radius: 4px;\n  margin: 0;\n  transition: background 300ms ease-in-out;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  text-align: center;\n  transition: all 150ms ease-in-out;\n  &:hover,\n  &:focus {\n    ",";\n  }\n  &:disabled {\n    color: ",";\n    border: transparent;\n    background-color: ",";\n  }\n  @media (max-width: 834px) {\n    height: ",";\n    font-size: 0.875rem;\n  }\n  @media (max-width: 480px) {\n    height: ",";\n    font-size: 0.75rem;\n  }\n"])),(function(e){var n=e.btnType,t=e.theme;return e.backgroundColor||("secondary"===n||"text"===n||"link"===n?t.colors.white:"ghost"===n?t.colors.light:t.colors.primary)}),(function(e){var n=e.btnSize;return"xl"===n?"48px":"lg"===n?"40px":"32px"}),(function(e){var n=e.btnType,t=e.theme;return e.disabled?t.colors.white:"secondary"===n||"link"===n?t.colors.primary:"ghost"===n||"text"===n?t.colors.dark:t.colors.white}),(function(e){var n=e.btnType,t=e.theme;return"secondary"===n||"primary"===n?t.colors.primary:"transparent"}),(function(e){return e.fontSize||"0.875rem"}),(function(e){return e.width||"fit-content"}),(function(e){var n=e.btnType,t=e.theme;return"primary"===n||"secondary"===n?"box-shadow: 0 0 1px 3px ".concat(t.shades.primary[3]):"ghost"===n?"background-color: #e6e6e6":null}),(function(e){return e.theme.colors.dark}),(function(e){return e.theme.colors.light}),(function(e){var n=e.btnSize;return"xl"===n||"lg"===n?"40px":"32px"}),(function(e){var n=e.btnSize;return"xl"===n?"32px":"lg"===n?"40px":"32px"}))},3137:(e,n,t)=>{"use strict";t.d(n,{Z:()=>c});var r=t(5861),a=t(7757),i=t.n(a),o=t(9669),s=t.n(o);const c=function(){var e=(0,r.Z)(i().mark((function e(n){var t,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",r="",e.prev=2,e.next=5,s().request(n);case 5:a=e.sent,o=a.data,t=o||"",e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),r=e.t0.response&&e.t0.response.data&&e.t0.response.data.error.message||"Something went wrong!";case 13:return e.abrupt("return",{data:t,error:r});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}()},4657:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var r=t(2982);const a=function(e){var n=e.daysInMonth(),t=e.startOf("month").format("d"),a=e.endOf("month").format("d"),i=parseInt(t),o=i?i-1:6,s=e.subtract(1,"month"),c=e.startOf("month").subtract(o,"day").date(),d=parseInt(a),l=e.add(1,"month"),u=d?7-d:d,m=(0,r.Z)(Array(n)).map((function(n,t){return{day:t+1,date:"".concat(e.format("YYYY"),"-").concat(e.format("MM"),"-").concat(t+1),isCurr:!0,events:[]}})),p=(0,r.Z)(Array(o)).map((function(e,n){return{day:c+n,date:"".concat(s.format("YYYY"),"-").concat(s.format("MM"),"-").concat(c+n),isCurr:!1,events:[]}}));return{getDatesforNextMonth:(0,r.Z)(Array(u)).map((function(e,n){return{day:n+1,date:"".concat(l.format("YYYY"),"-").concat(l.format("MM"),"-").concat(n+1),isCurr:!1,events:[]}})),getDatesForPrevMonth:p,getDatesForCurrMonth:m,weekdays:["mon","tue","wed","thu","fri","sat","sun"]}}},1358:(e,n,t)=>{"use strict";t.d(n,{G:()=>m});var r=t(5861),a=t(7757),i=t.n(a),o=t(9669),s=t.n(o),c=t(7484),d=t.n(c),l=t(178),u=t.n(l);d().extend(u());var m=function(){var e=(0,r.Z)(i().mark((function e(n){var t,r,a,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d()(n).startOf("year"),r=d()(n).endOf("year"),a=t.toISOString(),o=r.toISOString(),e.prev=4,e.next=7,s().get("/calendar".concat(a&&"?min=".concat(a)).concat(o&&"&max=".concat(o)));case 7:if(!(c=e.sent).data){e.next=12;break}return e.abrupt("return",c.data);case 12:return e.abrupt("return",null);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(4),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(n){return e.apply(this,arguments)}}()},8045:(e,n,t)=>{"use strict";t.d(n,{Z:()=>i});var r=t(885),a=t(7294);const i=function(){var e=(0,a.useState)(!1),n=(0,r.Z)(e,2),t=n[0],i=n[1],o=(0,a.useRef)(null),s=function(e){o&&o.current&&(o.current.contains(e.target)?i(!1):i(!0))};return(0,a.useEffect)((function(){if(o&&o.current)return document.addEventListener("mousedown",s,!0),function(){document.removeEventListener("mousedown",s,!0)}}),[o.current]),{isOutside:t,ref:o}}},6527:(e,n,t)=>{"use strict";t.d(n,{Z:()=>i});var r=t(885),a=t(7294);function i(e){var n=(0,a.useState)(e),t=(0,r.Z)(n,2),i=t[0],o=t[1],s=function(e){Object.defineProperty(window,"onbeforeunload",(function(n){return function(e,n){if(n){var t=e||window.event;return t.preventDefault(),t&&(t.returnValue=""),""}}(n,e)}))};return Object.defineProperty(window,"onload",(function(){s(i)})),(0,a.useEffect)((function(){s(i)}),[i]),{showExitPrompt:i,setShowExitPrompt:o}}},6044:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>a}),t(7294);var r=t(5893);const a=function(){return(0,r.jsx)("div",{className:"align-center",children:(0,r.jsx)("div",{children:(0,r.jsx)("h3",{className:"text-center",children:"This page could not be found"})})})}},7966:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>pn});var r,a,i=t(7484),o=t.n(i),s=t(7294),c=t(5977),d=t(6044),l=t(168),u=t(5861),m=t(2982),p=t(885),f=t(7757),h=t.n(f),g=t(8767),x=t(3727),v=t(9163),b=t(7912),y=t(2586),j=t(4657),w=t(736),Z=t(5893),D=function(e){return[{id:1,color:"rgba(121, 134, 203, ".concat(e,")")},{id:2,color:"rgba(51, 182, 121, ".concat(e,")")},{id:3,color:"rgba(142, 36, 170, ".concat(e,")")},{id:4,color:"rgba(230, 124, 115, ".concat(e,")")},{id:5,color:"rgba(246, 192, 38, ".concat(e,")")},{id:6,color:"rgba(245, 81, 29, ".concat(e,")")},{id:7,color:"rgba(3, 155, 229, ".concat(e,")")},{id:8,color:"rgba(97, 97, 97, ".concat(e,")")},{id:9,color:"rgba(63, 81, 181, ".concat(e,")")},{id:10,color:"rgba(11, 128, 67, ".concat(e,")")},{id:11,color:"rgba(214, 0, 0, ".concat(e,")")}]},Y=D(1),k=D(.2);const O=function(e){var n=e.event,t=e.date,r=e.setPopupData;return(0,Z.jsx)(s.Fragment,{children:(0,Z.jsx)(z,{children:(0,Z.jsx)(S,{onClick:function(e){r({data:n,date:t}),e.stopPropagation(),e.preventDefault()},className:"truncate",borderColor:n.colorId?Y[n.colorId-1].color:Y[6].color,backgroundColor:n.colorId?k[n.colorId-1].color:k[6].color,children:n.summary})})})};var P,M,T,C,S=v.ZP.p(r||(r=(0,l.Z)(["\n  cursor: pointer;\n  font-weight: 700;\n  display: block;\n  border-left: 3px solid ",";\n  font-size: 0.8rem;\n  background-color: ",";\n  padding: 0.5rem 0 0.5rem 1rem;\n  margin: 0.5rem 0 0;\n  @media (max-width: 1400px) {\n    padding: 0.2rem 0 0.2rem 1rem;\n  }\n"])),(function(e){return e.borderColor}),(function(e){return e.backgroundColor})),z=v.ZP.div(a||(a=(0,l.Z)(["\n  position: relative;\n"]))),E=t(2790),$=t(8045);const F=function(e){var n=e.events,t=e.date,r=e.setPopupData,a=(0,$.Z)(),i=a.isOutside,o=a.ref,c=(0,s.useState)(!1),d=(0,p.Z)(c,2),l=d[0],u=d[1];return(0,s.useEffect)((function(){u(!1)}),[i]),(0,Z.jsx)(s.Fragment,{children:(0,Z.jsxs)(H,{ref:o,children:[(0,Z.jsxs)(N,{onClick:function(){return u(!0)},children:[n.length-2," more"]}),(0,Z.jsx)(L,{show:l,children:l&&(0,Z.jsxs)(s.Fragment,{children:[(0,Z.jsx)(I,{children:(0,Z.jsx)("a",{onClick:function(){return u(!1)},children:(0,Z.jsx)(E.Z,{size:"0.875rem"})})}),n.map((function(e,n){return(0,Z.jsx)(O,{date:t,event:e,setPopupData:r},n)}))]})})]})})};var H=v.ZP.div(P||(P=(0,l.Z)(["\n  display: block;\n  position: relative;\n"]))),N=v.ZP.a(M||(M=(0,l.Z)(["\n  padding-left: 0.5rem;\n  font-weight: 700;\n  width: 100%;\n  display: block;\n  transition: all ease-in-out 300ms;\n  &:hover {\n    background-color: ",";\n  }\n  @media (max-width: 1400px) {\n    font-size: 0.7rem;\n  }\n"])),(function(e){return e.theme.shades.primary[3]})),I=v.ZP.div(T||(T=(0,l.Z)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  a {\n    border-radius: 50%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0.5rem;\n    &:hover {\n      background-color: #eee;\n    }\n  }\n"]))),L=v.ZP.div(C||(C=(0,l.Z)(["\n  display: block;\n  position: absolute;\n  width: 100%;\n  height: fit-content;\n  bottom: 0;\n  background-color: white;\n  border-radius: 6px;\n  box-shadow: 0 0 15px 1px rgb(0 0 0 / 20%);\n  padding: 0.5rem;\n  z-index: 1;\n  visibility: ",";\n  transform: scale(",");\n  transition: transform ease-in-out 200ms;\n"])),(function(e){return e.show?"visible":"hidden"}),(function(e){return e.show?1:.9})),q=t(3137),V=function(){var e=(0,u.Z)(h().mark((function e(n){var t,r,a,i,o,s,c,d,l,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.summary,i=n.description,o=n.location,s=n.start,c=n.end,d=n.colorId,e.prev=1,l={method:"POST",url:"/calendar",data:{summary:a,description:i,location:o,start:s,end:c,colorId:d}},e.next=5,(0,q.Z)(l);case 5:return u=e.sent,t=u.data,r=u.error,e.abrupt("return",{data:t,error:r});case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{data:void 0,error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}(),Q=function(){var e=(0,u.Z)(h().mark((function e(n){var t,r,a,i,o,s,c,d,l,u,m;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.id,i=n.summary,o=n.description,s=n.location,c=n.start,d=n.end,l=n.colorId,e.prev=1,u={method:"PATCH",url:"/calendar",data:{id:a,summary:i,description:o,location:s,start:c,end:d,colorId:l}},e.next=5,(0,q.Z)(u);case 5:return m=e.sent,t=m.data,r=m.error,e.abrupt("return",{data:t,error:r});case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{data:void 0,error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}(),U=function(){var e=(0,u.Z)(h().mark((function e(n){var t,r,a,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={method:"DELETE",url:"/calendar",data:{id:n}},e.next=4,(0,q.Z)(a);case 4:return i=e.sent,t=i.data,r=i.error,e.abrupt("return",{data:t,error:r});case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{data:void 0,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),A=t(9245),B=t(3360),_=t(5438),R=t(316);const G=function(e){var n=e.size,t=e.color,r=e.className;return(0,Z.jsx)(s.Fragment,{children:(0,Z.jsxs)("svg",{width:n||"1rem",height:n||"1rem",className:r||"",viewBox:"0 0 24 24",fill:t||"#898989",xmlns:"http://www.w3.org/2000/svg",children:[(0,Z.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zM7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.88-2.88 7.19-5 9.88C9.92 16.21 7 11.85 7 9z"}),(0,Z.jsx)("circle",{cx:"12",cy:"9",r:"2.5"})]})})};var W,X,J,K,ee=t(1826),ne=t(3308);const te=function(e){var n=e.event,t=e.handleDelete,r=e.setPopupData,a=n.data,i=n.date;return(0,Z.jsx)(s.Fragment,{children:(0,Z.jsx)(le,{className:"popup-wrapper",children:(0,Z.jsx)(ue,{className:"event-details",children:(0,Z.jsxs)(s.Fragment,{children:[(0,Z.jsxs)(me,{children:[(0,Z.jsx)(x.rU,{"data-test-id":"popup-edit",to:{pathname:"/calendar/event/edit",state:{data:a,date:i}},children:(0,Z.jsx)("span",{children:(0,Z.jsx)(ee.Z,{size:"1.2rem"})})}),(0,Z.jsx)("span",{"data-test-id":"popup-delete",onClick:function(){return t(a.id)},children:(0,Z.jsx)(R.Z,{size:"1.2rem"})}),(0,Z.jsx)("span",{"data-test-id":"popup-close",onClick:function(e){r(null)},children:(0,Z.jsx)(E.Z,{size:"0.875rem"})})]}),(0,Z.jsxs)(pe,{children:[(0,Z.jsxs)("li",{children:[(0,Z.jsx)("span",{}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)("h3",{children:a.summary&&a.summary}),(0,Z.jsxs)("p",{children:[a.start&&a.start.dateTime?o()(a.start.dateTime).format("MMM DD YYYY, h:mm a"):a.start.date?o()(a.start.date).format("MMM DD YYYY"):null,a.end&&(0,Z.jsxs)(s.Fragment,{children:[" - ",a.end.dateTime?o()(a.end.dateTime).format("MMM DD YYYY, h:mm a"):a.end.date?o()(a.end.date).format("MMM DD YYYY"):null]})]})]})]}),a.location&&(0,Z.jsxs)("li",{children:[(0,Z.jsx)("span",{children:(0,Z.jsx)(G,{size:"1.3rem"})}),(0,Z.jsx)("p",{children:a.location})]}),a.description&&(0,Z.jsxs)("li",{children:[(0,Z.jsx)("span",{style:{paddingTop:"0.25rem"},children:(0,Z.jsx)(ne.Z,{size:"1.1rem"})}),(0,Z.jsx)("p",{dangerouslySetInnerHTML:{__html:a.description}})]})]})]})})})})};var re,ae,ie,oe,se,ce,de,le=v.ZP.div(W||(W=(0,l.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  background-color: ",";\n"])),(function(e){return e.theme.shades.dark[3]})),ue=v.ZP.div(X||(X=(0,l.Z)(["\n  width: 500px;\n  height: 90vh;\n  background-color: white;\n  border-radius: 6px;\n  box-shadow: 0px 24px 38px 3px rgb(0 0 0 / 10%),\n    0px 9px 46px 8px rgb(0 0 0 / 12%), 0px 11px 15px -7px rgb(0 0 0 / 20%);\n  z-index: 10;\n  margin: auto;\n  transition: transform ease-in-out 100ms opacity ease-in-out 500ms;\n"]))),me=v.ZP.div(J||(J=(0,l.Z)(["\n  display: flex;\n  justify-content: end;\n  margin: 0.5rem;\n\n  span {\n    height: 30px;\n    width: 30px;\n    margin-left: 0.2rem;\n    margin-right: 0.2rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    cursor: pointer;\n    transition: all ease-in-out 300ms;\n    &:hover {\n      background-color: #eee;\n    }\n  }\n"]))),pe=v.ZP.ul(K||(K=(0,l.Z)(["\n  max-height: 500px;\n  overflow-y: auto;\n  padding: 0.5rem 1rem 0.5rem 0.5rem;\n  li {\n    display: grid;\n    grid-template-columns: 40px auto;\n    margin-bottom: 0.875rem;\n    span {\n      word-break: break-word;\n      display: flex;\n      justify-content: center;\n      margin-top: 0.2rem;\n    }\n    p {\n      word-break: break-word;\n      margin: 0.1rem 0;\n    }\n    div {\n      margin: 0;\n      h3 {\n        word-break: break-word;\n        margin: 0;\n        text-transform: none;\n      }\n    }\n  }\n"])));const fe=function(){var e=(0,c.UO)(),n=e.year,t=e.month,r=e.day,a=(0,c.k6)(),i=o()("".concat(n,"/").concat(t,"/").concat(r));if(!i.isValid())return a.push("/calendar/view/".concat(o()().format("YYYY/MM/DD"))),(0,Z.jsx)(Z.Fragment,{});var d=(0,s.useState)(null),l=(0,p.Z)(d,2),f=l[0],v=l[1],D=(0,A.d)().setNotify,Y=(0,g.useQueryClient)(),k=(0,w.e)(n),P=k.data,M=k.isLoading,T=k.isError,C=k.error,S=(0,j.Z)(i),z=S.getDatesForCurrMonth,E=S.getDatesForPrevMonth,$=S.getDatesforNextMonth,H=S.weekdays,N=function(e){"next"===e?a.push("/calendar/view/".concat(i.add(1,"month").startOf("month").format("YYYY/MM/DD"))):a.push("/calendar/view/".concat(i.subtract(1,"month").startOf("month").format("YYYY/MM/DD")))},I=[].concat((0,m.Z)(E),(0,m.Z)(z),(0,m.Z)($)),L=function(){var e=(0,u.Z)(h().mark((function e(n){var t,r,a,o,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P,r=i.format("YYYY"),t&&(a=t.filter((function(e){return e.id!==n})),Y.setQueryData(["calendar",r],a)),e.next=5,U(n);case 5:o=e.sent,s=o.data,o.error,s||(Y.setQueryData(["calendar",i.format("YYYY")],t),D({type:"danger",heading:"Err!",message:"Failed to delete event"})),v(null);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return P&&P.forEach((function(e){var t;if(e.start&&(t=e.start.dateTime?e.start.dateTime.split("T")[0]:e.start.date?e.start.date:null)&&o()(t).format("YYYY")===n){var r=I.findIndex((function(e){return e.date==o()(t).format("YYYY-MM-D")}));-1!==r&&I[r].events.push(e)}})),(0,Z.jsx)(s.Fragment,{children:(0,Z.jsx)(ye,{children:(0,Z.jsxs)(s.Fragment,{children:[(0,Z.jsxs)(we,{children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)("h2",{children:"Manage your Daily Tasks"}),P&&(0,Z.jsx)(x.rU,{to:{pathname:"/calendar/event/new",state:{date:i}},children:(0,Z.jsx)(_.Q,{"data-test-id":"add-event",children:" Add Event"})})]}),(0,Z.jsxs)("div",{children:[(0,Z.jsx)(x.rU,{to:"/calendar/view/".concat(o()().format("YYYY/MM/DD")),children:(0,Z.jsx)(_.Q,{children:" Today"})}),(0,Z.jsx)(Ze,{"data-test-id":"calendar-prev",style:{transform:"rotateZ(90deg)",marginLeft:"0.6rem"},onClick:function(){return N("prev")},children:(0,Z.jsx)(b.Z,{})}),(0,Z.jsx)(Ze,{style:{transform:"rotateZ(270deg)",marginRight:"0.6rem"},onClick:function(){return N("next")},"data-test-id":"calendar-next",children:(0,Z.jsx)(b.Z,{})}),(0,Z.jsx)("h3",{"data-test-id":"calendar-current",children:o()(i).format("MMMM YYYY")})]})]}),M&&!P?(0,Z.jsx)("div",{className:"align-center",style:{height:"30vh"},children:(0,Z.jsx)(B.$j,{size:"40px",type:"primary"})}):T?(0,Z.jsx)(Z.Fragment,{children:C.response&&"invalid_grant"===C.response.data.error.message?(0,Z.jsx)(y.Z,{show:T,type:"warning",heading:"Oops",message:"Your calendar token was expired please relogin.",redirect:"/logout"}):(0,Z.jsx)("div",{className:"align-center",style:{height:"30vh"},children:(0,Z.jsx)("h3",{children:"Failed to Fetch Calendar"})})}):(0,Z.jsxs)("div",{id:"calendarWrapper",children:[f&&(0,Z.jsx)(te,{event:f,setPopupData:v,handleDelete:L}),(0,Z.jsx)(je,{children:H.map((function(e,n){return(0,Z.jsx)("li",{children:e},n)}))}),(0,Z.jsx)(De,{children:I.map((function(e,n){return(0,Z.jsxs)(Ye,{today:o()().isSame(e.date.toString(),"day"),"data-test-id":(o()().isSame(e.date.toString()),"active"),children:[(0,Z.jsx)(ke,{currentMonth:e.isCurr,children:e.isCurr?e.day:o()(e.date).format("MMMM")+" "+e.day}),e.events.length>0&&(0,Z.jsxs)("div",{children:[e.events.map((function(n,t){return t<2&&(0,Z.jsx)(O,{date:e.date,event:n,setPopupData:v},t)})),e.events.length>2&&(0,Z.jsx)(F,{date:e.date,events:e.events,setPopupData:v})]})]},n)}))})]})]})})})};var he,ge,xe,ve,be,ye=v.ZP.div(re||(re=(0,l.Z)(["\n  padding: 0 1.5rem;\n"]))),je=v.ZP.ol(ae||(ae=(0,l.Z)(["\n  display: grid;\n  grid-template-columns: repeat(7, 14.29%);\n  align-items: center;\n  justify-items: center;\n  border-bottom: 1px solid #e7e7e7;\n  li {\n    user-select: none;\n    text-transform: uppercase;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    font-size: 0.9rem;\n    font-weight: 700;\n    width: 100%;\n    height: 6vh;\n    color: rgba(107, 107, 107, 1);\n    border-left: 1px solid #e7e7e7;\n    &:nth-child(7) {\n      border-right: 1px solid #e7e7e7;\n    }\n  }\n  @media (max-width: 1400px) {\n    li {\n      font-size: 0.8rem;\n    }\n  }\n"]))),we=v.ZP.div(ie||(ie=(0,l.Z)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid #e7e7e7;\n  padding: 2rem 0 1.5rem;\n  div {\n    display: flex;\n    align-items: center;\n    h2 {\n      margin-bottom: 0;\n      margin-right: 1rem;\n    }\n    h3 {\n      width: 150px;\n      margin-bottom: 0;\n      font-size: 1rem;\n    }\n  }\n"]))),Ze=v.ZP.button(oe||(oe=(0,l.Z)(["\n  width: 30px;\n  height: 30px;\n  margin: 0 0.2rem;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all ease-in-out 300ms;\n  &:hover {\n    background-color: ",";\n  }\n  svg {\n    path {\n      stroke-width: 1.6;\n    }\n  }\n"])),(function(e){return e.theme.shades.primary[4]})),De=v.ZP.ol(se||(se=(0,l.Z)(["\n  display: grid;\n  grid-template-columns: repeat(7, 14.29%);\n  align-items: center;\n  justify-items: center;\n  margin-bottom: 3rem;\n"]))),Ye=v.ZP.li(ce||(ce=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  font-size: 1rem;\n  font-weight: 700;\n  width: 100%;\n  height: 150px;\n  border-left: 1px solid #e7e7e7;\n\n  border-bottom: 1px solid #e7e7e7;\n  background-color: ",";\n  position: relative;\n  &:nth-of-type(7n) {\n    border-right: 1px solid #e7e7e7;\n  }\n  @media (max-width: 1400px) {\n    height: 120px;\n\n    font-size: 0.8rem;\n  }\n"])),(function(e){return e.today&&"#F4F4F6"})),ke=v.ZP.h3(de||(de=(0,l.Z)(["\n  text-transform: uppercase;\n  font-size: 1rem;\n  color: ",";\n  margin-left: 1rem;\n  margin-top: 1rem;\n  margin-bottom: 0;\n  @media (max-width: 1400px) {\n    font-size: 0.8rem;\n  }\n"])),(function(e){return e.currentMonth?"#6B6B6B":"rgba(107, 107, 107, 0.5)"})),Oe=t(4942),Pe=t(2283),Me=t(2537);function Te(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ce(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Te(Object(t),!0).forEach((function(n){(0,Oe.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Te(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Se=function(e){var n=e.name,t=e.options,r=(0,s.useState)(!1),a=(0,p.Z)(r,2),i=a[0],o=a[1],c=(0,$.Z)(),d=c.isOutside,l=c.ref,u=(0,Pe.Gc)(),m=u.register,f=u.watch;return(0,s.useEffect)((function(){o(!1)}),[d]),(0,Z.jsx)(s.Fragment,{children:(0,Z.jsxs)(He,{ref:l,"data-test-id":"color-picker",children:[(0,Z.jsxs)(Ne,{children:[(0,Z.jsx)("p",{children:"Colour"}),(0,Z.jsxs)(Ie,{onClick:function(){o(!i)},children:[(0,Z.jsx)("span",{style:{background:t[f(n)-1].color}}),(0,Z.jsx)(b.Z,{size:"1rem"})]})]}),(0,Z.jsx)(Le,{open:i,children:t.map((function(e){return(0,Z.jsx)(qe,{"data-test-id":e.color,style:{background:e.color},children:(0,Z.jsx)("input",Ce(Ce({},m(n)),{},{type:"radio",value:e.id,id:e.id.toString(),name:n}))},e.id)}))})]})})};var ze,Ee,$e,Fe,He=v.ZP.div(he||(he=(0,l.Z)(["\n  display: inline-flex;\n  position: relative;\n"]))),Ne=v.ZP.div(ge||(ge=(0,l.Z)(["\n  display: flex;\n  align-items: center;\n  p {\n    font-size: 1rem;\n    margin-right: 1rem;\n  }\n"]))),Ie=v.ZP.div(xe||(xe=(0,l.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background-color: #eee;\n  padding: 0.4rem 1rem;\n  border-radius: 6px;\n  width: 100px;\n  cursor: pointer;\n  span {\n    height: 30px;\n    width: 30px;\n    display: block;\n    border-radius: 50%;\n  }\n"]))),Le=v.ZP.div(ve||(ve=(0,l.Z)(["\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-gap: 0.5rem;\n  position: absolute;\n  width: fit-content;\n  height: fit-content;\n  padding: 1rem;\n  border-radius: 6px;\n  background-color: #fff;\n  top: 0;\n  left: 75px;\n  bottom: 0;\n  margin: auto;\n  box-shadow: 0 0 15px 2px rgb(0 0 0 / 20%);\n  transition: transform ease-in-out 200ms, opacity ease-in-out 100ms,\n    visibility ease-in-out 300ms;\n  transform: translateX(",");\n  visibility: ",";\n  opacity: ",";\n  label {\n    transition: opacity ease-in-out 500ms;\n    opacity: ",";\n  }\n"])),(function(e){return e.open?"120px":0}),(function(e){return e.open?"visible":"hidden"}),(function(e){return e.open?1:0}),(function(e){return e.open?1:0})),qe=v.ZP.label(be||(be=(0,l.Z)(["\n  position: relative;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n\n  &:hover {\n    transition: transform ease-in-out 300ms;\n    transform: scale(1.1);\n  }\n  input {\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n    height: 100%;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n  }\n"]))),Ve=t(8329),Qe=t(5934),Ue=t(7561),Ae=Ue.Z_().required("Required"),Be=Ue.Z_().test("empty / url","Enter correct url",(function(e){return!(e&&!e.match(/((https?):\/\/)?(www.)?[a-z0-9]+(\.[a-z]{2,}){1,3}(#?\/?[a-zA-Z0-9#]+)*\/?(\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/))})),_e=Ue.hT().typeError("Invaild date"),Re=Ue.Z_().test("empty-or-date","Invalid Date",(function(e){return!e||o()(e).isValid()})).test("should be greater","End date should be greater than start date",(function(e,n){var t=n.parent.startTime,r=n.parent.endTime,a=parseInt(t.split(":")[0]),i=parseInt(t.split(":")[1]),s=parseInt(r.split(":")[0]),c=parseInt(r.split(":")[1]),d=o()(n.parent.startDate),l=o()(e);return e&&e.length>0&&!t?l.diff(d)>=0:!(e&&e.length>0&&t&&r)||l.hour(s).minute(c).diff(d.hour(a).minute(i))>0})),Ge=Ue.Z_().test("Start Date is Req","Start Date is required with time",(function(e,n){if(e&&e.length>0){var t=n.parent.startDate;return!!o()(t).isValid()}return!0})),We=Ue.Z_().test("End Date is Req","End Date is required with time",(function(e,n){if(e&&e.length>0){var t=n.parent.endDate;return!!o()(t).isValid()}return!0})).test("Start time required","Start time is required",(function(e,n){var t=n.parent.startTime;return!(e&&e.length>0&&!t)})),Xe=Ue.Rx().min(1).max(11),Je=Ue.Ry().shape({summary:Ae,startDate:_e,endDate:Re,startTime:Ge,endTime:We,location:Be,color:Xe}),Ke=t(8834),en=t(6527),nn=t(2201),tn=t(1358),rn=t(732);function an(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function on(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?an(Object(t),!0).forEach((function(n){(0,Oe.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):an(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var sn=[{id:1,color:"#7986cb"},{id:2,color:"#33b679"},{id:3,color:"#8e24aa"},{id:4,color:"#e67c73"},{id:5,color:"#f6c026"},{id:6,color:"#f5511d"},{id:7,color:"#039be5"},{id:8,color:"#616161"},{id:9,color:"#3f51b5"},{id:10,color:"#0b8043"},{id:11,color:"#d60000"}];const cn=function(e){var n=e.location,t=(0,s.useState)(null),r=(0,p.Z)(t,2),a=r[0],i=r[1],d=(0,g.useQueryClient)(),l=(0,c.k6)(),m=(0,c.UO)().type,f=n.state&&n.state.data,v=n.state&&o()(n.state.date).format("YYYY/MM/DD"),b=o()(v).format("YYYY"),y=(0,A.d)().setNotify,j=(0,en.Z)(!1),w=j.showExitPrompt,D=j.setShowExitPrompt;(0,s.useEffect)((function(){var e=d.getQueryData(["calendar",b]);if(e||"new"===m)return i(e||[]),function(){D(!1)};v?l.push("/calendar/view/".concat(v)):l.push("/calendar/view/".concat(o()().format("YYYY/MM/DD")))}),[]),(0,s.useEffect)((function(){"new"===m||f||l.push("/calendar/view/".concat(v))}),[f]);var Y=f&&f.start&&f.start.dateTime?o()(f.start.dateTime).format("HH:mm"):void 0,k=f&&f.end&&f.end.dateTime?o()(f.end.dateTime).format("HH:mm"):void 0,O=f&&f.start?f.start.dateTime&&o()(f.start.dateTime).format("YYYY-MM-DD")||f.start.date&&f.start.date:o()().format("YYYY-MM-DD"),P=f&&f.end?f.end.dateTime&&o()(f.end.dateTime).format("YYYY-MM-DD")||f.end.date&&f.end.date:o()().format("YYYY-MM-DD"),M={summary:f&&f.summary||"",location:f&&f.location||"",startDate:O,startTime:Y,endDate:P,endTime:k,color:f&&f.colorId||1,description:f&&f.description||""},T=(0,Pe.cI)({mode:"onBlur",defaultValues:M,resolver:(0,Ke.X)(Je)}),C=T.handleSubmit,S=T.watch,z=T.setValue,$=T.trigger,F=T.clearErrors,H=T.reset,N=T.formState,I=N.isSubmitting,L=N.isDirty,q=N.isValid,U=N.isSubmitted,_=S(["startDate","endDate","startTime","endTime"]),R=function(e){"start"===e?(z("startDate",""),z("startTime",""),F("startTime")):(z("endDate",""),z("endTime",""),F(["endDate","endTime"]))};(0,s.useEffect)((function(){var e=S((function(){$(["startDate","endDate","startTime","endTime"])}));return function(){return e.unsubscribe()}}),[S]),(0,s.useEffect)((function(){D(!(!L&&q&&!I))}),[q,L,I]);var G=function(){var e=(0,u.Z)(h().mark((function e(n){var t,r,i,s,c,l,u,p,g,x,v,j,w,Z,D,Y;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.startTime&&n.startTime.split(":"),r=n.endTime&&n.endTime.split(":"),i=on(on({},n.startDate&&!n.startTime&&{date:o()(n.startDate).format("YYYY-MM-DD")}),n.startDate&&n.startTime&&{dateTime:o()(n.startDate).hour(parseInt(t[0])).minute(parseInt(t[1])).toISOString()}),s=on(on({},n.endDate&&!n.endTime&&{date:o()(n.endDate).format("YYYY-MM-DD")}),n.endDate&&n.endTime&&{dateTime:o()(n.endDate).hour(parseInt(r[0])).minute(parseInt(r[1])).toISOString()}),c=/(<([^>]+)>)/gi,l=!!n.description.replace(c,"").length,u={summary:n.summary,location:n.location,start:i,end:s,description:l?n.description:"",colorId:n.color},p=o()(n.startDate).format("YYYY"),g=!1,f&&"new"!==m){e.next=35;break}return e.next=12,V(u);case 12:if(x=e.sent,v=x.data,x.error,!v){e.next=31;break}if(p!==b){e.next=21;break}a.push(v),d.setQueryData(["calendar",b],a),e.next=28;break;case 21:if(j=d.getQueryData(["calendar",p])){e.next=26;break}return e.next=25,d.fetchQuery(["calendar",p],(function(){return(0,tn.G)(p)}));case 25:j=e.sent;case 26:j.push(v),d.setQueryData(["calendar",p],j);case 28:g=!0,e.next=33;break;case 31:y({type:"danger",heading:"Err!",message:"Failed to add event"}),g=!1;case 33:e.next=61;break;case 35:return e.next=37,Q(on({id:f.id},u));case 37:if(w=e.sent,Z=w.data,w.error,!Z){e.next=59;break}if(D=a.findIndex((function(e){return e.id===f.id})),p!==b){e.next=47;break}a.splice(D,1,Z),d.setQueryData(["calendar",b],a),e.next=56;break;case 47:if(a.splice(D,1),d.setQueryData(["calendar",b],a),Y=d.getQueryData(["calendar",p])){e.next=54;break}return e.next=53,d.fetchQuery(["calendar",p],(function(){return(0,tn.G)(p)}));case 53:Y=e.sent;case 54:Y.push(Z),d.setQueryData(["calendar",p],Y);case 56:g=!0,e.next=61;break;case 59:y({type:"danger",heading:"Err!",message:"Failed to update event"}),g=!1;case 61:return g&&H({},{keepValues:!0}),e.abrupt("return");case 63:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return"new"===m||f?(0,Z.jsxs)(s.Fragment,{children:[(0,Z.jsx)(rn.Z,{show:w,setShow:D}),(0,Z.jsxs)(un,{children:[(0,Z.jsx)(x.rU,{"data-test-id":"go-back",to:"/calendar/view/".concat(v),children:(0,Z.jsx)(E.Z,{size:"1.2rem"})}),(0,Z.jsx)("h1",{children:"new"!==m?"Edit Event":"New Event"})]}),(0,Z.jsxs)(dn,{children:[(0,Z.jsx)(Pe.RV,on(on({},T),{},{children:(0,Z.jsxs)("form",{id:"claendarForm",onSubmit:C(G),children:[(0,Z.jsx)("div",{className:"mb-2",children:(0,Z.jsx)(Me.Z,{name:"summary",label:"Title"})}),(0,Z.jsx)("div",{className:"mb-2",children:(0,Z.jsx)(Me.Z,{name:"location",label:"Location"})}),(0,Z.jsxs)(ln,{columns:"50% 30% 20%",className:"mb-2",children:[(0,Z.jsx)("div",{children:(0,Z.jsx)(Me.Z,{name:"startDate",label:"Start date",type:"date"})}),(0,Z.jsx)("div",{children:(0,Z.jsx)(Me.Z,{name:"startTime",label:"Start time",type:"time"})}),(0,Z.jsx)(mn,{children:(_[0]||_[2])&&(0,Z.jsx)("span",{onClick:function(){return R("start")},children:"Clear"})}),(0,Z.jsx)("div",{children:(0,Z.jsx)(Me.Z,{name:"endDate",label:"End date",type:"date"})}),(0,Z.jsx)("div",{children:(0,Z.jsx)(Me.Z,{name:"endTime",label:"End time",type:"time"})}),(0,Z.jsx)(mn,{children:(_[1]||_[3])&&(0,Z.jsx)("span",{onClick:function(){return R("end")},children:"Clear"})})]}),(0,Z.jsx)("div",{className:"mb-2",children:(0,Z.jsx)(Se,{name:"color",options:sn})}),(0,Z.jsxs)("div",{className:"mb-2",children:[(0,Z.jsx)("label",{children:"Description"}),(0,Z.jsx)(nn.Z,{name:"description"})]})]})})),(0,Z.jsx)(Qe.Mf,{children:(0,Z.jsx)(Ve.Z,{btnType:"primary",size:"lg",width:"150px",type:"submit",disabled:I||!q||!L,loading:I,form:"claendarForm",children:f||U?"Update":"Create"})})]})]}):(0,Z.jsx)("div",{className:"align-center",style:{height:"100vh"},children:(0,Z.jsx)(B.$j,{size:"40px",type:"primary"})})};var dn=v.ZP.div(ze||(ze=(0,l.Z)(["\n  padding: 1rem;\n  max-width: 700px;\n"]))),ln=v.ZP.div(Ee||(Ee=(0,l.Z)(["\n  display: grid;\n  grid-template-columns: ",";\n  grid-gap: 1rem;\n  align-items: top;\n"])),(function(e){return e.columns})),un=v.ZP.div($e||($e=(0,l.Z)(["\n  display: flex;\n  align-items: center;\n  margin: 1rem 1rem;\n  padding: 1.5rem 0;\n  border-bottom: 1px solid #e7e7e7;\n  h1 {\n    margin-bottom: 0;\n  }\n  a {\n    margin-right: 1.5rem;\n  }\n"]))),mn=v.ZP.div(Fe||(Fe=(0,l.Z)(["\n  display: flex;\n  align-items: flex-start;\n\n  span {\n    display: inline-flex;\n    margin-top: 2rem;\n    font-size: 0.875rem;\n    cursor: pointer;\n    background-color: #eee;\n    padding: 0.3rem 1rem;\n    border-radius: 6px;\n    transition: background-color 300ms ease-in-out;\n    &:hover {\n      background-color: #ddd;\n    }\n  }\n"])));const pn=function(){var e=(0,c.$B)(),n=e.path,t=e.url,r=o()().format("YYYY/MM/DD");return(0,Z.jsx)(s.Fragment,{children:(0,Z.jsxs)(c.rs,{children:[(0,Z.jsx)(c.l_,{exact:!0,from:t||t+"/view",to:{pathname:"".concat(n,"/view/").concat(r)}}),(0,Z.jsx)(c.AW,{exact:!0,path:"".concat(n,"/view/:year?/:month?/:day?"),component:fe}),(0,Z.jsx)(c.AW,{exact:!0,path:"".concat(n,"/event/:type"),component:cn}),(0,Z.jsx)(c.AW,{component:d.default})]})})}},736:(e,n,t)=>{"use strict";t.d(n,{e:()=>i});var r=t(1358),a=t(3106),i=function(e){return(0,a.Z)(["calendar",e],(function(){return(0,r.G)(e)}),!0,{keepPreviousData:!0})}},5934:(e,n,t)=>{"use strict";t.d(n,{pJ:()=>d,n5:()=>l,Mf:()=>u,dp:()=>m});var r,a,i,o,s=t(168),c=t(9163),d=c.ZP.div(r||(r=(0,s.Z)(["\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-gap: 1.5rem;\n  margin: 1.5rem 0;\n  width: 100%;\n\n  @media (max-width: 480px) {\n    grid-template-columns: repeat(1, 1fr);\n  }\n"]))),l=c.ZP.div(a||(a=(0,s.Z)(["\n  width: 100%;\n  height: 100%;\n  margin-bottom: 3rem;\n"]))),u=c.ZP.div(i||(i=(0,s.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n"]))),m=c.ZP.div(o||(o=(0,s.Z)(["\n  font-size: 0.8rem;\n  color: ",";\n"])),(function(e){return e.theme.colors.danger}))},178:function(e){e.exports=function(){"use strict";var e="minute",n=/[+-]\d\d(?::?\d\d)?/g,t=/([+-]|\d\d)/g;return function(r,a,i){var o=a.prototype;i.utc=function(e){return new a({date:e,utc:!0,args:arguments})},o.utc=function(n){var t=i(this.toDate(),{locale:this.$L,utc:!0});return n?t.add(this.utcOffset(),e):t},o.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var s=o.parse;o.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),s.call(this,e)};var c=o.init;o.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else c.call(this)};var d=o.utcOffset;o.utcOffset=function(r,a){var i=this.$utils().u;if(i(r))return this.$u?0:i(this.$offset)?d.call(this):this.$offset;if("string"==typeof r&&null===(r=function(e){void 0===e&&(e="");var r=e.match(n);if(!r)return null;var a=(""+r[0]).match(t)||["-",0,0],i=a[0],o=60*+a[1]+ +a[2];return 0===o?0:"+"===i?o:-o}(r)))return this;var o=Math.abs(r)<=16?60*r:r,s=this;if(a)return s.$offset=o,s.$u=0===r,s;if(0!==r){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(o+c,e)).$offset=o,s.$x.$localOffset=c}else s=this.utc();return s};var l=o.format;o.format=function(e){var n=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,n)},o.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*e},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var u=o.toDate;o.toDate=function(e){return"s"===e&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var m=o.diff;o.diff=function(e,n,t){if(e&&this.$u===e.$u)return m.call(this,e,n,t);var r=this.local(),a=i(e).local();return m.call(r,a,n,t)}}}()}}]);
//# sourceMappingURL=966.bundle.js.map