(self.webpackChunkuser_dashboard=self.webpackChunkuser_dashboard||[]).push([[963],{7023:(n,e,t)=>{"use strict";t.d(e,{Z:()=>s});var r=t(7294),i=t(5893);const s=function(n){var e=n.size,t=n.color,s=n.className;return(0,i.jsx)(r.Fragment,{children:(0,i.jsx)("svg",{width:e||"1rem",className:s||"",height:e||"1rem",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M5.66732 11.0007C6.85064 11.0004 7.99985 10.6043 8.93198 9.87532L11.8627 12.806L12.8053 11.8633L9.87465 8.93265C10.604 8.00043 11.0004 6.85094 11.0007 5.66732C11.0007 2.72665 8.60798 0.333984 5.66732 0.333984C2.72665 0.333984 0.333984 2.72665 0.333984 5.66732C0.333984 8.60798 2.72665 11.0007 5.66732 11.0007ZM5.66732 1.66732C7.87332 1.66732 9.66732 3.46132 9.66732 5.66732C9.66732 7.87332 7.87332 9.66732 5.66732 9.66732C3.46132 9.66732 1.66732 7.87332 1.66732 5.66732C1.66732 3.46132 3.46132 1.66732 5.66732 1.66732Z",fill:t||"#898989"})})})}},999:(n,e,t)=>{"use strict";t.d(e,{Z:()=>l});var r,i=t(168),s=t(7294),a=t(9163),o=t(5893);const l=function(n){var e=n.show,t=n.children;return(0,o.jsx)(s.Fragment,{children:e&&(0,o.jsx)(c,{children:t})})};var c=a.ZP.div(r||(r=(0,i.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  background-color: ",";\n"])),(function(n){return n.theme.shades.dark[3]}))},704:(n,e,t)=>{"use strict";t.d(e,{Z:()=>d});var r=t(5861),i=t(7757),s=t.n(i),a=t(9669),o=t.n(a),l=t(8767),c=t(5454);const d=function(n,e,t){var i=(0,c.a)(),a=i.user,d=i.token,u=a&&a.ref,m=function(){var n=(0,r.Z)(s().mark((function n(){var r,i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o().get(e,{params:t});case 2:return r=n.sent,i=r.data,n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,l.useQuery)(n,m,{enabled:!!d&&!!u})}},5824:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>M});var r=t(168),i=t(885),s=t(7484),a=t.n(s),o=t(4110),l=t.n(o),c=t(7294),d=t(5977),u=t(9163),m=t(2790),h=t(999),p=t(5893);const x=function(n){var e=n.size,t=n.color,r=n.className;return(0,p.jsx)(c.Fragment,{children:(0,p.jsx)("svg",{width:e||"1rem",height:e||"1rem",className:r||"",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{fill:t||"#898989",d:"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"})})})};var g,f=t(7023);const v=function(n){var e=n.placeholder,t=n.value,r=n.setValue,i=n.handleSubmit,s=n.style;return(0,p.jsxs)(Z,{style:s,children:[(0,p.jsx)("span",{className:"icon",children:(0,p.jsx)(f.Z,{})}),(0,p.jsx)("input",{name:"search",type:"text",placeholder:e||"Search",value:t,onChange:function(n){return r(n.target.value)},onKeyPress:function(n){"Enter"===n.key&&(n.target.blur(),i())},autoComplete:"off"}),(0,p.jsx)("span",{className:"search-btn icon",onClick:i,children:(0,p.jsx)(x,{size:"1.1rem"})})]})};var j,b,y,w,N,Z=u.ZP.div(g||(g=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ",";\n  border-radius: 4px;\n  input {\n    background-color: transparent;\n    border: none;\n    height: 40px;\n    font-size: 0.875rem;\n    display: flex;\n    align-items: center;\n    padding-left: 0;\n    padding-right: 0;\n    padding-top: 0;\n    padding-bottom: 0;\n  }\n  .icon {\n    display: flex;\n    height: 100%;\n    width: 50px;\n    align-items: center;\n    justify-content: center;\n  }\n  .search-btn {\n    transform: rotateY(180deg);\n    cursor: pointer;\n    &:hover {\n      svg {\n        path {\n          fill: ",";\n        }\n      }\n    }\n  }\n"])),(function(n){return n.theme.colors.light}),(function(n){return n.theme.colors.primary})),k=t(4371),C=t(2611),T=t(5438),z=t(3360),R=t(9070);const M=function(){a().extend(l());var n=(0,c.useState)(!1),e=(0,i.Z)(n,2),t=e[0],r=e[1],s=(0,c.useState)(""),o=(0,i.Z)(s,2),u=o[0],x=o[1],g=(0,c.useState)(""),f=(0,i.Z)(g,2),j=f[0],b=f[1],y=(0,c.useState)(0),w=(0,i.Z)(y,2),N=w[0],Z=w[1],M=(0,c.useState)(0),_=(0,i.Z)(M,2),A=_[0],V=_[1],I=(0,d.k6)(),B={page:N,limit:15},U={page:A,limit:15};j&&(B.title=j);var $=(0,C.VN)(B,t),q=$.data,W=$.isLoading,H=$.isError,K=(0,k.jM)(U),D=K.data,Q=K.isLoading,Y=K.isError,G=(0,k.Vz)(),J=G.data,O=G.isLoading,X=G.isError,nn=function(n,e){"next"===e&&("review"===n?V((function(n){return n+1})):Z((function(n){return n+1}))),"prev"===e&&("review"===n?V((function(n){return n-1})):Z((function(n){return n-1})))};return(0,p.jsxs)(c.Fragment,{children:[(0,p.jsxs)(L,{children:[(0,p.jsxs)("div",{className:"header-wrapper",children:[(0,p.jsx)("h1",{children:"Request Review"}),(0,p.jsx)(T.z,{btnType:"primary",size:"sm",onClick:function(){return r(!0)},disabled:O||X||!J||J.count>=J.total,children:"Request Review"})]}),(0,p.jsx)("div",{children:!O&&!X&&J&&(0,p.jsxs)("p",{children:[(0,p.jsxs)("span",{children:[J.count||0,"/",J.total||0,"Â "]}),"Resumes can be reviewed this month"]})})]}),(0,p.jsx)(h.Z,{show:t,children:(0,p.jsxs)(F,{"data-test-id":"select-resume",children:[(0,p.jsxs)("div",{className:"title",children:[(0,p.jsx)("h3",{children:"Select Resume"}),(0,p.jsx)("span",{className:"close-icon",onClick:function(){return r(!1)},children:(0,p.jsx)(m.Z,{})})]}),H?(0,p.jsx)("div",{className:"align-center",style:{height:"90%"},children:(0,p.jsx)("h3",{children:"Failed to load resumes!"})}):W?(0,p.jsx)(z.u,{style:{height:"90%"},children:(0,p.jsx)(z.$j,{size:"2rem",type:"primary"})}):q&&q.items&&q.items.length>0?(0,p.jsxs)(c.Fragment,{children:[(0,p.jsx)("div",{className:"search",children:(0,p.jsx)(v,{placeholder:"Title of your resume...",value:u,setValue:x,handleSubmit:function(){b(u)},style:{width:"100%"}})}),(0,p.jsxs)("div",{className:"list-wrapper",children:[(0,p.jsx)("div",{className:"list",children:q.items.map((function(n,e){return(0,p.jsxs)("div",{className:"item",onClick:function(){return I.push({pathname:"/resume-review/new",search:"?ref=".concat(n._id)})},children:[n.attachments&&n.attachments.thumbnail?(0,p.jsx)("img",{src:n.attachments.thumbnail}):(0,p.jsx)("img",{src:"https://resume-mango.s3.us-east-2.amazonaws.com/public/template-images/resumes/empty/template10.jpg"}),(0,p.jsx)("p",{children:n.title||"Untitled"})]},e)}))}),q.total>B.limit&&(0,p.jsxs)(R.Nl,{"data-test-id":"pagination",children:[(0,p.jsx)(T.z,{btnType:"secondary",disabled:0===N,onClick:function(){return nn("resume","prev")},"data-test-id":"pagination-prev",children:"Previous"}),(0,p.jsx)(T.z,{btnType:"secondary",disabled:N+1>=Math.ceil(q.total/q.limit),onClick:function(){return nn("resume","next")},"data-test-id":"pagination-next",children:"Next"})]})]})]}):(0,p.jsx)("div",{className:"align-center",style:{height:"90%"},children:(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{children:"No resumes found!"}),(0,p.jsx)(T.z,{btnType:"primary",size:"sm",onClick:function(){return I.push("/resumes/new")},style:{margin:"2rem auto"},children:"Create Resume"})]})})]})}),(0,p.jsx)(P,{children:Y?(0,p.jsx)("div",{className:"align-center",style:{height:"50vh"},children:(0,p.jsx)("h3",{children:"Failed to load review tickets!"})}):Q?(0,p.jsx)(z.u,{style:{height:"50vh"},children:(0,p.jsx)(z.$j,{size:"2.5rem",type:"primary"})}):D&&D.items&&D.items.length>0?(0,p.jsxs)("div",{"data-test-id":"list-wrapper",children:[(0,p.jsxs)("h3",{children:["All Conversations",(0,p.jsx)("span",{className:"count",children:D.total})]}),(0,p.jsxs)(S,{className:"grey",children:[(0,p.jsx)("p",{children:"TITLE"}),(0,p.jsx)("p",{children:"TICKET ID"}),(0,p.jsx)("p",{children:"STATUS"}),(0,p.jsx)("p",{children:"REVIEWER"}),(0,p.jsx)("p",{children:"CURRENT STATUS"})]}),D.items.map((function(n,e){return(0,p.jsxs)(E,{"data-test-id":"list-item",onClick:function(){return I.push("resume-review/".concat(n._id))},children:[(0,p.jsxs)("div",{className:"title item",children:[(0,p.jsx)("p",{children:n.resume&&n.resume.title||"Untitled Resume"}),(0,p.jsxs)("div",{className:"title-label",children:[(0,p.jsxs)("span",{children:["Created ",a()(a()(n.createdAt)).fromNow(!0)," ago"]}),"open"===n.status&&(0,p.jsxs)(c.Fragment,{children:[(0,p.jsx)("span",{className:"divider"}),(0,p.jsx)("span",{children:a()(n.createdAt).add(48,"hour").diff(a()(),"second")>0?"Response due in \n                        ".concat(a()(a()()).to(a()(n.createdAt).add(48,"hour"),!0)):"Will respond shortly"})]})]})]}),(0,p.jsxs)("p",{className:"grey truncate item",children:["#",n._id]}),(0,p.jsx)("p",{className:"capitalize item item-status",children:(0,p.jsx)("span",{children:n.status||"-"})}),(0,p.jsx)("p",{className:"item",children:n.assignedTo?n.assignedTo.firstName?n.assignedTo.firstName+" "+n.assignedTo.lastName||"":n.assignedTo.email:"Not assigned"}),(0,p.jsx)("p",{className:"item",style:{display:"flex",alignItems:"center"},children:n.current_status?"new_message"===n.current_status.user?(0,p.jsxs)(c.Fragment,{children:[(0,p.jsx)("span",{className:"truncate",children:"New message "}),(0,p.jsx)("span",{className:"circle green"})]}):"awaiting"===n.current_status.user?(0,p.jsxs)(c.Fragment,{children:[(0,p.jsx)("span",{className:"truncate",children:"Awaiting Response"}),(0,p.jsx)("span",{className:"circle yellow"})]}):"reviewed"===n.current_status.user?(0,p.jsxs)(c.Fragment,{children:[(0,p.jsx)("span",{className:"truncate",children:" Reviewed "}),(0,p.jsx)("span",{className:"circle grey"})]}):"-":"-"})]},e)})),D.total>U.limit&&(0,p.jsxs)(R.Nl,{children:[(0,p.jsx)(T.z,{btnType:"secondary",disabled:0===A,onClick:function(){return nn("review","prev")},children:"Previous"}),(0,p.jsx)(T.z,{btnType:"secondary",disabled:A+1>=Math.ceil(D.total/D.limit),onClick:function(){return nn("review","next")},children:"Next"})]})]}):(0,p.jsx)("div",{className:"align-center",style:{height:"50vh"},children:(0,p.jsx)("h3",{children:"No review tickets found!"})})})]})};var L=u.ZP.header(j||(j=(0,r.Z)(["\n  min-height: 175px;\n  max-height: 175px;\n  width: 100%;\n  height: 100%;\n  padding: 1.5rem;\n  border-bottom: 1px solid #e2e9f3;\n  display: flex;\n  flex-direction: column;\n  .header-wrapper {\n    min-height: 100px;\n    margin: auto;\n    display: flex;\n    width: 100%;\n    justify-content: space-between;\n    align-items: center;\n  }\n  p,\n  h1 {\n    margin: 0;\n  }\n  p {\n    font-size: 1rem;\n    display: flex;\n    float: right;\n    span {\n      color: ",";\n    }\n  }\n"])),(function(n){return n.theme.colors.primary})),P=u.ZP.div(b||(b=(0,r.Z)(["\n  margin: 1.5rem;\n  flex: 1;\n  .grey {\n    color: rgba(52, 52, 52, 0.4);\n  }\n  h3 {\n    font-size: 1.12rem;\n    font-weight: 400;\n    display: flex;\n    align-items: center;\n    margin-bottom: 1rem;\n    .count {\n      display: flex;\n      height: 30px;\n      min-width: 30px;\n      padding: 0.5rem;\n      line-height: normal;\n      background-color: #ffeea4;\n      font-size: 0.7rem;\n      color: ",";\n      align-items: center;\n      justify-content: center;\n      border-radius: 50%;\n      margin-left: 0.7rem;\n    }\n  }\n"])),(function(n){return n.theme.colors.primary})),S=u.ZP.div(y||(y=(0,r.Z)(["\n  display: grid;\n  grid-template-columns: 35% 25% 10% 15% 15%;\n  padding: 0.7rem 1rem;\n  border-left: 4px solid transparent;\n  p {\n    font-size: 0.7rem;\n    margin: 0 0.5rem;\n    width: 100%;\n    color: inherit;\n  }\n"]))),E=u.ZP.div(w||(w=(0,r.Z)(["\n  display: grid;\n  grid-template-columns: 35% 25% 10% 15% 15%;\n  background-color: #f7f8fa;\n  border-radius: 3px;\n  border-left: 4px solid #f08438;\n  height: 70px;\n  align-items: center;\n  padding: 0.7rem 1rem;\n  cursor: pointer;\n  transition: box-shadow ease-in-out 0.2s;\n  &:not(:last-child) {\n    margin-bottom: 1rem;\n  }\n  &:hover {\n    box-shadow: 0px 0px 5px 1px #f9bd3f;\n  }\n  .circle {\n    height: 6px;\n    width: 6px;\n    border-radius: 50%;\n    display: block;\n    background-color: #aaa;\n    margin-left: 0.7rem;\n  }\n  .green {\n    background-color: #1bcc38;\n  }\n  .yellow {\n    background-color: #f9bd3f;\n  }\n\n  .item-status span {\n    background-color: ",";\n    color: #fff;\n    padding: 0.2rem 0.7rem;\n    font-size: 0.8rem;\n    border-radius: 3px;\n    width: 75px;\n    display: block;\n    text-align: center;\n  }\n  .item {\n    margin: 0 0.5rem;\n  }\n  .title {\n    p {\n      margin: 0;\n    }\n    .title-label {\n      display: flex;\n      align-items: center;\n      color: rgba(52, 52, 52, 0.4);\n      font-size: 0.7rem;\n    }\n    .divider {\n      margin: 0 0.5rem;\n      ::before {\n        display: flex;\n        content: '';\n        width: 7px;\n        height: 7px;\n        background-color: rgba(52, 52, 52, 0.4);\n        border-radius: 50%;\n      }\n    }\n  }\n"])),(function(n){return n.theme.colors.primary})),F=u.ZP.div(N||(N=(0,r.Z)(["\n  max-width: 700px;\n  height: 75vh;\n  width: 100%;\n  background-color: white;\n  padding: 1.5rem;\n\n  .title {\n    h3 {\n      letter-spacing: 1px;\n    }\n    display: flex;\n    justify-content: space-between;\n    border-bottom: 1px solid rgba(52, 52, 52, 0.1);\n    margin-bottom: 1rem;\n\n    .close-icon {\n      cursor: pointer;\n      &:hover {\n        svg path {\n          stroke: #343434;\n        }\n      }\n    }\n  }\n  .search {\n    border-bottom: 1px solid rgba(52, 52, 52, 0.1);\n    margin-bottom: 1rem;\n    padding-bottom: 1rem;\n  }\n  .list-wrapper {\n    overflow-y: auto;\n    height: 50vh;\n    padding-bottom: 1rem;\n  }\n  .list {\n    display: grid;\n    grid-template-columns: repeat(5, 1fr);\n    margin-bottom: 1rem;\n    border-bottom: 1px solid rgba(52, 52, 52, 0.1);\n    padding-bottom: 1rem;\n    .item {\n      margin: 0.5rem;\n      background-color: rgba(52, 52, 52, 0.1);\n      padding: 0.4rem;\n      border-radius: 6px;\n      cursor: pointer;\n      &:hover {\n        background-color: ",";\n      }\n\n      img {\n        width: 100%;\n        margin: 0;\n        border-radius: 6px;\n      }\n      p {\n        text-align: center;\n        font-size: 0.65rem;\n        margin: 0;\n        font-weight: bold;\n      }\n    }\n  }\n"])),(function(n){return n.theme.shades.primary[4]}))},2611:(n,e,t)=>{"use strict";t.d(e,{Bh:()=>d,VN:()=>u,ZT:()=>m,IE:()=>h});var r=t(5861),i=t(7757),s=t.n(i),a=t(9669),o=t.n(a),l=t(704),c=t(3106),d=function(){return(0,l.Z)("resumeTemplates","/templates/resume")},u=function(n,e){var t=function(){var e=(0,r.Z)(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/resume",{params:n});case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.Z)(["resumes",n],(function(){return t()}),e)},m=function(n,e){var t=function(){var n=(0,r.Z)(s().mark((function n(e){var t,r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o().get("/templates/resume/".concat(e));case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,c.Z)(["resumeTemplates",n],(function(){return t(n)}),e)},h=function(n,e){var t=function(){var n=(0,r.Z)(s().mark((function n(e){var t,r;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o().get("/resume/".concat(e));case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,c.Z)(["resume",n],(function(){return t(n)}),e)}},9070:(n,e,t)=>{"use strict";t.d(e,{vs:()=>l,Nl:()=>c,q$:()=>d});var r,i,s,a=t(168),o=t(9163),l=o.ZP.div(r||(r=(0,a.Z)(["\n  width: 100%;\n  max-width: ",";\n  p {\n    max-width: 575px;\n  }\n"])),(function(n){return n.maxWidth})),c=o.ZP.div(i||(i=(0,a.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  button {\n    width: fit-content;\n    padding: 0 1rem;\n    margin: 0 1rem;\n  }\n"]))),d=o.ZP.header(s||(s=(0,a.Z)(["\n  min-height: 175px;\n  max-height: 175px;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  border-bottom: 1px solid #e2e9f3;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem;\n  h1 {\n    margin-bottom: 0;\n    span {\n      font-weight: normal;\n    }\n  }\n  div:last-child {\n    display: flex;\n    button {\n      margin: 0 1rem;\n    }\n  }\n  @media (max-width: 768px) {\n    div:last-child {\n      flex-direction: column;\n    }\n  }\n  @media (max-width: 480px) {\n    max-height: 100px;\n    min-height: 100px;\n    h1 {\n      margin: 0;\n    }\n    div:last-child {\n      display: block;\n      width: 100%;\n    }\n  }\n"])))},4110:function(n){n.exports=function(){"use strict";return function(n,e,t){n=n||{};var r=e.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(n,e,t,i){return r.fromToBase(n,e,t,i)}t.en.relativeTime=i,r.fromToBase=function(e,r,s,a,o){for(var l,c,d,u=s.$locale().relativeTime||i,m=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],h=m.length,p=0;p<h;p+=1){var x=m[p];x.d&&(l=a?t(e).diff(s,x.d,!0):s.diff(e,x.d,!0));var g=(n.rounding||Math.round)(Math.abs(l));if(d=l>0,g<=x.r||!x.r){g<=1&&p>0&&(x=m[p-1]);var f=u[x.l];o&&(g=o(""+g)),c="string"==typeof f?f.replace("%d",g):f(g,r,x.l,d);break}}if(r)return c;var v=d?u.future:u.past;return"function"==typeof v?v(c):v.replace("%s",c)},r.to=function(n,e){return s(n,e,this,!0)},r.from=function(n,e){return s(n,e,this)};var a=function(n){return n.$u?t.utc():t()};r.toNow=function(n){return this.to(a(this),n)},r.fromNow=function(n){return this.from(a(this),n)}}}()}}]);
//# sourceMappingURL=963.bundle.js.map