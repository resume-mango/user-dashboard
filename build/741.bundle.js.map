{"version":3,"file":"741.bundle.js","mappings":"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","sources":["webpack://user-dashboard/./src/pages/coverletters/createNew.tsx","webpack://user-dashboard/./src/validations/coverletter.ts","webpack://user-dashboard/./src/contexts/coverLetter.tsx","webpack://user-dashboard/./src/pages/coverletters/builder/step1.tsx","webpack://user-dashboard/./src/pages/coverletters/builder/step2.tsx","webpack://user-dashboard/./src/pages/coverletters/builder/coverLetterStepper.tsx","webpack://user-dashboard/./src/pages/coverletters/preview.tsx","webpack://user-dashboard/./src/helpers/previewer.ts","webpack://user-dashboard/./src/pages/coverletters/builder/index.tsx","webpack://user-dashboard/./src/pages/coverletters/template-viewer.tsx","webpack://user-dashboard/./src/pages/coverletters/oldCoverletter.tsx","webpack://user-dashboard/./src/pages/coverletters/index.tsx","webpack://user-dashboard/./node_modules/dom-helpers/esm/removeClass.js","webpack://user-dashboard/./node_modules/react-transition-group/esm/CSSTransition.js","webpack://user-dashboard/./node_modules/dom-helpers/esm/addClass.js","webpack://user-dashboard/./node_modules/dom-helpers/esm/hasClass.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from 'react'\nimport { useQueryClient } from 'react-query'\nimport { useHistory } from 'react-router-dom'\nimport styled from 'styled-components'\nimport { Button } from '../../styled/button'\nimport { Spinner } from '../../styled/loader'\nimport { createNewCoverletter } from '../../helpers/coverletter'\n\nconst NewCoverLetter = ({ templateName }: { templateName: string }) => {\n  const [error, setError] = useState(false)\n  const history = useHistory()\n\n  const queryClient = useQueryClient()\n\n  // const createNew = async () => {\n  //   setError(false)\n  //   const { data, error } = await newCoverLetter(templateName)\n  //   if (data) {\n  //     queryClient.setQueryData(['coverletter', data._id], data)\n  //     history.replace(`/coverletters/edit/${data._id}`)\n  //   }\n  //   if (error) setError(true)\n  // }\n\n  const createNew = async () => {\n    setError(false)\n    const result = await createNewCoverletter(\n      templateName,\n      history,\n      queryClient\n    )\n    if (!result) setError(true)\n    return\n  }\n\n  useEffect(() => {\n    createNew()\n  }, [])\n\n  return (\n    <Fragment>\n      <div className=\"flex-center h-100\">\n        {error ? (\n          <ErrWrapper>\n            <h2>Failed to create coverletter.</h2>\n            <Button btnType=\"primary\" size=\"lg\" onClick={() => createNew()}>\n              Try Again\n            </Button>\n          </ErrWrapper>\n        ) : (\n          <Spinner size=\"2.5rem\" type=\"primary\" />\n        )}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default NewCoverLetter\n\nconst ErrWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n`\n","import * as Yup from 'yup'\n\nconst first_name = Yup.string()\n  .required('first name is required')\n  .max(20, 'Max 20 characters allowed')\n  .min(3, 'Min 3 characters required')\nconst last_name = Yup.string()\n  .required('last name is required')\n  .max(20, 'Max 20 characters allowed')\n  .min(3, 'Min 3 characters required')\n\nconst email_address = Yup.string()\n  .email('email is invalid')\n  .required('email is required')\n\nconst phoneRegExp =\n  /^((\\\\+[1-9]{1,4}[ \\\\-]*)|(\\\\([0-9]{2,3}\\\\)[ \\\\-]*)|([0-9]{2,4})[ \\\\-]*)*?[0-9]{3,4}?[ \\\\-]*[0-9]{3,4}?$/\n\nconst phone_number = Yup.string().test(\n  'isValid',\n  'Invalid phone number',\n  (value) => {\n    if (!value) return true\n    return phoneRegExp.test(value) && value.length >= 6 && value.length <= 10\n  }\n)\n\nconst designation = Yup.string().max(50, 'Max 50 characters allowed')\nconst address = Yup.string()\n  .label('address')\n  .max(50, 'Max 50 characters allowed')\n\nconst company = Yup.string().max(50, 'Max 50 characters allowed')\nconst hiring_manager = Yup.string().max(50, 'Max 50 characters allowed')\n\nconst description = Yup.string().test(\n  'test_length_greater_than_3000',\n  'Max 3000 characters allowed',\n  (value) => {\n    if (!value) return true\n    const regex = /(<([^>]+)>)/gi\n    const noBreak = value.replaceAll('<br>', '!!!!!!!!!!!!!!!')\n    const plain = noBreak.replace(regex, '')\n    if (plain.length > 3000) return false\n    else return true\n  }\n)\n\nexport const validateCoverLetterSteps = Yup.object().shape({\n  first_name,\n  last_name,\n  email_address,\n  phone_number,\n  designation,\n  address,\n  company,\n  hiring_manager,\n  description\n})\n","import React, { useEffect, useState } from 'react'\nimport { FormProvider, useForm } from 'react-hook-form'\nimport { ICoverDefault } from '../typings/coverLetter'\nimport '../styled/template_global.css'\nimport { useNotify } from './notify'\nimport { useQueryClient } from 'react-query'\nimport { getCoverLetterTemplate } from '../queries/coverLetterQueries'\nimport { yupResolver } from '@hookform/resolvers/yup'\nimport { validateCoverLetterSteps } from '../validations/coverletter'\nimport { loadFonts } from '../helpers/loadFonts'\nimport {\n  handleCoverletterDownload,\n  submitCoveletterForm,\n} from '../helpers/coverletter'\nimport UpgradePlan from '../components/upcgradeModal'\n\ninterface Context {\n  data: ICoverDefault & { id: string | null }\n  isTemplateReady: boolean\n  setTemplate: (name: string) => void\n  templateData: any\n  template: string | null\n  step: number\n  submitSuccess: boolean\n  isSaving: boolean\n  setStep: (val: number) => void\n  submitCoverletter: (\n    type?: 'txt' | 'pdf' | 'docx' | null,\n    autoSave?: boolean\n  ) => void\n}\n\nconst defaultValues = {\n  title: '',\n  first_name: '',\n  last_name: '',\n  email_address: '',\n  phone_number: '',\n  designation: '',\n  address: '',\n  company: '',\n  hiring_manager: '',\n  description: '',\n}\n\n/* istanbul ignore next */\nconst contextValues = {\n  data: { ...defaultValues, id: null },\n  templateData: null,\n  template: null,\n  step: 1,\n  submitSuccess: false,\n  isSaving: false,\n  setStep: () => {\n    return undefined\n  },\n  setTemplate: () => {\n    return undefined\n  },\n  submitCoverletter: () => {\n    return undefined\n  },\n  isTemplateReady: false,\n}\n\nconst CoverLetterContext = React.createContext<Context>(contextValues)\n\nconst CoverLetterProvider = ({ initialData, templateName, children }: any) => {\n  const [cssReady, setCssReady] = useState(false)\n  const [fontsReady, setFontsReady] = useState(false)\n  const [template, setTemplate] = useState('template1')\n  const [queryEnabled, setQueryEnabled] = useState(false)\n  const [submitSuccess, setSubmitSuccess] = useState(false)\n  const [step, setStep] = useState(1)\n  const [isSaving, setIsSaving] = useState(false)\n  const [limitsReached, setLimitsReached] = useState(false)\n\n  const { setNotify } = useNotify()\n  const queryClient = useQueryClient()\n\n  const methods = useForm<ICoverDefault>({\n    mode: 'onChange',\n    defaultValues,\n    criteriaMode: 'all',\n    resolver: yupResolver(validateCoverLetterSteps),\n  })\n\n  const {\n    data: templateData,\n    isLoading: isTemplateLoading,\n    isError: isTemplateError,\n  } = getCoverLetterTemplate(template, queryEnabled && !!templateName)\n\n  const {\n    handleSubmit,\n    watch,\n    reset,\n    trigger,\n    setValue,\n    formState: { isValid, isDirty },\n  } = methods\n\n  useEffect(() => {\n    if (!initialData) return\n    if (initialData.template) {\n      setTemplate(initialData.template)\n    }\n\n    const { fields } = initialData\n\n    if (!fields) return\n    const formData = {\n      title: initialData.title || 'Untitled',\n      first_name: fields.first_name || '',\n      last_name: fields.last_name || '',\n      email_address: fields.email_address || '',\n      phone_number: fields.phone_number || '',\n      designation: fields.designation || '',\n      address: fields.address || '',\n      company: fields.company || '',\n      hiring_manager: fields.hiring_manager || '',\n      description: fields.description || '',\n    }\n    reset(formData, {\n      keepDirty: true,\n      keepIsValid: true,\n      keepErrors: true,\n    })\n    setQueryEnabled(true)\n  }, [initialData])\n\n  useEffect(() => {\n    setCssReady(false)\n  }, [template])\n\n  const loadTemplateFonts = async () => {\n    await loadFonts(templateData.fonts)\n    return setFontsReady(true)\n  }\n\n  useEffect(() => {\n    if (\n      !queryEnabled ||\n      !templateData ||\n      !templateData.fonts ||\n      templateData.fonts === 0\n    )\n      return\n    setFontsReady(false)\n    loadTemplateFonts()\n\n    // if ('fonts' in document) {\n    //   Promise.all(\n    //     templateData.fonts.map((font: any) => {\n    //       const face = new FontFace(\n    //         font.name,\n    //         `url(${font.url}) format('${font.format}')`\n    //       )\n    //       face.style = font.style\n    //       face.weight = font.weight\n    //       return face.load()\n    //     })\n    //   ).then(function (loadedFonts) {\n    //     loadedFonts &&\n    //       loadedFonts.forEach(function (font) {\n    //         if (font) document.fonts.add(font as FontFace)\n    //         return\n    //       })\n    //     setFontsReady(true)\n    //   })\n    // }\n    return () => setFontsReady(true)\n  }, [templateData, queryEnabled])\n\n  useEffect(() => {\n    if (!document || !queryEnabled || cssReady) return\n    const old = document.getElementById('css_style')\n    if (old) {\n      old.remove()\n    }\n\n    const link = document.createElement('link')\n    link.id = 'css_style'\n    link.setAttribute('rel', 'stylesheet')\n    link.setAttribute('type', 'text/css')\n    link.setAttribute(\n      'href',\n      `${process.env.API_HOST}/css/coverletters/${template}.css`\n    )\n    /* istanbul ignore next */\n    link.onload = () => {\n      setCssReady(true)\n    }\n    /* istanbul ignore next */\n    link.onerror = () => {\n      return console.log('stylesheet could not be loaded')\n    }\n    document.head.appendChild(link)\n    return () => {\n      setCssReady(true)\n    }\n  }, [cssReady, queryEnabled])\n\n  const currData = watch()\n\n  const regex = /(<([^>]+)>)/gi\n  const hasTextinDescription = !!currData.description.replace(regex, '').length\n\n  useEffect(() => {\n    if (!hasTextinDescription && isDirty) {\n      setValue('description', '')\n    }\n  }, [currData.description])\n\n  const submitCoverletter = async (\n    type?: 'txt' | 'pdf' | 'docx' | null,\n    autoSave?: boolean\n  ) => {\n    const submitForm = async (data: any) => {\n      return await submitCoveletterForm(\n        template,\n        type,\n        initialData,\n        data,\n        watch,\n        reset,\n        setSubmitSuccess,\n        setNotify,\n        queryClient,\n        setLimitsReached\n      )\n    }\n    // const donwnloadHandler = async (name: string, id: string, type: string) => {\n    //   const res: any = await downloadCoverLetter(id, type)\n    //   if (res) {\n    //     const docName = name\n    //       ? name.replaceAll(/\\s/g, '-')\n    //       : 'untitled-coverletter'\n\n    //     const filename = docName + '.' + type\n    //     const url = window.URL.createObjectURL(new Blob([res.data]))\n    //     const link = document.createElement('a')\n    //     link.href = url\n    //     link.setAttribute('download', filename)\n    //     document.body.appendChild(link)\n    //     link.click()\n    //     document.body.removeChild(link)\n    //     window.URL.revokeObjectURL(url)\n    //   } else {\n    //     setNotify({\n    //       type: 'danger',\n    //       heading: 'Err!',\n    //       message: 'Failed to donwload design',\n    //     })\n    //   }\n    // }\n    // const submitForm = async (data: any) => {\n    //   try {\n    //     setSubmitSuccess(false)\n    //     if (!data) return\n    //     const { data: resData, error } = await updateCoverLetter({\n    //       title: data.title,\n    //       template,\n    //       id: initialData._id,\n    //       ...data,\n    //     })\n    //     if (error) {\n    //       !axios.isCancel(error) &&\n    //         setNotify({\n    //           type: 'danger',\n    //           heading: 'Err!',\n    //           message: 'Failed to update design',\n    //         })\n    //     }\n    //     if (resData) {\n    //       if (type) {\n    //         const name = resData.fields ? resData.fields.first_name : ''\n    //         await donwnloadHandler(name, resData._id, type)\n    //       }\n\n    //       const coverletters: Array<any> | undefined =\n    //         queryClient.getQueryData('coverletters')\n    //       if (coverletters) {\n    //         const find = coverletters.findIndex(\n    //           (item) => item._id === resData._id\n    //         )\n    //         if (find >= 0) {\n    //           coverletters.splice(find, 1, resData)\n    //         } else {\n    //           coverletters.unshift(resData)\n    //         }\n    //         queryClient.setQueryData('coverletters', coverletters)\n    //       }\n    //       resData.fields = watch()\n\n    //       queryClient.setQueryData(['coverletter', resData._id], resData)\n    //       setSubmitSuccess(true)\n    //       reset(\n    //         {},\n    //         {\n    //           keepDirty: false,\n    //           keepValues: true,\n    //           keepIsValid: true,\n    //           keepErrors: true,\n    //         }\n    //       )\n    //     }\n    //   } catch (err) {\n    //     setNotify({\n    //       type: 'danger',\n    //       heading: 'Err!',\n    //       message: 'Something went wrong!',\n    //     })\n    //   }\n    // }\n\n    if (!autoSave) {\n      trigger()\n      if (!isValid) {\n        return setNotify({\n          type: 'warning',\n          heading: 'Invalid fields!',\n          message: 'Valid fields are required to proceed',\n        })\n      }\n    }\n\n    if (isDirty || initialData.template !== template) {\n      setIsSaving(true)\n      await handleSubmit(submitForm)()\n      setIsSaving(false)\n    } else {\n      setIsSaving(true)\n      const name = currData.first_name\n      await handleCoverletterDownload(\n        name,\n        initialData._id,\n        type as any,\n        setNotify,\n        setLimitsReached\n      )\n      setIsSaving(false)\n    }\n  }\n\n  return (\n    <CoverLetterContext.Provider\n      value={{\n        data: { ...currData, id: initialData ? initialData._id : null },\n        isTemplateReady:\n          cssReady &&\n          !isTemplateLoading &&\n          templateData &&\n          fontsReady &&\n          queryEnabled,\n        templateData,\n        submitSuccess,\n        setTemplate,\n        template,\n        submitCoverletter,\n        step,\n        setStep,\n        isSaving,\n      }}\n    >\n      {limitsReached && (\n        <UpgradePlan handleClose={() => setLimitsReached(false)} />\n      )}\n      <FormProvider {...methods}>{children}</FormProvider>\n    </CoverLetterContext.Provider>\n  )\n}\n\nexport default CoverLetterProvider\n\nconst useCoverLetter = () => {\n  const {\n    data,\n    isTemplateReady,\n    templateData,\n    setTemplate,\n    template,\n    submitCoverletter,\n    submitSuccess,\n    step,\n    setStep,\n    isSaving,\n  } = React.useContext(CoverLetterContext)\n\n  return {\n    data,\n    isTemplateReady,\n    templateData,\n    setTemplate,\n    template,\n    submitCoverletter,\n    submitSuccess,\n    step,\n    setStep,\n    isSaving,\n  }\n}\n\nexport { CoverLetterProvider, useCoverLetter }\n","import React, { Fragment, useEffect, useState } from 'react'\nimport { useFormContext } from 'react-hook-form'\nimport styled from 'styled-components'\nimport Input from '../../../components/form/Input'\nimport { useCoverLetter } from '../../../contexts/coverLetter'\n\nconst Step1 = () => {\n  const { data } = useCoverLetter()\n\n  const [titleVal, setTitleVal] = useState('')\n\n  const { setValue } = useFormContext()\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.value.length > 30) {\n      setTitleVal(e.target.value.substring(0, 30))\n    } else {\n      setTitleVal(e.target.value)\n    }\n  }\n\n  useEffect(() => {\n    setTitleVal(data.title)\n  }, [data.title])\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setValue('title', titleVal, { shouldDirty: true })\n    }, 300)\n    return () => clearTimeout(timer)\n  }, [titleVal])\n\n  return (\n    <Fragment>\n      <TitleWrapper>\n        <input\n          name=\"title\"\n          placeholder=\"Untitled\"\n          value={titleVal}\n          onChange={(e) => handleChange(e)}\n          spellCheck={false}\n          autoComplete=\"off\"\n        />\n        <p id=\"mask\">{titleVal}</p>\n      </TitleWrapper>\n      <h2>Primary Details</h2>\n      <Grid className=\"mb-3\">\n        <div>\n          <Input name=\"first_name\" label=\"First Name\" />\n        </div>\n        <div>\n          <Input name=\"last_name\" label=\"Last Name\" />\n        </div>\n        <div>\n          <Input name=\"email_address\" label=\"Email address\" />\n        </div>\n        <div>\n          <Input name=\"phone_number\" label=\"Phone number\" />\n        </div>\n        <div>\n          <Input name=\"designation\" label=\"Designation\" />\n        </div>\n        <div>\n          <Input name=\"address\" label=\"Address\" />\n        </div>\n      </Grid>\n      <h2>Company Details</h2>\n      <Grid className=\"mb-3\">\n        <div>\n          <Input name=\"company\" label=\"Company Name\" />\n        </div>\n        <div>\n          <Input name=\"hiring_manager\" label=\"Hiring manager name\" />\n        </div>\n      </Grid>\n    </Fragment>\n  )\n}\n\nexport default Step1\n\nconst Grid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-gap: 1.5rem;\n`\nconst TitleWrapper = styled.div`\n  overflow: hidden;\n  max-width: 100%;\n  position: relative;\n  top: -20px;\n  margin: 1rem 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  input {\n    background-color: transparent;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 0px;\n    top: 0px;\n    padding: 0px;\n    margin: 0px;\n    border: none;\n    font-size: 2rem;\n    text-align: center;\n    z-index: 1;\n    color: #555;\n  }\n  input:focus {\n    color: #343434;\n  }\n  input:hover ~ p:after,\n  input:focus ~ p:after {\n    background-color: ${({ theme }) => theme.colors.primary};\n  }\n\n  p {\n    height: 100%;\n    position: relative;\n    width: fit-content;\n    font-size: 2rem;\n    text-align: center;\n    margin: 0;\n    color: transparent;\n    &:after {\n      content: '';\n      display: flex;\n      height: 2px;\n      z-index: 100;\n      bottom: -10px;\n      width: 100%;\n      background-color: transparent;\n    }\n  }\n`\n","import React, { Fragment } from 'react'\nimport { useFormContext } from 'react-hook-form'\nimport RichTextEditor from '../../../components/form/RichTextEditor'\nimport { InvalidFeedBack } from '../../../styled/form'\n\nconst Step2 = () => {\n  const {\n    formState: { errors }\n  } = useFormContext()\n  return (\n    <Fragment>\n      <div className='mb-3'>\n        <h2>Letter Details</h2>\n        <p className='mb-3'>\n          3–4 paragraphs explaining why you&apos;re the perfect candidate for a\n          specific job\n        </p>\n\n        <RichTextEditor name='description' />\n        {errors.description && (\n          <InvalidFeedBack style={{ marginTop: '0.5rem' }}>\n            {errors.description.message}\n          </InvalidFeedBack>\n        )}\n      </div>\n    </Fragment>\n  )\n}\n\nexport default Step2\n","import React, { Fragment, useEffect, useState } from 'react'\nimport { useFormContext } from 'react-hook-form'\nimport { CSSTransition } from 'react-transition-group'\nimport styled, { keyframes } from 'styled-components'\nimport CheckIcon1 from '../../../components/svgs/check1'\nimport { useCoverLetter } from '../../../contexts/coverLetter'\nimport { useViewport } from '../../../contexts/viewPort'\nimport { Button } from '../../../styled/button'\nimport { Spinner } from '../../../styled/loader'\nimport { FormButtonWrapper } from '../../../styled/form'\nimport Step1 from './step1'\nimport Step2 from './step2'\nimport WarningIcon from '../../../components/svgs/warning'\n\ninterface IProps {\n  step: number\n  setStep: (val: any) => void\n  max: number\n}\n\nconst CoverLetterStepper: React.FC<IProps> = ({ step, setStep, max }) => {\n  const [submit, setSubmit] = useState(false)\n\n  const { submitCoverletter, submitSuccess } = useCoverLetter()\n  const { width } = useViewport()\n  const btnSize = width > 1300 ? 'lg' : 'sm'\n  const {\n    formState: { isSubmitting, isDirty, isValid },\n  } = useFormContext()\n\n  const handleNext = () => {\n    step < max && setStep((prev: number) => prev + 1)\n    return setSubmit(true)\n  }\n\n  const handlePrev = () => {\n    return step > 1 && setStep((prev: number) => prev - 1)\n  }\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (submit) {\n        if (isDirty) {\n          submitCoverletter(null, step === 2)\n        }\n        setSubmit(false)\n      }\n    }, 1000)\n\n    return () => clearTimeout(timer)\n  }, [submit])\n\n  return (\n    <Fragment>\n      <Wrapper>\n        {step === 1 ? <Step1 /> : step === 2 ? <Step2 /> : null}\n\n        <FormButtonWrapper>\n          <Button\n            type=\"button\"\n            btnType=\"ghost\"\n            size={btnSize}\n            color=\"#343434\"\n            onClick={() => handlePrev()}\n            style={{ marginRight: '1rem' }}\n          >\n            {step === 1 ? 'Cancel' : 'Previous'}\n          </Button>\n          <Button\n            type=\"button\"\n            btnType=\"primary\"\n            size={btnSize}\n            onClick={() => handleNext()}\n            disabled={\n              (isSubmitting || !isValid || !isDirty || submit) && step === 2\n            }\n          >\n            {step === 2 ? 'Save Changes' : 'Next'}\n          </Button>\n        </FormButtonWrapper>\n        <CSSTransition\n          in={isSubmitting && isValid}\n          timeout={{\n            enter: 200,\n            exit: 5000,\n          }}\n        >\n          <Loader data-test-id=\"save-loader\">\n            {isSubmitting ? (\n              <Fragment>\n                <Spinner type=\"primary\" size=\"1.5rem\" />\n                <LoadingDots color=\"#f08438\">Saving</LoadingDots>\n              </Fragment>\n            ) : submitSuccess ? (\n              <Fragment>\n                <CheckIcon1 size=\"1.5rem\" color=\"#f08438\" />\n                <p style={{ color: '#f08438', margin: '0 0.7rem' }}>Saved</p>\n              </Fragment>\n            ) : (\n              <Fragment>\n                <WarningIcon size=\"1.5rem\" color=\"#f08438\" />\n                <p style={{ color: '#f08438', margin: '0 0.7rem' }}>Failed</p>\n              </Fragment>\n            )}\n          </Loader>\n        </CSSTransition>\n      </Wrapper>\n    </Fragment>\n  )\n}\n\nexport default CoverLetterStepper\n\nconst Wrapper = styled.div`\n  padding: 2.75rem;\n  max-width: 900px;\n  margin: auto;\n`\n\nconst Loader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: fit-content;\n  padding: 0 0.5rem;\n  height: 50px;\n  min-width: 50px;\n  transition: ease 300ms;\n  background-color: #fff;\n  border-radius: 1rem;\n  box-shadow: 4px 0px 20px 0px #ddd;\n  border: 1px solid #eee;\n  position: absolute;\n  left: 40px;\n  bottom: 40px;\n  opacity: 0;\n  visibility: hidden;\n\n  &.enter-done,\n  &.enter-active,\n  &.exit-active {\n    opacity: 1;\n    visibility: visible;\n  }\n  &.exit-done {\n    opacity: 0;\n    visibility: hidden;\n  }\n`\n\nconst dots = (color: string) => keyframes`\n   0%, 20% {\n    color: rgba(0,0,0,0);\n    text-shadow:\n      .25em 0 0 rgba(0,0,0,0),\n      .5em 0 0 rgba(0,0,0,0);}\n  40% {\n    color: ${color};\n    text-shadow:\n      .25em 0 0 rgba(0,0,0,0),\n      .5em 0 0 rgba(0,0,0,0);}\n  60% {\n    text-shadow:\n      .25em 0 0 ${color},\n      .5em 0 0 rgba(0,0,0,0);}\n  80%, 100% {\n    text-shadow:\n      .25em 0 0 ${color},\n      .5em 0 0 ${color};\n    }\n    \n`\n\nconst LoadingDots = styled.p<{ color: string }>`\n  display: inline-flex;\n  margin: 0 0.7rem;\n  color: ${({ theme, color }) => (color ? color : theme.colors.dark)};\n  &:after {\n    content: '.';\n    margin-left: 0.1rem;\n    animation: ${({ theme, color }) => dots(color ? color : theme.colors.dark)}\n      1s steps(5, end) infinite;\n  }\n`\n","import React, { Fragment, useEffect, useRef, useState } from 'react'\nimport styled from 'styled-components'\nimport { Button } from '../../styled/button'\nimport BlocksIcon from '../../components/svgs/blocks'\nimport DownArrowIcon from '../../components/svgs/downArrow'\nimport { useFormContext } from 'react-hook-form'\nimport DropButton from '../../components/ui/DropButton'\nimport VerticalLineIcon from '../../components/svgs/verticalLine'\nimport { useHistory } from 'react-router-dom'\nimport templateMapper from '../../helpers/templateMapper'\nimport { useCoverLetter } from '../../contexts/coverLetter'\nimport { useViewport } from '../../contexts/viewPort'\nimport PreviewSkeleton from '../../components/ui/previewSkeleton'\nimport { getPreviewTemplateBufferHeight } from '../../helpers/previewer'\nimport { Spinner } from '../../styled/loader'\n\nconst Previewer = ({ isDataLoading }: { isDataLoading: boolean }) => {\n  const ref = useRef<HTMLDivElement>(null)\n  const [pages, setPages] = useState(1)\n  const [curr, setCurr] = useState(1)\n  const [buffer, setBuffer] = useState(0)\n  const [showDownload, setShowDownload] = useState(false)\n  const [firstLoad, setFirstLoad] = useState(false)\n\n  const { width, height } = useViewport()\n  const histroy = useHistory()\n\n  const { data, templateData, isTemplateReady, submitCoverletter, isSaving } =\n    useCoverLetter()\n\n  const {\n    formState: { isSubmitting, isValid },\n  } = useFormContext()\n\n  useEffect(() => {\n    if (isSaving) setShowDownload(false)\n    return\n  }, [isSaving])\n\n  const scale = width >= 1500 ? 0.6 : width / 1920\n\n  const top = scale >= 0.7 ? scale * 50 : scale * -60\n\n  useEffect(() => {\n    // if (!ref || !ref.current) return\n    // const page = ref.current.children[0] as HTMLElement\n    // page.style.transform = `scale(${scale})`\n    // ref.current.style.width = page.getBoundingClientRect().width + 'px'\n    // ref.current.style.height = page.getBoundingClientRect().height + 'px'\n    // const calcX = (page.clientWidth * (scale - 1)) / 2\n    // const calcY = (page.clientHeight * (scale - 1)) / 2\n    // page.style.transform = `translate3d(${calcX}px, ${calcY}px, 0px) scale(${scale})`\n    // const dummyBufferEl = document.createElement('div')\n    // dummyBufferEl.style.height = '50px'\n    // dummyBufferEl.style.transform = `scale(${scale})`\n    // dummyBufferEl.style.visibility = 'hidden'\n    // dummyBufferEl.style.position = 'absolute'\n    // dummyBufferEl.style.opacity = '0'\n    // document.body.appendChild(dummyBufferEl)\n    // const bufferHeight = dummyBufferEl.getBoundingClientRect().height\n    // setBuffer(bufferHeight)\n    // document.body.removeChild(dummyBufferEl)\n    const result = getPreviewTemplateBufferHeight(ref, scale)\n    if (!result) return\n    result.bufferHeight && setBuffer(result.bufferHeight)\n    result.dummyBufferEl && document.body.removeChild(result.dummyBufferEl)\n  }, [ref.current, width, height])\n\n  useEffect(() => {\n    if (!data || isSubmitting || !isTemplateReady || buffer === 0) return\n\n    const timer = setTimeout(() => {\n      if (!ref || !ref.current) return\n      const page = ref.current.querySelector('.page')\n      if (!page) return\n      const wrapper = page.children[0] as HTMLElement\n\n      if (!wrapper) return\n      const template = JSON.parse(JSON.stringify(templateData))\n      wrapper.innerHTML = ''\n      const pages = templateMapper(template, data, wrapper, buffer)\n      if (!pages) return\n      updatePages(Object.keys(pages).length)\n\n      if (!firstLoad) setFirstLoad(true)\n    }, 500)\n    return () => clearTimeout(timer)\n  }, [data, ref, isTemplateReady, buffer])\n\n  useEffect(() => {\n    if (!ref || !ref.current) return\n    const page = ref.current.querySelector('.page') as HTMLElement\n    if (!page) return\n    const wrapper = page.children[0] as HTMLElement\n    if (!wrapper) return\n    wrapper.style.transform = `translateY(-${page.clientHeight * (curr - 1)}px)`\n    wrapper.style.height = page.clientHeight * curr + 'px'\n  }, [curr, ref.current])\n\n  const updatePages = (total: number) => {\n    curr > total && setCurr(total)\n    setPages(total)\n  }\n\n  const handleClick = (type: 'prev' | 'next') => {\n    if (type === 'prev') curr > 1 && curr <= pages && setCurr(curr - 1)\n    if (type === 'next') curr >= 1 && curr < pages && setCurr(curr + 1)\n    return\n  }\n  return (\n    <Fragment>\n      <SkeletonWrapper\n        data-test-id=\"preview-skeleton\"\n        style={\n          isDataLoading || !data || !isTemplateReady || !firstLoad\n            ? { visibility: 'visible' }\n            : { visibility: 'hidden' }\n        }\n      >\n        {width ? (\n          <PreviewSkeleton\n            style={{\n              position: 'absolute',\n              marginTop: 0,\n              top: `${top}px`,\n            }}\n            scale={scale}\n          />\n        ) : null}\n      </SkeletonWrapper>\n      <PreviewWrapper>\n        <TemplateWrapper ref={ref}>\n          <div className=\"page\">\n            <div style={{ width: '100%' }} />\n          </div>\n        </TemplateWrapper>\n        <PreviewFooter\n          className={`template_footer ${\n            isDataLoading || !data || !isTemplateReady || !firstLoad\n              ? 'invisible'\n              : ''\n          }`}\n        >\n          <div>\n            <TemplateBtn\n              type=\"button\"\n              btnType=\"ghost\"\n              color=\"#F08438\"\n              size=\"lg\"\n              style={{ justifyContent: 'space-around' }}\n              disabled={isSubmitting}\n              onClick={() => histroy.push(`/coverletters/preview/${data.id}`)}\n            >\n              <BlocksIcon size={width < 1300 ? '0.8rem' : '1rem'} />\n              Change template\n            </TemplateBtn>\n          </div>\n\n          <PageToggler>\n            <button\n              type=\"button\"\n              style={{ transform: 'rotateZ(90deg)' }}\n              onClick={() => handleClick('prev')}\n            >\n              <DownArrowIcon size=\"0.75rem\" />\n            </button>\n\n            <p>\n              {curr}&nbsp;/&nbsp;{pages}\n            </p>\n            <button\n              type=\"button\"\n              style={{ transform: 'rotateZ(270deg)' }}\n              onClick={() => handleClick('next')}\n            >\n              <DownArrowIcon size=\"0.75rem\" />\n            </button>\n          </PageToggler>\n\n          <div>\n            <DownloadBtn\n              vertical=\"top\"\n              horizontal=\"left\"\n              show={showDownload}\n              setShow={setShowDownload}\n              disabled={isSaving || !isValid || isSubmitting}\n            >\n              <DropButton.Button>\n                <Fragment>\n                  {!isSaving ? (\n                    <Fragment>\n                      Download <VerticalLineIcon /> <DownArrowIcon />\n                    </Fragment>\n                  ) : (\n                    <Fragment>\n                      Downloading <Spinner size=\"1rem\" />\n                    </Fragment>\n                  )}\n                </Fragment>\n              </DropButton.Button>\n              <DropButton.Item>\n                <a onClick={() => submitCoverletter('pdf')}>Download PDF</a>\n              </DropButton.Item>\n\n              <DropButton.Item>\n                <a onClick={() => submitCoverletter('docx')}>Export to DOCX</a>\n              </DropButton.Item>\n\n              <DropButton.Item>\n                <a onClick={() => submitCoverletter('txt')}>Export to TXT</a>\n              </DropButton.Item>\n            </DownloadBtn>\n          </div>\n        </PreviewFooter>\n      </PreviewWrapper>\n    </Fragment>\n  )\n}\n\nexport default Previewer\n\nconst PreviewWrapper = styled.div`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  margin: auto;\n`\nconst PreviewFooter = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-top: 1.5rem;\n`\nconst PageToggler = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  p {\n    font-weight: 600;\n  }\n  button {\n    padding-left: 0.5rem;\n    padding-right: 0.5rem;\n    svg {\n      path {\n        stroke-width: 1.5;\n      }\n    }\n  }\n`\nconst TemplateWrapper = styled.div`\n  display: block;\n  position: relative;\n`\nconst DownloadBtn = styled(DropButton)`\n  button {\n    background: rgba(240, 132, 56, 1);\n    color: #fff;\n    height: 40px;\n    width: 150px;\n    display: flex;\n    justify-content: space-around;\n    padding: 0 1rem;\n    border-radius: 6px;\n    @media (max-width: 1300px) {\n      height: 32px;\n      font-size: 0.75rem;\n      width: 120px;\n    }\n    svg {\n      path {\n        stroke: #fff;\n      }\n    }\n    &:disabled {\n      background-color: ${({ theme }) => theme.colors.grey};\n    }\n  }\n`\n\nconst TemplateBtn = styled(Button)`\n  @media (max-width: 1300px) {\n    height: 32px;\n    font-size: 0.75rem;\n    width: 120px;\n  }\n`\nconst SkeletonWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: auto;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 1;\n  background: #f7f9fc;\n`\n","export const getPreviewTemplateBufferHeight = (\n  ref: React.RefObject<HTMLDivElement>,\n  scale: number\n) => {\n  if (!ref || !ref.current) return\n  const page = ref.current.children[0] as HTMLElement\n  page.style.transform = `scale(${scale})`\n  ref.current.style.width = page.getBoundingClientRect().width + 'px'\n  ref.current.style.height = page.getBoundingClientRect().height + 'px'\n  const calcX = (page.clientWidth * (scale - 1)) / 2\n  const calcY = (page.clientHeight * (scale - 1)) / 2\n  page.style.transform = `translate3d(${calcX}px, ${calcY}px, 0px) scale(${scale})`\n  const dummyBufferEl = document.createElement('div')\n  dummyBufferEl.className = 'dummybuff'\n  dummyBufferEl.style.height = '50px'\n  dummyBufferEl.style.transform = `scale(${scale})`\n  dummyBufferEl.style.visibility = 'hidden'\n  dummyBufferEl.style.position = 'absolute'\n  dummyBufferEl.style.opacity = '0'\n  document.body.appendChild(dummyBufferEl)\n\n  const bufferHeight = dummyBufferEl.getBoundingClientRect().height\n  return { dummyBufferEl, bufferHeight }\n}\n","import React, { Fragment, useEffect } from 'react'\nimport styled from 'styled-components'\nimport HeaderStepper from '../../../components/ui/headerStepper'\nimport { useCoverLetter } from '../../../contexts/coverLetter'\nimport CoverLetterStepper from './coverLetterStepper'\nimport Previewer from '../preview'\nimport TemplateFormSekleton from '../../../components/ui/tempFormSekleton'\nimport { useFormContext } from 'react-hook-form'\nimport RouterPrompt from '../../../components/routerPrompt'\nimport useExitPrompt from '../../../hooks/useExitPromt'\nimport { useAuth } from '../../../contexts/authProvider'\n\nconst CoverLetterBuilder = ({ isLoading }: { isLoading: boolean }) => {\n  const { data, step, setStep } = useCoverLetter()\n  const { showExitPrompt, setShowExitPrompt } = useExitPrompt(false)\n  const { user } = useAuth()\n\n  const {\n    formState: { errors, isDirty, isValid, isSubmitting },\n  } = useFormContext()\n\n  const isErrorStep1 =\n    errors.first_name ||\n    errors.last_name ||\n    errors.phone_number ||\n    errors.email_address ||\n    errors.address ||\n    errors.designation ||\n    errors.company ||\n    errors.hiring_manager\n      ? true\n      : false\n\n  const isErrorStep2 = errors.description ? true : false\n\n  const isValidStep1 =\n    data.first_name && data.last_name && data.email_address && !isErrorStep1\n      ? true\n      : false\n\n  const isValidStep2 = !isErrorStep2 ? true : false\n\n  useEffect(() => {\n    return () => {\n      setShowExitPrompt(false)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (isDirty || !isValid || isSubmitting) {\n      setShowExitPrompt(true)\n    } else {\n      setShowExitPrompt(false)\n    }\n  }, [isDirty, isSubmitting, isValid])\n\n  const paths = data && data.id ? [`/coverletters/preview/${data.id}`] : []\n  const isFreeUser =\n    user && user.role && !['ceo', 'pro'].some((r) => user.role.includes(r))\n  return (\n    <Fragment>\n      <RouterPrompt\n        show={showExitPrompt}\n        setShow={setShowExitPrompt}\n        exludedPaths={paths}\n      />\n\n      <Wrapper>\n        <HeaderStepper\n          max={2}\n          current={step}\n          backRoute={`${isFreeUser ? '/' : '/coverletters'}`}\n        >\n          <HeaderStepper.Step\n            name=\"Personal Info\"\n            isValid={isValidStep1}\n            isError={isErrorStep1}\n            onClick={() => setStep(1)}\n          />\n          <HeaderStepper.Step\n            name=\"Letter Body\"\n            isValid={isValidStep2}\n            isError={isErrorStep2}\n            onClick={() => setStep(2)}\n          />\n        </HeaderStepper>\n\n        <form id=\"coverLetterForm\" style={{ overflow: 'hidden' }}>\n          <LHS>\n            {isLoading || !data ? (\n              <TemplateFormSekleton />\n            ) : (\n              <CoverLetterStepper step={step} setStep={setStep} max={2} />\n            )}\n          </LHS>\n          <RHS>\n            <Previewer isDataLoading={isLoading} />\n          </RHS>\n        </form>\n      </Wrapper>\n    </Fragment>\n  )\n}\n\nexport default CoverLetterBuilder\n\nconst Wrapper = styled.div`\n  background-color: #fff;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  padding-top: 7rem;\n`\n\nconst LHS = styled.div`\n  height: 100%;\n  width: 50%;\n  margin-right: 50%;\n  overflow-y: scroll;\n  &::-webkit-scrollbar {\n    width: 0;\n  }\n`\nconst RHS = styled.div`\n  background-color: #f7f9fc;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  user-select: none;\n  height: 100%;\n  position: fixed;\n  width: 50%;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  overflow-y: scroll;\n  padding-top: 7rem;\n  @media (max-width: 1500px) {\n    padding-bottom: 2rem;\n    padding-top: 9rem;\n  }\n`\n","import React, { Fragment, useEffect, useRef, useState } from 'react'\nimport { useFormContext } from 'react-hook-form'\nimport { useHistory } from 'react-router-dom'\nimport styled from 'styled-components'\nimport DownArrowIcon from '../../components/svgs/downArrow'\nimport DownloadIcon from '../../components/svgs/download'\nimport DropButton from '../../components/ui/DropButton'\nimport { Button } from '../../styled/button'\nimport '../../styled/template_global.css'\nimport templateMapper from '../../helpers/templateMapper'\nimport PreviewSkeleton from '../../components/ui/previewSkeleton'\nimport { useCoverLetter } from '../../contexts/coverLetter'\nimport { useViewport } from '../../contexts/viewPort'\nimport { getAllCoverLetterTemplates } from '../../queries/coverLetterQueries'\nimport { Spinner } from '../../styled/loader'\n\nconst TemplateViewer = ({ isLoading }: { isLoading: boolean }) => {\n  const [showDownload, setShowDownload] = useState(false)\n  const [isTemplateMapping, setIsTemplateMapping] = useState(false)\n  const [pages, setPages] = useState(1)\n  const [curr, setCurr] = useState(1)\n  const [buffer, setBuffer] = useState(0)\n  const { width, height } = useViewport()\n  const histroy = useHistory()\n\n  const {\n    data,\n    isTemplateReady,\n    template,\n    templateData,\n    setTemplate,\n    submitCoverletter,\n    isSaving,\n  } = useCoverLetter()\n\n  const {\n    data: templates,\n    isLoading: isTemplateLoading,\n    isError,\n  } = getAllCoverLetterTemplates()\n\n  const ref = useRef<HTMLDivElement>(null)\n\n  const {\n    formState: { isValid },\n  } = useFormContext()\n\n  const scale =\n    width >= 1920\n      ? 1.15\n      : width <= 1080\n      ? (width * 1.4) / 1920\n      : (width * 1.15) / 1920\n\n  useEffect(() => {\n    if (!ref || !ref.current || !templateData) return\n    const page = ref.current.children[0] as HTMLElement\n    page.style.transform = `scale(${scale})`\n    ref.current.style.width = page.getBoundingClientRect().width + 'px'\n    ref.current.style.height = page.getBoundingClientRect().height + 'px'\n    const calcX = (page.clientWidth * (scale - 1)) / 2\n    const calcY = (page.clientHeight * (scale - 1)) / 2\n    page.style.transform = `translate3d(${calcX}px, ${calcY}px, 0px) scale(${scale})`\n    const dummyBufferEl = document.createElement('div')\n    dummyBufferEl.style.height = '50px'\n    dummyBufferEl.style.transform = `scale(${scale})`\n    dummyBufferEl.style.visibility = 'hidden'\n    dummyBufferEl.style.position = 'absolute'\n    dummyBufferEl.style.opacity = '0'\n    document.body.appendChild(dummyBufferEl)\n    const bufferHeight = dummyBufferEl.getBoundingClientRect().height\n    setBuffer(bufferHeight)\n    document.body.removeChild(dummyBufferEl)\n  }, [data, ref, templateData, templates, width, height])\n\n  useEffect(() => {\n    if (\n      !data ||\n      !templates ||\n      isSaving ||\n      isTemplateLoading ||\n      !isTemplateReady ||\n      buffer === 0\n    )\n      return\n    setIsTemplateMapping(true)\n    const timer = setTimeout(() => {\n      if (!ref || !ref.current) return\n      const container = document.querySelector('.rhs_wrapper')\n      container && container.scrollTo(0, 0)\n      const page = ref.current.querySelector('.page')\n      if (!page) return\n      const wrapper = page.children[0] as HTMLElement\n\n      if (!wrapper) return\n      const template = JSON.parse(JSON.stringify(templateData))\n      wrapper.innerHTML = ''\n      const pages = templateMapper(template, data, wrapper, buffer)\n      if (!pages) return\n      updatePages(Object.keys(pages).length)\n      setCurr(1)\n      setIsTemplateMapping(false)\n    }, 500)\n    return () => clearTimeout(timer)\n  }, [\n    data,\n    ref,\n    isTemplateLoading,\n    templates,\n    isTemplateReady,\n    isSaving,\n    buffer,\n  ])\n\n  useEffect(() => {\n    if (!ref || !ref.current) return\n    const page = ref.current.querySelector('.page') as HTMLElement\n    if (!page) return\n    const wrapper = page.children[0] as HTMLElement\n    if (!wrapper) return\n    wrapper.style.transform = `translateY(-${page.clientHeight * (curr - 1)}px)`\n    wrapper.style.height = page.clientHeight * curr + 'px'\n  }, [curr, ref.current])\n\n  useEffect(() => {\n    if (isSaving) setShowDownload(false)\n    return\n  }, [isSaving])\n\n  const updatePages = (total: number) => {\n    curr > total && setCurr(total)\n    setPages(total)\n  }\n\n  const handleClick = (type: 'prev' | 'next') => {\n    if (type === 'prev') curr > 1 && curr <= pages && setCurr(curr - 1)\n    if (type === 'next') curr >= 1 && curr < pages && setCurr(curr + 1)\n    return\n  }\n\n  const handleChange = (name: string) => {\n    if (isSaving) return\n    setTemplate(name)\n  }\n\n  return (\n    <Fragment>\n      <HeadWrapper>\n        <Button\n          btnType=\"ghost\"\n          size=\"lg\"\n          onClick={() => histroy.push(`/coverletters/edit/${data.id}`)}\n        >\n          Back to Editor\n        </Button>\n        <div>\n          {!isError && !isTemplateLoading && (\n            <DownloadBtn\n              vertical=\"bottom\"\n              horizontal=\"left\"\n              show={showDownload}\n              setShow={setShowDownload}\n              disabled={isSaving || !isValid}\n            >\n              <DropButton.Button>\n                <Fragment>\n                  {!isSaving ? (\n                    <Fragment>\n                      Download <DownloadIcon />\n                    </Fragment>\n                  ) : (\n                    <Fragment>\n                      Downloading <Spinner size=\"1rem\" />\n                    </Fragment>\n                  )}\n                </Fragment>\n              </DropButton.Button>\n              <DropButton.Item>\n                <a onClick={() => submitCoverletter('pdf')}>Download PDF</a>\n              </DropButton.Item>\n\n              <DropButton.Item>\n                <a onClick={() => submitCoverletter('docx')}>Export to DOCX</a>\n              </DropButton.Item>\n\n              <DropButton.Item>\n                <a onClick={() => submitCoverletter('txt')}>Export to TXT</a>\n              </DropButton.Item>\n            </DownloadBtn>\n          )}\n        </div>\n      </HeadWrapper>\n      {isError ? (\n        <div className=\"align-center\" style={{ height: '40vh' }}>\n          <h3>Failed to load design!</h3>\n        </div>\n      ) : (\n        <Wrapper>\n          <LHS>\n            <TemplateGrid data-test-id=\"coverletter-templates\">\n              {templates &&\n                (templates as any).map((item: any, i: number) => (\n                  <Template\n                    key={i}\n                    active={template === item.name}\n                    data-test-id={\n                      template === item.name\n                        ? 'active-template'\n                        : 'inactive-template'\n                    }\n                  >\n                    <div onClick={() => handleChange(item.name)}>\n                      <img src={item.thumbnail} alt=\"\" />\n                    </div>\n                    <p>{item.name}</p>\n                  </Template>\n                ))}\n            </TemplateGrid>\n          </LHS>\n          <RHS>\n            <RHSWrapper className=\"rhs_wrapper\">\n              <PageToggler>\n                <button\n                  type=\"button\"\n                  style={{ transform: 'rotateZ(90deg)' }}\n                  onClick={() => handleClick('prev')}\n                >\n                  <DownArrowIcon size=\"0.75rem\" color=\"#fff\" />\n                </button>\n                <p>\n                  {curr}&nbsp;/&nbsp;{pages}\n                </p>\n                <button\n                  type=\"button\"\n                  style={{ transform: 'rotateZ(270deg)' }}\n                  onClick={() => handleClick('next')}\n                >\n                  <DownArrowIcon size=\"0.75rem\" color=\"#fff\" />\n                </button>\n              </PageToggler>\n              <PreviewWrapper>\n                {(!isTemplateReady ||\n                  isLoading ||\n                  !data ||\n                  isTemplateMapping ||\n                  isTemplateLoading) && (\n                  <SkeletonWrapper data-test-id=\"coverletter-skeleton\">\n                    <PreviewSkeleton scale={scale} />\n                  </SkeletonWrapper>\n                )}\n                <TemplateWrapper\n                  ref={ref}\n                  style={\n                    !isTemplateReady ||\n                    isLoading ||\n                    !data ||\n                    isTemplateMapping ||\n                    isTemplateLoading\n                      ? { visibility: 'hidden' }\n                      : { visibility: 'visible' }\n                  }\n                >\n                  <div className=\"page\">\n                    <div style={{ width: '100%' }} />\n                  </div>\n                </TemplateWrapper>\n              </PreviewWrapper>\n            </RHSWrapper>\n          </RHS>\n        </Wrapper>\n      )}\n    </Fragment>\n  )\n}\n\nexport default TemplateViewer\n\nconst Wrapper = styled.div`\n  background-color: #fff;\n  display: grid;\n  grid-template-columns: minmax(400px, 500px) auto;\n  height: 100%;\n  @media (max-width: 1080px) {\n    grid-template-columns: 30% 70%;\n  }\n`\n\nconst SkeletonWrapper = styled.div`\n  position: absolute;\n  z-index: 1;\n`\n\nconst LHS = styled.div`\n  height: 100%;\n  max-height: 100vh;\n  padding: 7rem 2rem 3rem;\n  overflow-y: auto;\n  @media (max-width: 1080px) {\n    padding: 7rem 0 3rem;\n  }\n`\n\nconst RHS = styled.div`\n  background-color: #f7f9fc;\n  user-select: none;\n  max-height: 100vh;\n  overflow: hidden;\n  position: relative;\n`\nconst RHSWrapper = styled.div`\n  display: flex;\n  padding: 7rem 2rem 3rem;\n  height: 100%;\n  width: 100%;\n  margin: 0 auto;\n  overflow: scroll;\n`\nconst PageToggler = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  left: 0;\n  right: 0;\n  margin: auto;\n  max-width: 100px;\n  bottom: 10%;\n  z-index: 10;\n  height: 35px;\n  border-radius: 6px;\n  background-color: ${({ theme }) => theme.colors.primary};\n  p {\n    font-weight: 600;\n  }\n  button {\n    padding-left: 0.7rem;\n    padding-right: 0.7rem;\n    svg {\n      path {\n        stroke-width: 1.5;\n      }\n    }\n  }\n`\n\nconst HeadWrapper = styled.div`\n  display: flex;\n  padding: 1rem 3rem;\n  justify-content: space-between;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  border-bottom: 2px solid #eee;\n  background-color: #fff;\n  z-index: 100;\n`\nconst TemplateGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-gap: 1rem;\n  padding: 0 2rem;\n  max-width: 450px;\n  margin: auto;\n  @media (max-width: 1080px) {\n    grid-template-columns: repeat(1, 1fr);\n  }\n`\nconst Template = styled.div<{ active: boolean }>`\n  div {\n    display: flex;\n    width: 100%;\n    min-height: 250px;\n    background-color: #f7f7f7;\n    outline-style: solid;\n    outline-color: #eee;\n    border-radius: 8px;\n    cursor: pointer;\n    transition: all ease-in-out 150ms;\n    overflow: hidden;\n    /* box-shadow: 5px 5px 10px 0px #00000012; */\n    outline-width: ${({ active }) => (active ? '2px' : '1px')};\n    outline-color: ${({ theme, active }) => active && theme.shades.primary[2]};\n    img {\n      width: 100%;\n    }\n  }\n  p {\n    font-size: 1rem;\n    color: ${({ theme, active }) => active && theme.colors.primary};\n    font-weight: 600;\n    text-align: center;\n    text-transform: capitalize;\n    transition: all ease-in-out 150ms;\n  }\n  &:hover {\n    div {\n      outline-width: 5px;\n      outline-color: ${({ theme }) => theme.shades.primary[2]};\n    }\n    p {\n      color: ${({ theme }) => theme.colors.primary};\n    }\n  }\n`\n\nconst DownloadBtn = styled(DropButton)`\n  button {\n    background: rgba(240, 132, 56, 1);\n    color: #fff;\n    height: 40px;\n    width: 150px;\n    display: flex;\n    justify-content: space-around;\n    padding: 0 1rem;\n    border-radius: 6px;\n    svg {\n      path {\n        stroke: #fff;\n      }\n    }\n    &:disabled {\n      background-color: ${({ theme }) => theme.colors.grey};\n    }\n  }\n`\nconst PreviewWrapper = styled.div`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  margin: auto;\n`\n\nconst TemplateWrapper = styled.div`\n  display: block;\n  position: relative;\n  box-shadow: 0px 0px 15px 0px #0000000f;\n  border: 1px solid #eee;\n  border-radius: 10px;\n  overflow: hidden;\n`\n","import { Fragment } from 'react'\nimport CoverLetterProvider from '../../contexts/coverLetter'\nimport { getCoverLetter } from '../../queries/coverLetterQueries'\nimport CoverLetterBuilder from './builder'\nimport TemplateViewer from './template-viewer'\n\nconst OldCoverLetter = ({\n  type,\n  id,\n  width,\n}: {\n  type: string\n  id: string\n  width: number\n}) => {\n  const {\n    data: initialData,\n    isError,\n    isLoading,\n  }: any = getCoverLetter(id, width > 768)\n\n  return (\n    <Fragment>\n      {isError ? (\n        <div className=\"align-center\" style={{ height: '30vh' }}>\n          <h3>Failed to load design!</h3>\n        </div>\n      ) : (\n        <CoverLetterProvider\n          initialData={initialData}\n          templateName={'template1'}\n        >\n          {type === 'preview' ? (\n            <TemplateViewer isLoading={isLoading} />\n          ) : type === 'edit' ? (\n            <CoverLetterBuilder isLoading={isLoading} />\n          ) : null}\n        </CoverLetterProvider>\n      )}\n    </Fragment>\n  )\n}\nexport default OldCoverLetter\n","import React, { Fragment } from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { useViewport } from '../../contexts/viewPort'\nimport { Button } from '../../styled/button'\nimport PageNotFound from '../404'\nimport NewCoverLetter from './createNew'\nimport OldCoverLetter from './oldCoverletter'\n\nconst SingleCoverLetter = () => {\n  const { id, type } = useParams<{ id: string; type: string }>()\n  const { width } = useViewport()\n  const history = useHistory()\n  return (\n    <Fragment>\n      {width < 768 && width !== 0 ? (\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            flexDirection: 'column',\n            height: '90%',\n          }}\n        >\n          <h3 style={{ textAlign: 'center' }}>\n            Builder not available, Please visit desktop site...\n          </h3>\n          <Button\n            btnType=\"primary\"\n            size=\"lg\"\n            style={{\n              width: 'fit-content',\n              padding: '0 1rem',\n              marginTop: '1rem',\n            }}\n            onClick={() => history.push('/')}\n          >\n            Back to Dashboard\n          </Button>\n        </div>\n      ) : width >= 768 ? (\n        <Fragment>\n          {type === 'new' ? (\n            <NewCoverLetter templateName={id} />\n          ) : ['edit', 'preview'].indexOf(type) !== -1 ? (\n            <OldCoverLetter type={type} id={id} width={width} />\n          ) : (\n            <PageNotFound />\n          )}\n        </Fragment>\n      ) : null}\n    </Fragment>\n  )\n}\n\nexport default SingleCoverLetter\n","function replaceClassName(origClass, classToRemove) {\n  return origClass.replace(new RegExp(\"(^|\\\\s)\" + classToRemove + \"(?:\\\\s|$)\", 'g'), '$1').replace(/\\s+/g, ' ').replace(/^\\s*|\\s*$/g, '');\n}\n/**\n * Removes a CSS class from a given element.\n * \n * @param element the element\n * @param className the CSS class name\n */\n\n\nexport default function removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else if (typeof element.className === 'string') {\n    element.className = replaceClassName(element.className, className);\n  } else {\n    element.setAttribute('class', replaceClassName(element.className && element.className.baseVal || '', className));\n  }\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport addOneClass from 'dom-helpers/addClass';\nimport removeOneClass from 'dom-helpers/removeClass';\nimport React from 'react';\nimport Transition from './Transition';\nimport { classNamesShape } from './utils/PropTypes';\n\nvar _addClass = function addClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return addOneClass(node, c);\n  });\n};\n\nvar removeClass = function removeClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return removeOneClass(node, c);\n  });\n};\n/**\n * A transition component inspired by the excellent\n * [ng-animate](https://docs.angularjs.org/api/ngAnimate) library, you should\n * use it if you're using CSS transitions or animations. It's built upon the\n * [`Transition`](https://reactcommunity.org/react-transition-group/transition)\n * component, so it inherits all of its props.\n *\n * `CSSTransition` applies a pair of class names during the `appear`, `enter`,\n * and `exit` states of the transition. The first class is applied and then a\n * second `*-active` class in order to activate the CSS transition. After the\n * transition, matching `*-done` class names are applied to persist the\n * transition state.\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <CSSTransition in={inProp} timeout={200} classNames=\"my-node\">\n *         <div>\n *           {\"I'll receive my-node-* classes\"}\n *         </div>\n *       </CSSTransition>\n *       <button type=\"button\" onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the `in` prop is set to `true`, the child component will first receive\n * the class `example-enter`, then the `example-enter-active` will be added in\n * the next tick. `CSSTransition` [forces a\n * reflow](https://github.com/reactjs/react-transition-group/blob/5007303e729a74be66a21c3e2205e4916821524b/src/CSSTransition.js#L208-L215)\n * between before adding the `example-enter-active`. This is an important trick\n * because it allows us to transition between `example-enter` and\n * `example-enter-active` even though they were added immediately one after\n * another. Most notably, this is what makes it possible for us to animate\n * _appearance_.\n *\n * ```css\n * .my-node-enter {\n *   opacity: 0;\n * }\n * .my-node-enter-active {\n *   opacity: 1;\n *   transition: opacity 200ms;\n * }\n * .my-node-exit {\n *   opacity: 1;\n * }\n * .my-node-exit-active {\n *   opacity: 0;\n *   transition: opacity 200ms;\n * }\n * ```\n *\n * `*-active` classes represent which styles you want to animate **to**, so it's\n * important to add `transition` declaration only to them, otherwise transitions\n * might not behave as intended! This might not be obvious when the transitions\n * are symmetrical, i.e. when `*-enter-active` is the same as `*-exit`, like in\n * the example above (minus `transition`), but it becomes apparent in more\n * complex transitions.\n *\n * **Note**: If you're using the\n * [`appear`](http://reactcommunity.org/react-transition-group/transition#Transition-prop-appear)\n * prop, make sure to define styles for `.appear-*` classes as well.\n */\n\n\nvar CSSTransition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(CSSTransition, _React$Component);\n\n  function CSSTransition() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.appliedClasses = {\n      appear: {},\n      enter: {},\n      exit: {}\n    };\n\n    _this.onEnter = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument[0],\n          appearing = _this$resolveArgument[1];\n\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, appearing ? 'appear' : 'enter', 'base');\n\n      if (_this.props.onEnter) {\n        _this.props.onEnter(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onEntering = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument2 = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument2[0],\n          appearing = _this$resolveArgument2[1];\n\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.addClass(node, type, 'active');\n\n      if (_this.props.onEntering) {\n        _this.props.onEntering(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onEntered = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument3 = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument3[0],\n          appearing = _this$resolveArgument3[1];\n\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.removeClasses(node, type);\n\n      _this.addClass(node, type, 'done');\n\n      if (_this.props.onEntered) {\n        _this.props.onEntered(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onExit = function (maybeNode) {\n      var _this$resolveArgument4 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument4[0];\n\n      _this.removeClasses(node, 'appear');\n\n      _this.removeClasses(node, 'enter');\n\n      _this.addClass(node, 'exit', 'base');\n\n      if (_this.props.onExit) {\n        _this.props.onExit(maybeNode);\n      }\n    };\n\n    _this.onExiting = function (maybeNode) {\n      var _this$resolveArgument5 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument5[0];\n\n      _this.addClass(node, 'exit', 'active');\n\n      if (_this.props.onExiting) {\n        _this.props.onExiting(maybeNode);\n      }\n    };\n\n    _this.onExited = function (maybeNode) {\n      var _this$resolveArgument6 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument6[0];\n\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, 'exit', 'done');\n\n      if (_this.props.onExited) {\n        _this.props.onExited(maybeNode);\n      }\n    };\n\n    _this.resolveArguments = function (maybeNode, maybeAppearing) {\n      return _this.props.nodeRef ? [_this.props.nodeRef.current, maybeNode] // here `maybeNode` is actually `appearing`\n      : [maybeNode, maybeAppearing];\n    };\n\n    _this.getClassNames = function (type) {\n      var classNames = _this.props.classNames;\n      var isStringClassNames = typeof classNames === 'string';\n      var prefix = isStringClassNames && classNames ? classNames + \"-\" : '';\n      var baseClassName = isStringClassNames ? \"\" + prefix + type : classNames[type];\n      var activeClassName = isStringClassNames ? baseClassName + \"-active\" : classNames[type + \"Active\"];\n      var doneClassName = isStringClassNames ? baseClassName + \"-done\" : classNames[type + \"Done\"];\n      return {\n        baseClassName: baseClassName,\n        activeClassName: activeClassName,\n        doneClassName: doneClassName\n      };\n    };\n\n    return _this;\n  }\n\n  var _proto = CSSTransition.prototype;\n\n  _proto.addClass = function addClass(node, type, phase) {\n    var className = this.getClassNames(type)[phase + \"ClassName\"];\n\n    var _this$getClassNames = this.getClassNames('enter'),\n        doneClassName = _this$getClassNames.doneClassName;\n\n    if (type === 'appear' && phase === 'done' && doneClassName) {\n      className += \" \" + doneClassName;\n    } // This is to force a repaint,\n    // which is necessary in order to transition styles when adding a class name.\n\n\n    if (phase === 'active') {\n      /* eslint-disable no-unused-expressions */\n      node && node.scrollTop;\n    }\n\n    if (className) {\n      this.appliedClasses[type][phase] = className;\n\n      _addClass(node, className);\n    }\n  };\n\n  _proto.removeClasses = function removeClasses(node, type) {\n    var _this$appliedClasses$ = this.appliedClasses[type],\n        baseClassName = _this$appliedClasses$.base,\n        activeClassName = _this$appliedClasses$.active,\n        doneClassName = _this$appliedClasses$.done;\n    this.appliedClasses[type] = {};\n\n    if (baseClassName) {\n      removeClass(node, baseClassName);\n    }\n\n    if (activeClassName) {\n      removeClass(node, activeClassName);\n    }\n\n    if (doneClassName) {\n      removeClass(node, doneClassName);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        _ = _this$props.classNames,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"classNames\"]);\n\n    return /*#__PURE__*/React.createElement(Transition, _extends({}, props, {\n      onEnter: this.onEnter,\n      onEntered: this.onEntered,\n      onEntering: this.onEntering,\n      onExit: this.onExit,\n      onExiting: this.onExiting,\n      onExited: this.onExited\n    }));\n  };\n\n  return CSSTransition;\n}(React.Component);\n\nCSSTransition.defaultProps = {\n  classNames: ''\n};\nCSSTransition.propTypes = process.env.NODE_ENV !== \"production\" ? _extends({}, Transition.propTypes, {\n  /**\n   * The animation classNames applied to the component as it appears, enters,\n   * exits or has finished the transition. A single name can be provided, which\n   * will be suffixed for each stage, e.g. `classNames=\"fade\"` applies:\n   *\n   * - `fade-appear`, `fade-appear-active`, `fade-appear-done`\n   * - `fade-enter`, `fade-enter-active`, `fade-enter-done`\n   * - `fade-exit`, `fade-exit-active`, `fade-exit-done`\n   *\n   * A few details to note about how these classes are applied:\n   *\n   * 1. They are _joined_ with the ones that are already defined on the child\n   *    component, so if you want to add some base styles, you can use\n   *    `className` without worrying that it will be overridden.\n   *\n   * 2. If the transition component mounts with `in={false}`, no classes are\n   *    applied yet. You might be expecting `*-exit-done`, but if you think\n   *    about it, a component cannot finish exiting if it hasn't entered yet.\n   *\n   * 2. `fade-appear-done` and `fade-enter-done` will _both_ be applied. This\n   *    allows you to define different behavior for when appearing is done and\n   *    when regular entering is done, using selectors like\n   *    `.fade-enter-done:not(.fade-appear-done)`. For example, you could apply\n   *    an epic entrance animation when element first appears in the DOM using\n   *    [Animate.css](https://daneden.github.io/animate.css/). Otherwise you can\n   *    simply use `fade-enter-done` for defining both cases.\n   *\n   * Each individual classNames can also be specified independently like:\n   *\n   * ```js\n   * classNames={{\n   *  appear: 'my-appear',\n   *  appearActive: 'my-active-appear',\n   *  appearDone: 'my-done-appear',\n   *  enter: 'my-enter',\n   *  enterActive: 'my-active-enter',\n   *  enterDone: 'my-done-enter',\n   *  exit: 'my-exit',\n   *  exitActive: 'my-active-exit',\n   *  exitDone: 'my-done-exit',\n   * }}\n   * ```\n   *\n   * If you want to set these classes using CSS Modules:\n   *\n   * ```js\n   * import styles from './styles.css';\n   * ```\n   *\n   * you might want to use camelCase in your CSS file, that way could simply\n   * spread them instead of listing them one by one:\n   *\n   * ```js\n   * classNames={{ ...styles }}\n   * ```\n   *\n   * @type {string | {\n   *  appear?: string,\n   *  appearActive?: string,\n   *  appearDone?: string,\n   *  enter?: string,\n   *  enterActive?: string,\n   *  enterDone?: string,\n   *  exit?: string,\n   *  exitActive?: string,\n   *  exitDone?: string,\n   * }}\n   */\n  classNames: classNamesShape,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or 'appear' class is\n   * applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter-active' or\n   * 'appear-active' class is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or\n   * 'appear' classes are **removed** and the `done` class is added to the DOM node.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' class is\n   * applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit-active' is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' classes\n   * are **removed** and the `exit-done` class is added to the DOM node.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExited: PropTypes.func\n}) : {};\nexport default CSSTransition;","import hasClass from './hasClass';\n/**\n * Adds a CSS class to a given element.\n * \n * @param element the element\n * @param className the CSS class name\n */\n\nexport default function addClass(element, className) {\n  if (element.classList) element.classList.add(className);else if (!hasClass(element, className)) if (typeof element.className === 'string') element.className = element.className + \" \" + className;else element.setAttribute('class', (element.className && element.className.baseVal || '') + \" \" + className);\n}","/**\n * Checks if a given element has a CSS class.\n * \n * @param element the element\n * @param className the CSS class name\n */\nexport default function hasClass(element, className) {\n  if (element.classList) return !!className && element.classList.contains(className);\n  return (\" \" + (element.className.baseVal || element.className) + \" \").indexOf(\" \" + className + \" \") !== -1;\n}"],"names":["templateName","useState","error","setError","history","useHistory","queryClient","useQueryClient","createNew","createNewCoverletter","useEffect","Fragment","className","ErrWrapper","btnType","size","onClick","type","styled","first_name","Yup","required","max","min","last_name","email_address","email","phoneRegExp","phone_number","test","value","length","designation","address","label","company","hiring_manager","description","replaceAll","replace","validateCoverLetterSteps","shape","defaultValues","title","contextValues","data","id","templateData","template","step","submitSuccess","isSaving","setStep","setTemplate","submitCoverletter","isTemplateReady","CoverLetterContext","React","initialData","children","cssReady","setCssReady","fontsReady","setFontsReady","queryEnabled","setQueryEnabled","setSubmitSuccess","setIsSaving","limitsReached","setLimitsReached","setNotify","useNotify","methods","useForm","mode","criteriaMode","resolver","yupResolver","getCoverLetterTemplate","isTemplateLoading","isLoading","handleSubmit","isError","watch","reset","trigger","setValue","formState","isValid","isDirty","fields","formData","keepDirty","keepIsValid","keepErrors","loadTemplateFonts","loadFonts","fonts","document","old","getElementById","remove","link","createElement","setAttribute","process","onload","onerror","console","log","head","appendChild","currData","hasTextinDescription","autoSave","submitForm","submitCoveletterForm","heading","message","name","handleCoverletterDownload","_id","Provider","handleClose","useCoverLetter","titleVal","setTitleVal","useFormContext","timer","setTimeout","shouldDirty","clearTimeout","TitleWrapper","placeholder","onChange","e","target","substring","handleChange","spellCheck","autoComplete","Grid","Input","theme","colors","primary","errors","RichTextEditor","style","marginTop","submit","setSubmit","btnSize","useViewport","width","isSubmitting","Wrapper","color","prev","marginRight","disabled","CSSTransition","in","timeout","enter","exit","Loader","LoadingDots","margin","dark","keyframes","dots","isDataLoading","ref","useRef","pages","setPages","curr","setCurr","buffer","setBuffer","showDownload","setShowDownload","firstLoad","setFirstLoad","height","histroy","scale","top","result","current","page","transform","getBoundingClientRect","calcX","clientWidth","calcY","clientHeight","dummyBufferEl","visibility","position","opacity","body","bufferHeight","getPreviewTemplateBufferHeight","removeChild","querySelector","wrapper","JSON","parse","stringify","innerHTML","templateMapper","updatePages","Object","keys","total","handleClick","SkeletonWrapper","PreviewWrapper","TemplateWrapper","PreviewFooter","TemplateBtn","justifyContent","push","PageToggler","DownloadBtn","vertical","horizontal","show","setShow","DropButton","grey","Button","useExitPrompt","showExitPrompt","setShowExitPrompt","user","useAuth","isErrorStep1","isErrorStep2","isValidStep1","isValidStep2","paths","isFreeUser","role","some","r","includes","exludedPaths","backRoute","overflow","LHS","RHS","isTemplateMapping","setIsTemplateMapping","getAllCoverLetterTemplates","templates","container","scrollTo","HeadWrapper","TemplateGrid","map","item","i","Template","active","src","thumbnail","alt","RHSWrapper","shades","getCoverLetter","useParams","display","alignItems","flexDirection","textAlign","padding","indexOf","replaceClassName","origClass","classToRemove","RegExp","removeClass","node","classes","split","forEach","c","element","classList","baseVal","_React$Component","_this","_len","arguments","args","Array","_key","call","apply","this","concat","appliedClasses","appear","onEnter","maybeNode","maybeAppearing","_this$resolveArgument","resolveArguments","appearing","removeClasses","addClass","props","onEntering","_this$resolveArgument2","onEntered","_this$resolveArgument3","onExit","onExiting","onExited","nodeRef","getClassNames","classNames","isStringClassNames","baseClassName","activeClassName","doneClassName","_proto","prototype","phase","scrollTop","add","contains","hasClass","_addClass","_this$appliedClasses$","base","done","render","_this$props","Transition","defaultProps","propTypes"],"sourceRoot":""}