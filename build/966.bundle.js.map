{"version":3,"file":"966.bundle.js","mappings":"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","sources":["webpack://user-dashboard/./src/components/svgs/dustbin.tsx","webpack://user-dashboard/./src/components/svgs/pen.tsx","webpack://user-dashboard/./src/components/ui/FormButton.tsx","webpack://user-dashboard/./src/components/ui/alert.tsx","webpack://user-dashboard/./src/helpers/calender.ts","webpack://user-dashboard/./src/helpers/getCalendar.ts","webpack://user-dashboard/./src/hooks/detectOutsideClick.ts","webpack://user-dashboard/./src/pages/tasks-calender/event.tsx","webpack://user-dashboard/./src/pages/tasks-calender/eventsList.tsx","webpack://user-dashboard/./src/apis/calendar.ts","webpack://user-dashboard/./src/components/svgs/location.tsx","webpack://user-dashboard/./src/pages/tasks-calender/popupEvent.tsx","webpack://user-dashboard/./src/pages/tasks-calender/calender.tsx","webpack://user-dashboard/./src/components/form/colorPicker.tsx","webpack://user-dashboard/./src/validations/calendar.ts","webpack://user-dashboard/./src/pages/tasks-calender/eventEdit.tsx","webpack://user-dashboard/./src/pages/tasks-calender/index.tsx","webpack://user-dashboard/./src/queries/calendarQueries.ts"],"sourcesContent":["import React, { Fragment } from 'react'\ninterface IconProps {\n  size?: string\n  color?: string\n  className?: string\n}\nconst DustBinIcon = ({ size, color, className }: IconProps) => {\n  return (\n    <Fragment>\n      <svg\n        width={size || '1rem'}\n        height={size || '1rem'}\n        className={className || ''}\n        viewBox='0 0 19 19'\n        fill='none'\n        xmlns='http://www.w3.org/2000/svg'\n      >\n        <path\n          d='M6.08594 2.13281H5.90625C6.00508 2.13281 6.08594 2.05195 6.08594 1.95312V2.13281H12.9141V1.95312C12.9141 2.05195 12.9949 2.13281 13.0938 2.13281H12.9141V3.75H14.5312V1.95312C14.5312 1.16025 13.8866 0.515625 13.0938 0.515625H5.90625C5.11338 0.515625 4.46875 1.16025 4.46875 1.95312V3.75H6.08594V2.13281ZM17.4062 3.75H1.59375C1.19619 3.75 0.875 4.07119 0.875 4.46875V5.1875C0.875 5.28633 0.955859 5.36719 1.05469 5.36719H2.41133L2.96611 17.1143C3.00205 17.8802 3.63545 18.4844 4.40137 18.4844H14.5986C15.3668 18.4844 15.9979 17.8824 16.0339 17.1143L16.5887 5.36719H17.9453C18.0441 5.36719 18.125 5.28633 18.125 5.1875V4.46875C18.125 4.07119 17.8038 3.75 17.4062 3.75ZM14.4257 16.8672H4.57432L4.03076 5.36719H14.9692L14.4257 16.8672Z'\n          fill={color || '#898989'}\n        />\n      </svg>\n    </Fragment>\n  )\n}\n\nexport default DustBinIcon\n","import React, { Fragment } from 'react'\ninterface IconProps {\n  size?: string\n  color?: string\n  className?: string\n}\nconst PenIcon = ({ size, color, className }: IconProps) => {\n  return (\n    <Fragment>\n      <svg\n        width={size || '1rem'}\n        height={size || '1rem'}\n        className={className || ''}\n        viewBox='0 0 24 24'\n        fill={color || '#898989'}\n        xmlns='http://www.w3.org/2000/svg'\n      >\n        <path d='M20.41 4.94l-1.35-1.35c-.78-.78-2.05-.78-2.83 0L3 16.82V21h4.18L20.41 7.77c.79-.78.79-2.05 0-2.83zm-14 14.12L5 19v-1.36l9.82-9.82 1.41 1.41-9.82 9.83z'></path>\n      </svg>\n    </Fragment>\n  )\n}\n\nexport default PenIcon\n","import React, { Fragment } from 'react'\nimport styled from 'styled-components'\nimport { Spinner } from '../../styled/loader'\n\nexport interface BtnProps {\n  btnType: 'primary' | 'secondary' | 'ghost' | 'text' | 'link'\n  btnSize: 'lg' | 'sm' | 'xl'\n  fontSize?: string\n  backgroundColor?: string\n  color?: string\n  type?: 'button' | 'reset' | 'submit' | undefined\n  width?: string\n  setLoading: (val: boolean) => void\n}\n\ninterface IProps {\n  loading?: boolean\n  disabled?: boolean\n\n  children: any\n}\n\nconst FormButton: React.FC<IProps & any> = ({\n  loading,\n  disabled,\n  children,\n  style,\n  ...rest\n}) => {\n  return (\n    <Fragment>\n      <StyledButton\n        {...rest}\n        disabled={disabled ? disabled : loading}\n        style={style}\n      >\n        {loading ? (\n          <Spinner\n            size=\"20px\"\n            type={\n              rest.btnType === 'primary' ||\n              rest.btnType === 'secondary' ||\n              rest.btnType === 'ghost'\n                ? 'white'\n                : 'primary'\n            }\n          />\n        ) : (\n          children\n        )}\n      </StyledButton>\n    </Fragment>\n  )\n}\n\nexport default FormButton\n\nexport const StyledButton = styled.button<BtnProps>`\n  background-color: ${({ btnType, theme, backgroundColor }) =>\n    backgroundColor\n      ? backgroundColor\n      : btnType === 'secondary' || btnType === 'text' || btnType === 'link'\n      ? theme.colors.white\n      : btnType === 'ghost'\n      ? theme.colors.light\n      : theme.colors.primary};\n  height: ${({ btnSize }) =>\n    btnSize === 'xl' ? '48px' : btnSize === 'lg' ? '40px' : '32px'};\n  color: ${({ btnType, theme, disabled }) =>\n    !disabled\n      ? btnType === 'secondary' || btnType === 'link'\n        ? theme.colors.primary\n        : btnType === 'ghost' || btnType === 'text'\n        ? theme.colors.dark\n        : theme.colors.white\n      : theme.colors.white};\n  border: 1px solid\n    ${({ btnType, theme }) =>\n      btnType === 'secondary' || btnType === 'primary'\n        ? theme.colors.primary\n        : 'transparent'};\n  user-select: none;\n  font-size: ${({ fontSize }) => fontSize || '0.875rem'};\n  text-align: center;\n  justify-content: center;\n  font-weight: normal;\n  font-style: normal;\n  letter-spacing: 0.035em;\n  width: ${({ width }) => (width ? width : 'fit-content')};\n  padding: 0 1.5rem;\n  border-radius: 4px;\n  margin: 0;\n  transition: background 300ms ease-in-out;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  text-align: center;\n  transition: all 150ms ease-in-out;\n  &:hover,\n  &:focus {\n    ${({ btnType, theme }) =>\n      btnType === 'primary' || btnType === 'secondary'\n        ? `box-shadow: 0 0 1px 3px ${theme.shades.primary[3]}`\n        : btnType === 'ghost'\n        ? `background-color: #e6e6e6`\n        : null};\n  }\n  &:disabled {\n    color: ${({ theme }) => theme.colors.dark};\n    border: transparent;\n    background-color: ${({ theme }) => theme.colors.light};\n  }\n  @media (max-width: 834px) {\n    height: ${({ btnSize }) =>\n      btnSize === 'xl' ? '40px' : btnSize === 'lg' ? '40px' : '32px'};\n    font-size: 0.875rem;\n  }\n  @media (max-width: 480px) {\n    height: ${({ btnSize }) =>\n      btnSize === 'xl' ? '32px' : btnSize === 'lg' ? '40px' : '32px'};\n    font-size: 0.75rem;\n  }\n`\n","import React, { Fragment } from 'react'\nimport styled, { DefaultTheme, withTheme } from 'styled-components'\nimport DangerIcon from '../svgs/danger'\nimport { useHistory } from 'react-router'\nimport { Button } from '../../styled/button'\nimport WarningIcon from '../svgs/warning'\nimport CheckIcon from '../svgs/check'\nimport InfoIcon from '../svgs/info'\nimport { Transition, TransitionStatus } from 'react-transition-group'\n\ninterface IProps {\n  type: 'danger' | 'info' | 'warning' | 'success'\n  theme: DefaultTheme\n  redirect?: string\n  popup?: boolean\n  heading?: string\n  message?: string\n  genricMsg?: '500'\n  style?: any\n  show: boolean\n}\n\nconst Alert: React.FC<IProps> = ({\n  theme,\n  redirect,\n  popup,\n  type,\n  heading,\n  message,\n  genricMsg,\n  style,\n  show\n}) => {\n  const history = useHistory()\n\n  const redirectUser = () => {\n    if (popup) return alert('Popup Close')\n    if (!redirect) return history.goBack()\n    else return history.push(redirect)\n  }\n\n  let icon: any\n  switch (type) {\n    case 'danger':\n      icon = <DangerIcon size='100px' color={theme.colors.primary} />\n      break\n    case 'warning':\n      icon = <WarningIcon size='100px' color={theme.colors.primary} />\n      break\n    case 'success':\n      icon = <CheckIcon size='100px' color={theme.colors.primary} />\n      break\n    case 'info':\n      icon = <InfoIcon size='100px' color={theme.colors.primary} />\n      break\n    default:\n      break\n  }\n\n  let msg: string\n  let title: string\n  switch (genricMsg) {\n    case '500':\n      title = 'Error!'\n      msg = 'Something went wrong.'\n      break\n    default:\n      msg = message as string\n      title = heading as string\n      break\n  }\n\n  return (\n    <Fragment>\n      <Transition in={show} timeout={300}>\n        {(state: TransitionStatus) => (\n          <Wrapper\n            state={state}\n            style={{\n              ...style\n            }}\n            className='align-center'\n          >\n            <div>\n              {show && (\n                <Fragment>\n                  {icon}\n                  <h2>{title}</h2>\n                  <p>{msg}</p>\n                  <Button\n                    btnType='link'\n                    size='xl'\n                    onClick={() => redirectUser()}\n                  >\n                    Ok\n                  </Button>\n                </Fragment>\n              )}\n            </div>\n          </Wrapper>\n        )}\n      </Transition>\n    </Fragment>\n  )\n}\n\nexport default withTheme(Alert)\n\nconst Wrapper = styled.div<{ state: TransitionStatus }>`\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background: rgb(0 0 0 / 20%);\n  z-index: 1000;\n  opacity: ${({ state }) =>\n    state === 'entered' || state === 'entering' ? 1 : 0};\n  visibility: ${({ state }) =>\n    state === 'entered' || state === 'entering' ? 'visible' : 'hidden'};\n  transition: all 300ms ease-in-out;\n\n  div {\n    display: ${({ state }) =>\n      state === 'entered' || state === 'entering' ? 'flex' : 'none'};\n    flex-direction: column;\n    justify-content: center !important;\n    align-items: center;\n    max-width: 400px;\n    max-height: 400px;\n    height: 100%;\n    width: 100%;\n    padding: 2rem;\n    /* box-shadow: 5px 5px 10px 5px rgb(237 237 237 / 50%); */\n    border: 1px solid rgb(237 237 237 / 20%);\n    border-radius: 1rem;\n    background-color: #fff;\n  \n  h2,\n  p {\n    text-align: center;\n    margin: 0 0 1rem;\n  }\n  p {\n    font-size: 1.2rem;\n    margin-bottom: 2rem;\n  }\n  svg {\n    margin-bottom: 2rem;\n  }\n  ${Button} {\n    font-size: 1.2rem;\n    color: white;\n    background-color: ${({ theme }) => theme.colors.primary};\n  }\n`\n","import dayjs from 'dayjs'\n\ninterface Dates {\n  day: number\n  date: string\n  isCurr: boolean\n  events: any\n}\n/**\n * Calendar helper\n * @param date Date\n * @returns {dates for nextMonth, prevMonth, currentMonth and weekdays}\n */\nconst useCalender = (\n  date: dayjs.Dayjs\n): {\n  getDatesforNextMonth: Dates[]\n  getDatesForPrevMonth: Dates[]\n  getDatesForCurrMonth: Dates[]\n  weekdays: Array<string>\n} => {\n  const weekdays = ['mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun']\n\n  const daysInMonth = date.daysInMonth()\n  const firstDayOfMonth = date.startOf('month').format('d')\n  const endDayOfMonth = date.endOf('month').format('d')\n\n  const firstDayOfTheMonthWeekday = parseInt(firstDayOfMonth)\n  const visibleNumberOfDaysFromPreviousMonth = firstDayOfTheMonthWeekday\n    ? firstDayOfTheMonthWeekday - 1\n    : 6\n\n  const prevMonth = date.subtract(1, 'month')\n  const firstdateodMonth = date.startOf('month')\n  const prevMonthLastDay = firstdateodMonth\n    .subtract(visibleNumberOfDaysFromPreviousMonth, 'day')\n    .date()\n\n  const lastDayOfTheMonthWeekday = parseInt(endDayOfMonth)\n  const nextMonth = date.add(1, 'month')\n\n  const visibleNumberOfDaysFromNextMonth = lastDayOfTheMonthWeekday\n    ? 7 - lastDayOfTheMonthWeekday\n    : lastDayOfTheMonthWeekday\n\n  const getDatesForCurrMonth = [...Array(daysInMonth)].map((_day, i) => {\n    return {\n      day: i + 1,\n      date: `${date.format('YYYY')}-${date.format('MM')}-${i + 1}`,\n      isCurr: true,\n      events: [] as any,\n    }\n  })\n\n  const getDatesForPrevMonth = [\n    ...Array(visibleNumberOfDaysFromPreviousMonth),\n  ].map((_day, i) => {\n    return {\n      day: prevMonthLastDay + i,\n      date: `${prevMonth.format('YYYY')}-${prevMonth.format('MM')}-${\n        prevMonthLastDay + i\n      }`,\n      isCurr: false,\n      events: [] as any,\n    }\n  })\n\n  const getDatesforNextMonth = [...Array(visibleNumberOfDaysFromNextMonth)].map(\n    (_day, i) => {\n      return {\n        day: i + 1,\n        date: `${nextMonth.format('YYYY')}-${nextMonth.format('MM')}-${i + 1}`,\n        isCurr: false,\n        events: [] as any,\n      }\n    }\n  )\n\n  return {\n    getDatesforNextMonth,\n    getDatesForPrevMonth,\n    getDatesForCurrMonth,\n    weekdays,\n  }\n}\n\nexport default useCalender\n","import axios from 'axios'\nimport dayjs from 'dayjs'\nimport utc from 'dayjs/plugin/utc'\n\ndayjs.extend(utc)\n\n/**\n * Fetches calendar events for given year\n * @param year number, example: 2022\n * @returns calendar object\n */\nexport const fetchCalendarEvents = async (year: number) => {\n  const start = dayjs(year).startOf('year')\n  const end = dayjs(year).endOf('year')\n  const min = start.toISOString()\n  const max = end.toISOString()\n  try {\n    const res = await axios.get(\n      `/calendar${min && `?min=${min}`}${max && `&max=${max}`}`\n    )\n    if (res.data) return res.data\n    else return null\n  } catch (err) {\n    return null\n  }\n}\n","import { useEffect, useRef, useState } from 'react'\n\n/**\n * Detects if user clicks outside element boundary, tweaked for multiple elements in same list\n * @returns ref object of selected element\n */\nconst detectOutsideClick = () => {\n  const [isOutside, setIsOutside] = useState(false)\n  const ref = useRef<any>(null)\n\n  const handleClickOutside = (e: any) => {\n    if (!ref || !ref.current) return\n    if (!ref.current.contains(e.target)) {\n      setIsOutside(true)\n    } else {\n      setIsOutside(false)\n    }\n  }\n\n  useEffect(() => {\n    if (!ref || !ref.current) return\n    document.addEventListener('mousedown', handleClickOutside, true)\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside, true)\n    }\n  }, [ref.current])\n\n  return { isOutside, ref }\n}\n\nexport default detectOutsideClick\n","import dayjs from 'dayjs'\nimport React, { Fragment, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components'\nimport CrossIcon from '../../components/svgs/cross'\nimport DustBinIcon from '../../components/svgs/dustbin'\nimport LocationIcon from '../../components/svgs/location'\nimport PenIcon from '../../components/svgs/pen'\nimport ResumeIcon from '../../components/svgs/resumeIcon'\nimport detectOutsideClick from '../../hooks/detectOutsideClick'\n\ninterface IProps {\n  event: any\n  date: string\n  setPopupData: (_val: any) => void\n}\n\nconst options = (opacity: number) => [\n  { id: 1, color: `rgba(121, 134, 203, ${opacity})` },\n  { id: 2, color: `rgba(51, 182, 121, ${opacity})` },\n  { id: 3, color: `rgba(142, 36, 170, ${opacity})` },\n  { id: 4, color: `rgba(230, 124, 115, ${opacity})` },\n  { id: 5, color: `rgba(246, 192, 38, ${opacity})` },\n  { id: 6, color: `rgba(245, 81, 29, ${opacity})` },\n  { id: 7, color: `rgba(3, 155, 229, ${opacity})` },\n  { id: 8, color: `rgba(97, 97, 97, ${opacity})` },\n  { id: 9, color: `rgba(63, 81, 181, ${opacity})` },\n  { id: 10, color: `rgba(11, 128, 67, ${opacity})` },\n  { id: 11, color: `rgba(214, 0, 0, ${opacity})` },\n]\n\nconst borderColors = options(1)\nconst backgroundColors = options(0.2)\n\nconst CalenderEvent: React.FC<IProps> = ({ event, date, setPopupData }) => {\n  const handleOpen = (e: any) => {\n    setPopupData({ data: event, date })\n    e.stopPropagation()\n    e.preventDefault()\n  }\n\n  return (\n    <Fragment>\n      <Wrapper>\n        <Event\n          onClick={handleOpen}\n          className=\"truncate\"\n          borderColor={\n            event.colorId\n              ? borderColors[event.colorId - 1].color\n              : borderColors[6].color\n          }\n          backgroundColor={\n            event.colorId\n              ? backgroundColors[event.colorId - 1].color\n              : backgroundColors[6].color\n          }\n        >\n          {event.summary}\n        </Event>\n        {/* <PopupWrapper show={show} className=\"event-details\">\n          {show && (\n            <Fragment>\n              <ActionButton>\n                <Link\n                  to={{\n                    pathname: `/calendar/event/edit`,\n                    state: {\n                      data: event,\n                      date: date,\n                    },\n                  }}\n                >\n                  <span>\n                    <PenIcon size=\"1.2rem\" />\n                  </span>\n                </Link>\n                <span onClick={() => handleDelete(event.id, date)}>\n                  <DustBinIcon size=\"1.2rem\" />\n                </span>\n                <span onClick={handleClose}>\n                  <CrossIcon size=\"0.875rem\" />\n                </span>\n              </ActionButton>\n              <Details>\n                <li>\n                  <span></span>\n                  <div>\n                    <h3>{event.summary && event.summary}</h3>\n                    <p>\n                      {event.start && event.start.dateTime\n                        ? dayjs(event.start.dateTime).format(\n                            'MMM DD YYYY, h:mm a'\n                          )\n                        : event.start.date\n                        ? dayjs(event.start.date).format('MMM DD YYYY')\n                        : null}\n                      {event.end && (\n                        <Fragment>\n                          &nbsp;-&nbsp;\n                          {event.end.dateTime\n                            ? dayjs(event.end.dateTime).format(\n                                'MMM DD YYYY, h:mm a'\n                              )\n                            : event.end.date\n                            ? dayjs(event.end.date).format('MMM DD YYYY')\n                            : null}\n                        </Fragment>\n                      )}\n                    </p>\n                  </div>\n                </li>\n                {event.location && (\n                  <li>\n                    <span>\n                      <LocationIcon size=\"1.3rem\" />\n                    </span>\n                    <p>{event.location}</p>\n                  </li>\n                )}\n                {event.description && (\n                  <li>\n                    <span style={{ paddingTop: '0.25rem' }}>\n                      <ResumeIcon size=\"1.1rem\" />\n                    </span>\n                    <p\n                      dangerouslySetInnerHTML={{ __html: event.description }}\n                    />\n                  </li>\n                )}\n              </Details>\n            </Fragment>\n          )}\n        </PopupWrapper> */}\n      </Wrapper>\n    </Fragment>\n  )\n}\n\nexport default CalenderEvent\n\nconst Event = styled.p<{ backgroundColor: string; borderColor: string }>`\n  cursor: pointer;\n  font-weight: 700;\n  display: block;\n  border-left: 3px solid ${({ borderColor }) => borderColor};\n  font-size: 0.8rem;\n  background-color: ${({ backgroundColor }) => backgroundColor};\n  padding: 0.5rem 0 0.5rem 1rem;\n  margin: 0.5rem 0 0;\n  @media (max-width: 1400px) {\n    padding: 0.2rem 0 0.2rem 1rem;\n  }\n`\nconst Wrapper = styled.div`\n  position: relative;\n`\n// const PopupWrapper = styled.div<{ show: boolean }>`\n//   width: 500px;\n//   position: absolute;\n//   background-color: white;\n//   border-radius: 6px;\n//   box-shadow: 0px 24px 38px 3px rgb(0 0 0 / 14%),\n//     0px 9px 46px 8px rgb(0 0 0 / 12%), 0px 11px 15px -7px rgb(0 0 0 / 20%);\n//   /* visibility: ${({ show }) => (show ? 'visible' : 'hidden')}; */\n//   /* opacity: 0; */\n//   z-index: 10;\n//   margin: auto;\n//   scale: 0;\n//   transition: transform ease-in-out 100ms opacity ease-in-out 500ms;\n// `\n// const ActionButton = styled.div`\n//   display: flex;\n//   justify-content: end;\n//   margin: 0.5rem;\n\n//   span {\n//     height: 30px;\n//     width: 30px;\n//     margin-left: 0.2rem;\n//     margin-right: 0.2rem;\n//     display: flex;\n//     align-items: center;\n//     justify-content: center;\n//     border-radius: 50%;\n//     cursor: pointer;\n//     transition: all ease-in-out 300ms;\n//     &:hover {\n//       background-color: #eee;\n//     }\n//   }\n// `\n// const Details = styled.ul`\n//   max-height: 500px;\n//   overflow-y: auto;\n//   padding: 0.5rem 1rem 0.5rem 0.5rem;\n//   li {\n//     display: grid;\n//     grid-template-columns: 40px auto;\n//     margin-bottom: 0.875rem;\n//     span {\n//       word-break: break-word;\n//       display: flex;\n//       justify-content: center;\n//       margin-top: 0.2rem;\n//     }\n//     p {\n//       word-break: break-word;\n//       margin: 0.1rem 0;\n//     }\n//     div {\n//       margin: 0;\n//       h3 {\n//         word-break: break-word;\n//         margin: 0;\n//         text-transform: none;\n//       }\n//     }\n//   }\n// `\n","import React, { Fragment, useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport CrossIcon from '../../components/svgs/cross'\nimport detectOutsideClick from '../../hooks/detectOutsideClick'\nimport CalenderEvent from './event'\n\ninterface IProps {\n  events: any\n  date: string\n  setPopupData: (_val: any) => void\n}\n\nconst EventsList: React.FC<IProps> = ({ events, date, setPopupData }) => {\n  const { isOutside, ref } = detectOutsideClick()\n  const [showList, setShowList] = useState(false)\n\n  useEffect(() => {\n    setShowList(false)\n  }, [isOutside])\n\n  return (\n    <Fragment>\n      <Wrapper ref={ref}>\n        <More onClick={() => setShowList(true)}>{events.length - 2} more</More>\n        <EventsWrapper show={showList}>\n          {showList && (\n            <Fragment>\n              <CloseButton>\n                <a onClick={() => setShowList(false)}>\n                  <CrossIcon size=\"0.875rem\" />\n                </a>\n              </CloseButton>\n              {events.map((event: any, i: number) => (\n                <CalenderEvent\n                  date={date}\n                  key={i}\n                  event={event}\n                  setPopupData={setPopupData}\n                />\n              ))}\n            </Fragment>\n          )}\n        </EventsWrapper>\n      </Wrapper>\n    </Fragment>\n  )\n}\n\nexport default EventsList\n\nconst Wrapper = styled.div`\n  display: block;\n  position: relative;\n`\nconst More = styled.a`\n  padding-left: 0.5rem;\n  font-weight: 700;\n  width: 100%;\n  display: block;\n  transition: all ease-in-out 300ms;\n  &:hover {\n    background-color: ${({ theme }) => theme.shades.primary[3]};\n  }\n  @media (max-width: 1400px) {\n    font-size: 0.7rem;\n  }\n`\nconst CloseButton = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  a {\n    border-radius: 50%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding: 0.5rem;\n    &:hover {\n      background-color: #eee;\n    }\n  }\n`\n\nconst EventsWrapper = styled.div<{ show: boolean }>`\n  display: block;\n  position: absolute;\n  width: 100%;\n  height: fit-content;\n  bottom: 0;\n  background-color: white;\n  border-radius: 6px;\n  box-shadow: 0 0 15px 1px rgb(0 0 0 / 20%);\n  padding: 0.5rem;\n  z-index: 1;\n  visibility: ${({ show }) => (show ? 'visible' : 'hidden')};\n  transform: scale(${({ show }) => (show ? 1 : 0.9)});\n  transition: transform ease-in-out 200ms;\n`\n","import axiosRequest from '../helpers/axiosRequest'\n\ninterface calendarCreateEvent {\n  summary: string\n  description: string\n  location: string\n  start: {\n    dateTime?: string | undefined\n    date?: string | undefined\n  }\n  end: {\n    dateTime?: string | undefined\n    date?: string | undefined\n  }\n  colorId: string\n}\n\nexport const apiCreateEvent = async (reqData: calendarCreateEvent) => {\n  let data\n  let error: string\n\n  const { summary, description, location, start, end, colorId } = reqData\n\n  try {\n    const options = {\n      method: 'POST',\n      url: '/calendar',\n      data: {\n        summary,\n        description,\n        location,\n        start,\n        end,\n        colorId,\n      },\n    }\n    const res = await axiosRequest(options)\n    data = res.data as any\n    error = res.error\n    return { data, error }\n  } catch (err: any) {\n    return { data: undefined, error: err }\n  }\n}\n\nexport const apiUpdateEvent = async (\n  reqData: { id: string } & calendarCreateEvent\n) => {\n  let data\n  let error: string\n\n  const { id, summary, description, location, start, end, colorId } = reqData\n\n  try {\n    const options = {\n      method: 'PATCH',\n      url: '/calendar',\n      data: {\n        id,\n        summary,\n        description,\n        location,\n        start,\n        end,\n        colorId,\n      },\n    }\n    const res = await axiosRequest(options)\n    data = res.data as any\n    error = res.error\n    return { data, error }\n  } catch (err: any) {\n    return { data: undefined, error: err }\n  }\n}\n\nexport const apiDeleteEvent = async (id: string) => {\n  let data\n  let error: string\n  try {\n    const options = {\n      method: 'DELETE',\n      url: '/calendar',\n      data: {\n        id,\n      },\n    }\n    const res = await axiosRequest(options)\n    data = res.data as any\n    error = res.error\n    return { data, error }\n  } catch (err: any) {\n    return { data: undefined, error: err }\n  }\n}\n","import React, { Fragment } from 'react'\ninterface IconProps {\n  size?: string\n  color?: string\n  className?: string\n}\nconst LocationIcon = ({ size, color, className }: IconProps) => {\n  return (\n    <Fragment>\n      <svg\n        width={size || '1rem'}\n        height={size || '1rem'}\n        className={className || ''}\n        viewBox='0 0 24 24'\n        fill={color || '#898989'}\n        xmlns='http://www.w3.org/2000/svg'\n      >\n        <path d='M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zM7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.88-2.88 7.19-5 9.88C9.92 16.21 7 11.85 7 9z'></path>\n        <circle cx='12' cy='9' r='2.5'></circle>\n      </svg>\n    </Fragment>\n  )\n}\n\nexport default LocationIcon\n","import dayjs from 'dayjs'\nimport React, { Fragment } from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components'\nimport CrossIcon from '../../components/svgs/cross'\nimport DustBinIcon from '../../components/svgs/dustbin'\nimport LocationIcon from '../../components/svgs/location'\nimport PenIcon from '../../components/svgs/pen'\nimport ResumeIcon from '../../components/svgs/resumeIcon'\n\ninterface IProps {\n  event: any\n  handleDelete: (id: string) => void\n  setPopupData: (_val: any) => void\n}\nconst PopupEvent: React.FC<IProps> = ({\n  event,\n  handleDelete,\n  setPopupData,\n}) => {\n  const { data, date } = event\n  const handleClose = (e: any) => {\n    setPopupData(null)\n  }\n\n  return (\n    <Fragment>\n      <Wrapper className=\"popup-wrapper\">\n        <Popup className=\"event-details\">\n          <Fragment>\n            <ActionButton>\n              <Link\n                data-test-id=\"popup-edit\"\n                to={{\n                  pathname: `/calendar/event/edit`,\n                  state: {\n                    data,\n                    date: date,\n                  },\n                }}\n              >\n                <span>\n                  <PenIcon size=\"1.2rem\" />\n                </span>\n              </Link>\n              <span\n                data-test-id=\"popup-delete\"\n                onClick={() => handleDelete(data.id)}\n              >\n                <DustBinIcon size=\"1.2rem\" />\n              </span>\n              <span data-test-id=\"popup-close\" onClick={handleClose}>\n                <CrossIcon size=\"0.875rem\" />\n              </span>\n            </ActionButton>\n            <Details>\n              <li>\n                <span></span>\n                <div>\n                  <h3>{data.summary && data.summary}</h3>\n                  <p>\n                    {data.start && data.start.dateTime\n                      ? dayjs(data.start.dateTime).format('MMM DD YYYY, h:mm a')\n                      : data.start.date\n                      ? dayjs(data.start.date).format('MMM DD YYYY')\n                      : null}\n                    {data.end && (\n                      <Fragment>\n                        &nbsp;-&nbsp;\n                        {data.end.dateTime\n                          ? dayjs(data.end.dateTime).format(\n                              'MMM DD YYYY, h:mm a'\n                            )\n                          : data.end.date\n                          ? dayjs(data.end.date).format('MMM DD YYYY')\n                          : null}\n                      </Fragment>\n                    )}\n                  </p>\n                </div>\n              </li>\n              {data.location && (\n                <li>\n                  <span>\n                    <LocationIcon size=\"1.3rem\" />\n                  </span>\n                  <p>{data.location}</p>\n                </li>\n              )}\n              {data.description && (\n                <li>\n                  <span style={{ paddingTop: '0.25rem' }}>\n                    <ResumeIcon size=\"1.1rem\" />\n                  </span>\n                  <p dangerouslySetInnerHTML={{ __html: data.description }} />\n                </li>\n              )}\n            </Details>\n          </Fragment>\n        </Popup>\n      </Wrapper>\n    </Fragment>\n  )\n}\n\nexport default PopupEvent\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  background-color: ${({ theme }) => theme.shades.dark[3]};\n`\n\nconst Popup = styled.div`\n  width: 500px;\n  height: 90vh;\n  background-color: white;\n  border-radius: 6px;\n  box-shadow: 0px 24px 38px 3px rgb(0 0 0 / 10%),\n    0px 9px 46px 8px rgb(0 0 0 / 12%), 0px 11px 15px -7px rgb(0 0 0 / 20%);\n  z-index: 10;\n  margin: auto;\n  transition: transform ease-in-out 100ms opacity ease-in-out 500ms;\n`\nconst ActionButton = styled.div`\n  display: flex;\n  justify-content: end;\n  margin: 0.5rem;\n\n  span {\n    height: 30px;\n    width: 30px;\n    margin-left: 0.2rem;\n    margin-right: 0.2rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    cursor: pointer;\n    transition: all ease-in-out 300ms;\n    &:hover {\n      background-color: #eee;\n    }\n  }\n`\nconst Details = styled.ul`\n  max-height: 500px;\n  overflow-y: auto;\n  padding: 0.5rem 1rem 0.5rem 0.5rem;\n  li {\n    display: grid;\n    grid-template-columns: 40px auto;\n    margin-bottom: 0.875rem;\n    span {\n      word-break: break-word;\n      display: flex;\n      justify-content: center;\n      margin-top: 0.2rem;\n    }\n    p {\n      word-break: break-word;\n      margin: 0.1rem 0;\n    }\n    div {\n      margin: 0;\n      h3 {\n        word-break: break-word;\n        margin: 0;\n        text-transform: none;\n      }\n    }\n  }\n`\n","import dayjs from 'dayjs'\nimport React, { Fragment, useEffect, useState } from 'react'\nimport { useQueryClient } from 'react-query'\nimport { Link, useHistory, useParams } from 'react-router-dom'\nimport styled from 'styled-components'\nimport DownArrowIcon from '../../components/svgs/downArrow'\nimport Alert from '../../components/ui/alert'\nimport useCalender from '../../helpers/calender'\nimport { getCalendar } from '../../queries/calendarQueries'\nimport CalenderEvent from './event'\nimport EventsList from './eventsList'\nimport { apiDeleteEvent } from '../../apis/calendar'\nimport { useNotify } from '../../contexts/notify'\nimport { Spinner } from '../../styled/loader'\nimport { LinkButton } from '../../styled/button'\nimport PopupEvent from './popupEvent'\n\nconst Calender: React.FC = () => {\n  const { year, month, day } = useParams<any>()\n\n  const history = useHistory()\n\n  const currentDate = dayjs(`${year}/${month}/${day}`)\n  if (!currentDate.isValid()) {\n    history.push(`/calendar/view/${dayjs().format('YYYY/MM/DD')}`)\n    return <></>\n  }\n\n  // const [show, setShow] = useState<string | null>(null)\n  const [popupData, setPopupData] = useState<Record<string, any> | null>(null)\n\n  const { setNotify } = useNotify()\n  const queryClient = useQueryClient()\n\n  const { data, isLoading, isError, error } = getCalendar(year)\n\n  const {\n    getDatesForCurrMonth: curr,\n    getDatesForPrevMonth: prev,\n    getDatesforNextMonth: next,\n    weekdays,\n  } = useCalender(currentDate)\n\n  const handleClick = (type: 'next' | 'prev') => {\n    if (type === 'next') {\n      history.push(\n        `/calendar/view/${currentDate\n          .add(1, 'month')\n          .startOf('month')\n          .format('YYYY/MM/DD')}`\n      )\n    } else {\n      history.push(\n        `/calendar/view/${currentDate\n          .subtract(1, 'month')\n          .startOf('month')\n          .format('YYYY/MM/DD')}`\n      )\n    }\n  }\n\n  const dates = [...prev, ...curr, ...next]\n\n  const handleDelete = async (id: string) => {\n    const storedData = data\n    const currYear = currentDate.format('YYYY')\n    // if (eventYear !== currYear) {\n    //   currYear = eventYear\n    //   data.filter((item: any) => item.id !== id)\n    //   storedData = queryClient.getQueryData(['calendar', eventYear])\n    //   queryClient.setQueryData(['calendar', currYear], data)\n    // }\n    if (storedData) {\n      const newData = storedData.filter((item: any) => item.id !== id)\n      queryClient.setQueryData(['calendar', currYear], newData)\n    }\n    const { data: resData, error } = await apiDeleteEvent(id)\n\n    if (!resData) {\n      queryClient.setQueryData(\n        ['calendar', currentDate.format('YYYY')],\n        storedData\n      )\n      setNotify({\n        type: 'danger',\n        heading: 'Err!',\n        message: 'Failed to delete event',\n      })\n      // console.log(error)\n    }\n    setPopupData(null)\n  }\n\n  data &&\n    data.forEach((item: any) => {\n      let date: any\n\n      if (!item.start) return\n      item.start.dateTime\n        ? (date = item.start.dateTime.split('T')[0])\n        : item.start.date\n        ? (date = item.start.date)\n        : (date = null)\n\n      if (!date) return\n\n      if (dayjs(date).format('YYYY') !== year) return\n\n      const found = dates.findIndex((obj) => {\n        return obj.date == dayjs(date).format('YYYY-MM-D')\n      })\n      if (found === -1) return\n      dates[found].events.push(item as any)\n    })\n\n  return (\n    <Fragment>\n      <Wrapper>\n        <Fragment>\n          <Header>\n            <div>\n              <h2>Manage your Daily Tasks</h2>\n              {data && (\n                <Link\n                  to={{\n                    pathname: '/calendar/event/new',\n                    state: {\n                      date: currentDate,\n                    },\n                  }}\n                >\n                  <LinkButton data-test-id=\"add-event\"> Add Event</LinkButton>\n                </Link>\n              )}\n            </div>\n            <div>\n              <Link to={`/calendar/view/${dayjs().format('YYYY/MM/DD')}`}>\n                <LinkButton> Today</LinkButton>\n              </Link>\n              <ToggleButton\n                data-test-id=\"calendar-prev\"\n                style={{ transform: 'rotateZ(90deg)', marginLeft: '0.6rem' }}\n                onClick={() => handleClick('prev')}\n              >\n                <DownArrowIcon />\n              </ToggleButton>\n              <ToggleButton\n                style={{ transform: 'rotateZ(270deg)', marginRight: '0.6rem' }}\n                onClick={() => handleClick('next')}\n                data-test-id=\"calendar-next\"\n              >\n                <DownArrowIcon />\n              </ToggleButton>\n              <h3 data-test-id=\"calendar-current\">\n                {dayjs(currentDate).format('MMMM YYYY')}\n              </h3>\n            </div>\n          </Header>\n          {isLoading && !data ? (\n            <div className=\"align-center\" style={{ height: '30vh' }}>\n              <Spinner size=\"40px\" type=\"primary\" />\n            </div>\n          ) : isError ? (\n            <>\n              {error.response &&\n              error.response.data.error.message === 'invalid_grant' ? (\n                <Alert\n                  show={isError}\n                  type=\"warning\"\n                  heading=\"Oops\"\n                  message=\"Your calendar token was expired please relogin.\"\n                  redirect=\"/logout\"\n                />\n              ) : (\n                <div className=\"align-center\" style={{ height: '30vh' }}>\n                  <h3>Failed to Fetch Calendar</h3>\n                </div>\n              )}\n            </>\n          ) : (\n            <div id=\"calendarWrapper\">\n              {popupData && (\n                <PopupEvent\n                  event={popupData}\n                  setPopupData={setPopupData}\n                  handleDelete={handleDelete}\n                />\n              )}\n              <WeekDayGrid>\n                {weekdays.map((item, i) => (\n                  <li key={i}>{item}</li>\n                ))}\n              </WeekDayGrid>\n              <DateGrid>\n                {dates.map((item, i) => (\n                  <StyledDate\n                    key={i}\n                    today={dayjs().isSame(item.date.toString(), 'day')}\n                    data-test-id={\n                      (dayjs().isSame(item.date.toString()),\n                      'day' ? 'active' : 'inactive')\n                    }\n                  >\n                    <StyledDateHeading currentMonth={item.isCurr}>\n                      {item.isCurr\n                        ? item.day\n                        : dayjs(item.date).format('MMMM') + ' ' + item.day}\n                    </StyledDateHeading>\n                    {item.events.length > 0 && (\n                      <div>\n                        {item.events.map((event: any, i: number) => {\n                          return (\n                            i < 2 && (\n                              <CalenderEvent\n                                key={i}\n                                date={item.date}\n                                event={event}\n                                setPopupData={setPopupData}\n                              />\n                            )\n                          )\n                        })}\n\n                        {item.events.length > 2 && (\n                          <EventsList\n                            date={item.date}\n                            events={item.events}\n                            setPopupData={setPopupData}\n                          />\n                        )}\n                      </div>\n                    )}\n                  </StyledDate>\n                ))}\n              </DateGrid>\n            </div>\n          )}\n        </Fragment>\n      </Wrapper>\n    </Fragment>\n  )\n}\n\nexport default Calender\n\nconst Wrapper = styled.div`\n  padding: 0 1.5rem;\n`\n\nconst WeekDayGrid = styled.ol`\n  display: grid;\n  grid-template-columns: repeat(7, 14.29%);\n  align-items: center;\n  justify-items: center;\n  border-bottom: 1px solid #e7e7e7;\n  li {\n    user-select: none;\n    text-transform: uppercase;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    font-size: 0.9rem;\n    font-weight: 700;\n    width: 100%;\n    height: 6vh;\n    color: rgba(107, 107, 107, 1);\n    border-left: 1px solid #e7e7e7;\n    &:nth-child(7) {\n      border-right: 1px solid #e7e7e7;\n    }\n  }\n  @media (max-width: 1400px) {\n    li {\n      font-size: 0.8rem;\n    }\n  }\n`\nconst Header = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid #e7e7e7;\n  padding: 2rem 0 1.5rem;\n  div {\n    display: flex;\n    align-items: center;\n    h2 {\n      margin-bottom: 0;\n      margin-right: 1rem;\n    }\n    h3 {\n      width: 150px;\n      margin-bottom: 0;\n      font-size: 1rem;\n    }\n  }\n`\n\nconst ToggleButton = styled.button`\n  width: 30px;\n  height: 30px;\n  margin: 0 0.2rem;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all ease-in-out 300ms;\n  &:hover {\n    background-color: ${({ theme }) => theme.shades.primary[4]};\n  }\n  svg {\n    path {\n      stroke-width: 1.6;\n    }\n  }\n`\n\nconst DateGrid = styled.ol`\n  display: grid;\n  grid-template-columns: repeat(7, 14.29%);\n  align-items: center;\n  justify-items: center;\n  margin-bottom: 3rem;\n`\nconst StyledDate = styled.li<{ today?: boolean }>`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  font-size: 1rem;\n  font-weight: 700;\n  width: 100%;\n  height: 150px;\n  border-left: 1px solid #e7e7e7;\n\n  border-bottom: 1px solid #e7e7e7;\n  background-color: ${({ today }) => today && '#F4F4F6'};\n  position: relative;\n  &:nth-of-type(7n) {\n    border-right: 1px solid #e7e7e7;\n  }\n  @media (max-width: 1400px) {\n    height: 120px;\n\n    font-size: 0.8rem;\n  }\n`\nconst StyledDateHeading = styled.h3<{ currentMonth?: boolean }>`\n  text-transform: uppercase;\n  font-size: 1rem;\n  color: ${({ currentMonth }) =>\n    currentMonth ? '#6B6B6B' : 'rgba(107, 107, 107, 0.5)'};\n  margin-left: 1rem;\n  margin-top: 1rem;\n  margin-bottom: 0;\n  @media (max-width: 1400px) {\n    font-size: 0.8rem;\n  }\n`\n","import { Fragment, useEffect, useState } from 'react'\nimport { useFormContext } from 'react-hook-form'\nimport styled from 'styled-components'\nimport detectOutsideClick from '../../hooks/detectOutsideClick'\nimport DownArrowIcon from '../svgs/downArrow'\n\ninterface IProps {\n  name: string\n  options: Array<{ id: number; color: string }>\n}\n\nconst ColorPicker: React.FC<IProps> = ({ name, options }) => {\n  const [show, setShow] = useState(false)\n\n  const { isOutside, ref } = detectOutsideClick()\n\n  const { register, watch } = useFormContext()\n\n  const handleClick = () => {\n    setShow(!show)\n  }\n\n  useEffect(() => {\n    setShow(false)\n  }, [isOutside])\n\n  return (\n    <Fragment>\n      <Wrapper ref={ref} data-test-id=\"color-picker\">\n        <FlexWrapper>\n          <p>Colour</p>\n          <Toggle onClick={handleClick}>\n            <span\n              style={{\n                background: options[watch(name) - 1].color,\n              }}\n            ></span>\n            <DownArrowIcon size=\"1rem\" />\n          </Toggle>\n        </FlexWrapper>\n        <ColorWrapper open={show}>\n          {options.map((item) => (\n            <ColorRadio\n              data-test-id={item.color}\n              key={item.id}\n              style={{ background: item.color }}\n            >\n              <input\n                {...register(name)}\n                type=\"radio\"\n                value={item.id}\n                id={item.id.toString()}\n                name={name}\n              />\n            </ColorRadio>\n          ))}\n        </ColorWrapper>\n      </Wrapper>\n    </Fragment>\n  )\n}\n\nexport default ColorPicker\n\nconst Wrapper = styled.div`\n  display: inline-flex;\n  position: relative;\n`\n\nconst FlexWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  p {\n    font-size: 1rem;\n    margin-right: 1rem;\n  }\n`\nconst Toggle = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background-color: #eee;\n  padding: 0.4rem 1rem;\n  border-radius: 6px;\n  width: 100px;\n  cursor: pointer;\n  span {\n    height: 30px;\n    width: 30px;\n    display: block;\n    border-radius: 50%;\n  }\n`\n\nconst ColorWrapper = styled.div<{ open: boolean }>`\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-gap: 0.5rem;\n  position: absolute;\n  width: fit-content;\n  height: fit-content;\n  padding: 1rem;\n  border-radius: 6px;\n  background-color: #fff;\n  top: 0;\n  left: 75px;\n  bottom: 0;\n  margin: auto;\n  box-shadow: 0 0 15px 2px rgb(0 0 0 / 20%);\n  transition: transform ease-in-out 200ms, opacity ease-in-out 100ms,\n    visibility ease-in-out 300ms;\n  transform: translateX(${({ open }) => (open ? '120px' : 0)});\n  visibility: ${({ open }) => (open ? 'visible' : 'hidden')};\n  opacity: ${({ open }) => (open ? 1 : 0)};\n  label {\n    transition: opacity ease-in-out 500ms;\n    opacity: ${({ open }) => (open ? 1 : 0)};\n  }\n`\n\nconst ColorRadio = styled.label`\n  position: relative;\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n\n  &:hover {\n    transition: transform ease-in-out 300ms;\n    transform: scale(1.1);\n  }\n  input {\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n    height: 100%;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n  }\n`\n","import dayjs from 'dayjs'\nimport * as Yup from 'yup'\n\nconst summary = Yup.string().required('Required')\nconst location = Yup.string().test('empty / url', 'Enter correct url', (data) =>\n  !data ||\n  data.match(\n    /((https?):\\/\\/)?(www.)?[a-z0-9]+(\\.[a-z]{2,}){1,3}(#?\\/?[a-zA-Z0-9#]+)*\\/?(\\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/\n  )\n    ? true\n    : false\n)\n\nconst startDate = Yup.date().typeError('Invaild date')\nconst endDate = Yup.string()\n  .test(\n    'empty-or-date',\n    'Invalid Date',\n    (date) => !date || dayjs(date).isValid()\n  )\n  .test(\n    'should be greater',\n    'End date should be greater than start date',\n    (date, context) => {\n      const starT = context.parent.startTime\n      const endT = context.parent.endTime\n      const startHour = parseInt(starT.split(':')[0])\n      const startMin = parseInt(starT.split(':')[1])\n\n      const endHour = parseInt(endT.split(':')[0])\n      const endMin = parseInt(endT.split(':')[1])\n\n      const start = dayjs(context.parent.startDate)\n      const end = dayjs(date)\n      if (date && date.length > 0 && !starT) {\n        const diff = end.diff(start)\n        return diff >= 0 ? true : false\n      }\n\n      if (date && date.length > 0 && starT && endT) {\n        const diff = end\n          .hour(endHour)\n          .minute(endMin)\n          .diff(start.hour(startHour).minute(startMin))\n        return diff > 0 ? true : false\n      } else {\n        return true\n      }\n    }\n  )\n\nconst startTime = Yup.string().test(\n  'Start Date is Req',\n  'Start Date is required with time',\n  (data, context) => {\n    if (data && data.length > 0) {\n      const start = context.parent.startDate\n      return dayjs(start).isValid() ? true : false\n    } else {\n      return true\n    }\n  }\n)\n\nconst endTime = Yup.string()\n  .test(\n    'End Date is Req',\n    'End Date is required with time',\n    (data, context) => {\n      if (data && data.length > 0) {\n        const end = context.parent.endDate\n        return dayjs(end).isValid() ? true : false\n      } else {\n        return true\n      }\n    }\n  )\n  .test('Start time required', 'Start time is required', (data, context) => {\n    const start = context.parent.startTime\n    if (data && data.length > 0) {\n      return start ? true : false\n    } else {\n      return true\n    }\n  })\n// .test(\n//   'End date and time greater',\n//   'End date and time should be greater than start date and time',\n//   (data, context) => {\n//     const startTime = parseInt(context.parent.startTime)\n//     const endTime = parseInt(context.parent.endTime)\n//     const startDate = context.parent.startDate\n//     const endDate = context.parent.endDate\n//     const start = context.parent.startTime\n//     if (data && data.length > 0 && startTime && startDate) {\n//       console.log('hi')\n//       return false\n//     } else {\n//       console.log('hello')\n\n//       return true\n//     }\n//   }\n// )\n\nconst color = Yup.number().min(1).max(11)\n\nexport const validateCalendarSchema = Yup.object().shape({\n  summary,\n  startDate,\n  endDate,\n  startTime,\n  endTime,\n  location,\n  color,\n})\n","import React, { Fragment, useEffect, useState } from 'react'\nimport { FormProvider, useForm } from 'react-hook-form'\nimport styled from 'styled-components'\nimport Input from '../../components/form/Input'\nimport ColorPicker from '../../components/form/colorPicker'\nimport { Link, useHistory, useParams } from 'react-router-dom'\nimport CrossIcon from '../../components/svgs/cross'\nimport { Spinner } from '../../styled/loader'\nimport { useQueryClient } from 'react-query'\nimport dayjs from 'dayjs'\nimport { apiCreateEvent, apiUpdateEvent } from '../../apis/calendar'\nimport { useNotify } from '../../contexts/notify'\nimport FormButton from '../../components/ui/FormButton'\nimport { FormButtonWrapper } from '../../styled/form'\nimport { validateCalendarSchema } from '../../validations/calendar'\nimport { yupResolver } from '@hookform/resolvers/yup'\nimport useExitPrompt from '../../hooks/useExitPromt'\nimport RichTextEditor from '../../components/form/RichTextEditor'\nimport { fetchCalendarEvents } from '../../helpers/getCalendar'\nimport RouterPrompt from '../../components/routerPrompt'\n\ninterface IEvent {\n  summary: string\n  description: any\n  location: string\n  startDate: Date | string\n  startTime: string\n  endDate: Date | string\n  endTime: string\n  color: string\n}\n\ninterface IProps {\n  location: {\n    state: any\n  }\n}\n\nconst options = [\n  { id: 1, color: '#7986cb' },\n  { id: 2, color: '#33b679' },\n  { id: 3, color: '#8e24aa' },\n  { id: 4, color: '#e67c73' },\n  { id: 5, color: '#f6c026' },\n  { id: 6, color: '#f5511d' },\n  { id: 7, color: '#039be5' },\n  { id: 8, color: '#616161' },\n  { id: 9, color: '#3f51b5' },\n  { id: 10, color: '#0b8043' },\n  { id: 11, color: '#d60000' },\n]\n\nconst EventEdit: React.FC<IProps> = ({ location }) => {\n  const [prevData, setPrevData] = useState<any>(null)\n  const queryClient = useQueryClient()\n  const history = useHistory()\n  const { type } = useParams<{ type: 'edit' | 'new' }>()\n  const initialData = location.state && location.state.data\n  const initialDate =\n    location.state && dayjs(location.state.date).format('YYYY/MM/DD')\n  const initialYear = dayjs(initialDate).format('YYYY')\n  const { setNotify } = useNotify()\n  const { showExitPrompt, setShowExitPrompt } = useExitPrompt(false)\n  useEffect(() => {\n    const getData = queryClient.getQueryData(['calendar', initialYear])\n    if (!getData && type !== 'new') {\n      if (initialDate) {\n        history.push(`/calendar/view/${initialDate}`)\n      } else {\n        history.push(`/calendar/view/${dayjs().format('YYYY/MM/DD')}`)\n      }\n      return\n    }\n    setPrevData(getData || [])\n    return () => {\n      setShowExitPrompt(false)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (type !== 'new' && !initialData)\n      history.push(`/calendar/view/${initialDate}`)\n    return\n  }, [initialData])\n\n  const startT =\n    initialData && initialData.start && initialData.start.dateTime\n      ? dayjs(initialData.start.dateTime).format('HH:mm')\n      : undefined\n\n  const endT =\n    initialData && initialData.end && initialData.end.dateTime\n      ? dayjs(initialData.end.dateTime).format('HH:mm')\n      : undefined\n\n  const startD =\n    initialData && initialData.start\n      ? (initialData.start.dateTime &&\n          dayjs(initialData.start.dateTime).format('YYYY-MM-DD')) ||\n        (initialData.start.date && initialData.start.date)\n      : dayjs().format('YYYY-MM-DD')\n\n  const endD =\n    initialData && initialData.end\n      ? (initialData.end.dateTime &&\n          dayjs(initialData.end.dateTime).format('YYYY-MM-DD')) ||\n        (initialData.end.date && initialData.end.date)\n      : dayjs().format('YYYY-MM-DD')\n\n  const defaultValues = {\n    summary: (initialData && initialData.summary) || '',\n    location: (initialData && initialData.location) || '',\n    startDate: startD,\n    startTime: startT,\n    endDate: endD,\n    endTime: endT,\n    color: (initialData && initialData.colorId) || 1,\n    description: (initialData && initialData.description) || '',\n  }\n\n  const methods = useForm<IEvent>({\n    mode: 'onBlur',\n    defaultValues,\n    resolver: yupResolver(validateCalendarSchema),\n  })\n\n  const {\n    handleSubmit,\n    watch,\n    setValue,\n    trigger,\n    clearErrors,\n    reset,\n    formState: { isSubmitting, isDirty, isValid, isSubmitted },\n  } = methods\n\n  const watching = watch(['startDate', 'endDate', 'startTime', 'endTime'])\n\n  const handleClear = (type: 'start' | 'end') => {\n    if (type === 'start') {\n      setValue('startDate', '')\n      setValue('startTime', '')\n      clearErrors('startTime')\n    } else {\n      setValue('endDate', '')\n      setValue('endTime', '')\n      clearErrors(['endDate', 'endTime'])\n    }\n  }\n\n  useEffect(() => {\n    const subscription = watch(() => {\n      trigger(['startDate', 'endDate', 'startTime', 'endTime'])\n    })\n    return () => subscription.unsubscribe()\n  }, [watch])\n\n  useEffect(() => {\n    if (isDirty || !isValid || isSubmitting) {\n      setShowExitPrompt(true)\n    } else {\n      setShowExitPrompt(false)\n    }\n  }, [isValid, isDirty, isSubmitting])\n\n  const form = async (data: IEvent) => {\n    const startTime = data.startTime && data.startTime.split(':')\n    const endTime = data.endTime && data.endTime.split(':')\n\n    const start = {\n      ...(data.startDate &&\n        !data.startTime && {\n          date: dayjs(data.startDate).format('YYYY-MM-DD'),\n        }),\n      ...(data.startDate &&\n        data.startTime && {\n          dateTime: dayjs(data.startDate)\n            .hour(parseInt(startTime[0]))\n            .minute(parseInt(startTime[1]))\n            .toISOString(),\n        }),\n    }\n\n    const end = {\n      ...(data.endDate &&\n        !data.endTime && { date: dayjs(data.endDate).format('YYYY-MM-DD') }),\n      ...(data.endDate &&\n        data.endTime && {\n          dateTime: dayjs(data.endDate)\n            .hour(parseInt(endTime[0]))\n            .minute(parseInt(endTime[1]))\n            .toISOString(),\n        }),\n    }\n\n    const regex = /(<([^>]+)>)/gi\n    const hasTextinDescription = !!data.description.replace(regex, '').length\n\n    const newData = {\n      summary: data.summary,\n      location: data.location,\n      start,\n      end,\n      description: hasTextinDescription ? data.description : '',\n      colorId: data.color,\n    }\n\n    const currYear = dayjs(data.startDate).format('YYYY')\n\n    let success = false\n\n    if (!initialData || type === 'new') {\n      const { data: resData, error } = await apiCreateEvent(newData)\n      if (resData) {\n        if (currYear === initialYear) {\n          prevData.push(resData)\n          queryClient.setQueryData(['calendar', initialYear], prevData)\n        } else {\n          let newQueryData: any = queryClient.getQueryData([\n            'calendar',\n            currYear,\n          ])\n          if (!newQueryData) {\n            newQueryData = await queryClient.fetchQuery(\n              ['calendar', currYear],\n              () => fetchCalendarEvents(currYear as any)\n            )\n          }\n          newQueryData.push(resData)\n          queryClient.setQueryData(['calendar', currYear], newQueryData)\n        }\n        success = true\n      } else {\n        setNotify({\n          type: 'danger',\n          heading: 'Err!',\n          message: 'Failed to add event',\n        })\n        // console.log(error)\n        success = false\n      }\n    } else {\n      const { data: resData, error } = await apiUpdateEvent({\n        id: initialData.id,\n        ...newData,\n      })\n      if (resData) {\n        const find = prevData.findIndex(\n          (item: any) => item.id === initialData.id\n        )\n        if (currYear === initialYear) {\n          prevData.splice(find, 1, resData)\n\n          queryClient.setQueryData(['calendar', initialYear], prevData)\n        } else {\n          prevData.splice(find, 1)\n          queryClient.setQueryData(['calendar', initialYear], prevData)\n          let newQueryData: any = queryClient.getQueryData([\n            'calendar',\n            currYear,\n          ])\n          if (!newQueryData) {\n            newQueryData = await queryClient.fetchQuery(\n              ['calendar', currYear],\n              () => fetchCalendarEvents(currYear as any)\n            )\n          }\n          newQueryData.push(resData)\n          queryClient.setQueryData(['calendar', currYear], newQueryData)\n        }\n        success = true\n      } else {\n        setNotify({\n          type: 'danger',\n          heading: 'Err!',\n          message: 'Failed to update event',\n        })\n        success = false\n\n        // console.log(error)\n      }\n    }\n\n    if (success) {\n      reset(\n        {},\n        {\n          keepValues: true,\n        }\n      )\n    }\n    return\n  }\n\n  if (type !== 'new' && !initialData)\n    return (\n      <div className=\"align-center\" style={{ height: '100vh' }}>\n        <Spinner size=\"40px\" type=\"primary\" />\n      </div>\n    )\n\n  return (\n    <Fragment>\n      <RouterPrompt show={showExitPrompt} setShow={setShowExitPrompt} />\n\n      <FlexWrapper>\n        <Link data-test-id=\"go-back\" to={`/calendar/view/${initialDate}`}>\n          <CrossIcon size=\"1.2rem\" />\n        </Link>\n        <h1>{type !== 'new' ? 'Edit Event' : 'New Event'}</h1>\n      </FlexWrapper>\n      <Wrapper>\n        <FormProvider {...methods}>\n          <form id=\"claendarForm\" onSubmit={handleSubmit(form)}>\n            <div className=\"mb-2\">\n              <Input name=\"summary\" label=\"Title\" />\n            </div>\n            <div className=\"mb-2\">\n              <Input name=\"location\" label=\"Location\" />\n            </div>\n            <Grid columns={'50% 30% 20%'} className=\"mb-2\">\n              <div>\n                <Input name=\"startDate\" label=\"Start date\" type=\"date\" />\n              </div>\n              <div>\n                <Input name=\"startTime\" label=\"Start time\" type=\"time\" />\n              </div>\n              <StyledClear>\n                {(watching[0] || watching[2]) && (\n                  <span onClick={() => handleClear('start')}>Clear</span>\n                )}\n              </StyledClear>\n              <div>\n                <Input name=\"endDate\" label=\"End date\" type=\"date\" />\n              </div>\n              <div>\n                <Input name=\"endTime\" label=\"End time\" type=\"time\" />\n              </div>\n              <StyledClear>\n                {(watching[1] || watching[3]) && (\n                  <span onClick={() => handleClear('end')}>Clear</span>\n                )}\n              </StyledClear>\n            </Grid>\n            <div className=\"mb-2\">\n              <ColorPicker name={'color'} options={options} />\n            </div>\n\n            <div className=\"mb-2\">\n              <label>Description</label>\n              <RichTextEditor name={'description'} />\n            </div>\n          </form>\n        </FormProvider>\n        <FormButtonWrapper>\n          <FormButton\n            btnType=\"primary\"\n            size=\"lg\"\n            width=\"150px\"\n            type=\"submit\"\n            disabled={isSubmitting || !isValid || !isDirty}\n            loading={isSubmitting}\n            form=\"claendarForm\"\n          >\n            {initialData || isSubmitted ? 'Update' : 'Create'}\n          </FormButton>\n        </FormButtonWrapper>\n      </Wrapper>\n    </Fragment>\n  )\n}\n\nexport default EventEdit\n\nconst Wrapper = styled.div`\n  padding: 1rem;\n  max-width: 700px;\n`\nconst Grid = styled.div<{ columns: string }>`\n  display: grid;\n  grid-template-columns: ${({ columns }) => columns};\n  grid-gap: 1rem;\n  align-items: top;\n`\nconst FlexWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 1rem 1rem;\n  padding: 1.5rem 0;\n  border-bottom: 1px solid #e7e7e7;\n  h1 {\n    margin-bottom: 0;\n  }\n  a {\n    margin-right: 1.5rem;\n  }\n`\nconst StyledClear = styled.div`\n  display: flex;\n  align-items: flex-start;\n\n  span {\n    display: inline-flex;\n    margin-top: 2rem;\n    font-size: 0.875rem;\n    cursor: pointer;\n    background-color: #eee;\n    padding: 0.3rem 1rem;\n    border-radius: 6px;\n    transition: background-color 300ms ease-in-out;\n    &:hover {\n      background-color: #ddd;\n    }\n  }\n`\n","import dayjs from 'dayjs'\nimport React, { Fragment } from 'react'\nimport { Redirect, Route, Switch, useRouteMatch } from 'react-router-dom'\nimport PageNotFound from '../404'\nimport Calender from './calender'\nimport EventEdit from './eventEdit'\n\nconst TaskCalender = () => {\n  const { path, url } = useRouteMatch()\n  const today = dayjs().format('YYYY/MM/DD')\n\n  return (\n    <Fragment>\n      <Switch>\n        <Redirect\n          exact\n          from={url || url + '/view'}\n          to={{\n            pathname: `${path}/view/${today}`\n          }}\n        />\n\n        <Route\n          exact\n          path={`${path}/view/:year?/:month?/:day?`}\n          component={Calender}\n        />\n        <Route exact path={`${path}/event/:type`} component={EventEdit} />\n        <Route component={PageNotFound} />\n      </Switch>\n    </Fragment>\n  )\n}\n\nexport default TaskCalender\n","import { fetchCalendarEvents } from '../helpers/getCalendar'\nimport getQueryAdvance from '../hooks/getQueryAdvance'\n\n/**\n * Gets Calendar events for give year\n * @param year number\n * @returns UseQueryResults\n */\nexport const getCalendar: any = (year: number) => {\n  return getQueryAdvance(\n    ['calendar', year],\n    () => fetchCalendarEvents(year),\n    true,\n    {\n      keepPreviousData: true,\n    }\n  )\n}\n"],"names":["size","color","className","Fragment","width","height","viewBox","fill","xmlns","d","loading","disabled","children","style","rest","StyledButton","type","btnType","styled","theme","backgroundColor","colors","white","light","primary","btnSize","dark","fontSize","shades","withTheme","icon","msg","title","redirect","popup","heading","message","genricMsg","show","history","useHistory","in","timeout","state","Wrapper","onClick","alert","push","goBack","Button","date","daysInMonth","firstDayOfMonth","startOf","format","endDayOfMonth","endOf","firstDayOfTheMonthWeekday","parseInt","visibleNumberOfDaysFromPreviousMonth","prevMonth","subtract","prevMonthLastDay","lastDayOfTheMonthWeekday","nextMonth","add","visibleNumberOfDaysFromNextMonth","getDatesForCurrMonth","Array","map","_day","i","day","isCurr","events","getDatesForPrevMonth","getDatesforNextMonth","weekdays","dayjs","utc","fetchCalendarEvents","year","start","end","min","toISOString","max","axios","res","data","useState","isOutside","setIsOutside","ref","useRef","handleClickOutside","e","current","contains","target","useEffect","document","addEventListener","removeEventListener","options","opacity","id","borderColors","backgroundColors","event","setPopupData","Event","stopPropagation","preventDefault","borderColor","colorId","summary","detectOutsideClick","showList","setShowList","More","length","EventsWrapper","CloseButton","apiCreateEvent","reqData","description","location","method","url","axiosRequest","error","undefined","apiUpdateEvent","apiDeleteEvent","cx","cy","r","handleDelete","Popup","ActionButton","to","pathname","Details","dateTime","paddingTop","dangerouslySetInnerHTML","__html","useParams","month","currentDate","isValid","popupData","setNotify","useNotify","queryClient","useQueryClient","getCalendar","isLoading","isError","useCalender","curr","prev","next","handleClick","dates","storedData","currYear","newData","filter","item","setQueryData","resData","forEach","split","found","findIndex","obj","Header","ToggleButton","transform","marginLeft","marginRight","response","WeekDayGrid","DateGrid","StyledDate","today","isSame","toString","StyledDateHeading","currentMonth","name","setShow","useFormContext","register","watch","FlexWrapper","Toggle","background","ColorWrapper","open","ColorRadio","value","Yup","required","test","match","startDate","typeError","endDate","context","starT","parent","startTime","endT","endTime","startHour","startMin","endHour","endMin","diff","hour","minute","validateCalendarSchema","shape","prevData","setPrevData","initialData","initialDate","initialYear","useExitPrompt","showExitPrompt","setShowExitPrompt","getData","getQueryData","startT","startD","endD","defaultValues","methods","useForm","mode","resolver","yupResolver","handleSubmit","setValue","trigger","clearErrors","reset","formState","isSubmitting","isDirty","isSubmitted","watching","handleClear","subscription","unsubscribe","form","regex","hasTextinDescription","replace","success","newQueryData","fetchQuery","find","splice","keepValues","onSubmit","Input","label","Grid","columns","StyledClear","RichTextEditor","FormButton","useRouteMatch","path","exact","from","component","Calender","EventEdit","PageNotFound","getQueryAdvance","keepPreviousData"],"sourceRoot":""}