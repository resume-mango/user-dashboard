(self.webpackChunkuser_dashboard=self.webpackChunkuser_dashboard||[]).push([[576],{5661:(e,n,t)=>{"use strict";t.d(n,{h7:()=>l,wX:()=>p,wS:()=>f,M7:()=>h});var r,i=t(1002),a=t(5861),s=t(7757),o=t.n(s),c=t(9669),u=t.n(c),d=t(3137),l=function(){var e=(0,a.Z)(o().mark((function e(n,t){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"GET",url:"/coverletter/download/".concat(n,"/").concat(t),responseType:"blob"},e.prev=1,e.next=4,u().request(i);case 4:return r=e.sent,e.abrupt("return",r);case 8:if(e.prev=8,e.t0=e.catch(1),!e.t0.response||!e.t0.response.data){e.next=18;break}return e.next=13,new Response(e.t0.response.data).text();case 13:if(a=e.sent,s=JSON.parse(a).error.message||null,console.log(s),!s||"download limits reached!"!==s){e.next=18;break}return e.abrupt("return",r="limit reached");case 18:return e.abrupt("return",r=null);case 19:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n,t){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)(o().mark((function e(n){var t,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"POST",url:"/coverletter",data:{template:n}},e.prev=1,e.next=4,(0,d.Z)(i);case 4:return a=e.sent,t=a.data,r=a.error,e.abrupt("return",{data:t,error:r});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{data:void 0,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)(o().mark((function e(n){var t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"!==(0,i.Z)(r)&&r.cancel("Cancelling previous requests"),r=u().CancelToken.source(),t={method:"PATCH",url:"/coverletter",cancelToken:r.token,data:n},e.next=5,u().request(t).then((function(e){return{data:e.data,error:void 0}})).catch((function(e){return{data:void 0,error:e}}));case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)(o().mark((function e(n){var t,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"DELETE",url:"/coverletter/".concat(n)},e.prev=1,e.next=4,(0,d.Z)(i);case 4:return a=e.sent,t=a.data,r=a.error,e.abrupt("return",{data:t,error:r});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{data:void 0,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}()},7693:(e,n,t)=>{"use strict";t.d(n,{a:()=>l,BO:()=>p,FD:()=>f,WV:()=>h,VW:()=>m,oK:()=>x});var r,i=t(1002),a=t(5861),s=t(7757),o=t.n(s),c=t(9669),u=t.n(c),d=t(3137),l=function(){var e=(0,a.Z)(o().mark((function e(n,t){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"GET",url:"/resume/download/".concat(n,"/").concat(t),responseType:"blob"},e.prev=1,e.next=4,u().request(i);case 4:return r=e.sent,e.abrupt("return",r);case 8:if(e.prev=8,e.t0=e.catch(1),!e.t0.response||!e.t0.response.data){e.next=17;break}return e.next=13,new Response(e.t0.response.data).text();case 13:if(a=e.sent,!(s=JSON.parse(a).error.message||null)||"download limits reached!"!==s){e.next=17;break}return e.abrupt("return",r="limit reached");case 17:return e.abrupt("return",r=null);case 18:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n,t){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)(o().mark((function e(n){var t,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"POST",url:"/resume",data:{template:n}},e.prev=1,e.next=4,(0,d.Z)(i);case 4:return a=e.sent,t=a.data,r=a.error,e.abrupt("return",{data:t,error:r});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{data:void 0,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)(o().mark((function e(n){var t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"!==(0,i.Z)(r)&&r.cancel("Cancelling previous requests"),r=u().CancelToken.source(),t={method:"PATCH",url:"/resume",cancelToken:r.token,data:n},e.next=5,u().request(t).then((function(e){return{data:e.data,error:void 0}})).catch((function(e){return{data:void 0,error:e}}));case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)(o().mark((function e(n,t){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"PATCH",url:"/resume/".concat(n,"/avatar"),headers:{"Content-Type":"multipart/form-data"},data:t},e.prev=1,e.next=4,(0,d.Z)(a);case 4:return s=e.sent,r=s.data,i=s.error,e.abrupt("return",{data:r,error:i});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{data:void 0,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n,t){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.Z)(o().mark((function e(n){var t,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"DELETE",url:"/resume/".concat(n,"/avatar")},e.prev=1,e.next=4,(0,d.Z)(i);case 4:return a=e.sent,t=a.data,r=a.error,e.abrupt("return",{data:t,error:r});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{data:void 0,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=(0,a.Z)(o().mark((function e(n){var t,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:"DELETE",url:"/resume/".concat(n)},e.prev=1,e.next=4,(0,d.Z)(i);case 4:return a=e.sent,t=a.data,r=a.error,e.abrupt("return",{data:t,error:r});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{data:void 0,error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}()},4657:(e,n,t)=>{"use strict";t.d(n,{Z:()=>i});var r=t(2982);const i=function(e){var n=e.daysInMonth(),t=e.startOf("month").format("d"),i=e.endOf("month").format("d"),a=parseInt(t),s=a?a-1:6,o=e.subtract(1,"month"),c=e.startOf("month").subtract(s,"day").date(),u=parseInt(i),d=e.add(1,"month"),l=u?7-u:u,p=(0,r.Z)(Array(n)).map((function(n,t){return{day:t+1,date:"".concat(e.format("YYYY"),"-").concat(e.format("MM"),"-").concat(t+1),isCurr:!0,events:[]}})),f=(0,r.Z)(Array(s)).map((function(e,n){return{day:c+n,date:"".concat(o.format("YYYY"),"-").concat(o.format("MM"),"-").concat(c+n),isCurr:!1,events:[]}}));return{getDatesforNextMonth:(0,r.Z)(Array(l)).map((function(e,n){return{day:n+1,date:"".concat(d.format("YYYY"),"-").concat(d.format("MM"),"-").concat(n+1),isCurr:!1,events:[]}})),getDatesForPrevMonth:f,getDatesForCurrMonth:p,weekdays:["mon","tue","wed","thu","fri","sat","sun"]}}},8420:(e,n,t)=>{"use strict";t.d(n,{BD:()=>r,II:()=>i});var r=function(e){return Math.floor(new Date(e).getTime()/1e3)},i=function(e){return new Date(e).toISOString().slice(0,16)}},1358:(e,n,t)=>{"use strict";t.d(n,{G:()=>p});var r=t(5861),i=t(7757),a=t.n(i),s=t(9669),o=t.n(s),c=t(7484),u=t.n(c),d=t(178),l=t.n(d);u().extend(l());var p=function(){var e=(0,r.Z)(a().mark((function e(n){var t,r,i,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u()(n).startOf("year"),r=u()(n).endOf("year"),i=t.toISOString(),s=r.toISOString(),e.prev=4,e.next=7,o().get("/calendar".concat(i&&"?min=".concat(i)).concat(s&&"&max=".concat(s)));case 7:if(!(c=e.sent).data){e.next=12;break}return e.abrupt("return",c.data);case 12:return e.abrupt("return",null);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(4),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(n){return e.apply(this,arguments)}}()},8576:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>vt});var r=t(168),i=t(885),a=t(7294),s=t(9163),o=t(8614),c=t(5454),u=t(9964),d=t(3360),l=t(5292);const p=t.p+"images/breif-case.svg",f=t.p+"images/callback.svg",h=t.p+"images/degree-hat.svg",m=t.p+"images/todo.svg";var x,g,v,b,j=t(9215),y=t(5893);const w=function(){var e=(0,j.gT)(),n=e.data,t=e.isLoading,r=e.isError,i=function(e,n){return String(e).padStart(n,"0")},s=[{name:"Jobs Applied",value:n&&n.jobs_applied&&i(n.jobs_applied,2)||0,icon:p},{name:"To-dos",value:n&&n.todos&&i(n.todos,2)||0,icon:m},{name:"Call backs",value:n&&n.callbacks&&i(n.callbacks,2)||0,icon:f},{name:"Interviews",value:n&&n.interviews&&i(n.interviews,2)||0,icon:h}];return(0,y.jsx)(a.Fragment,{children:r?(0,y.jsxs)(P,{children:[(0,y.jsx)(l.Z,{size:"1.2rem",color:"red"}),(0,y.jsx)("h4",{children:"Failed to load counts"})]}):t?(0,y.jsx)(d.ZL,{children:(0,y.jsxs)(Z,{children:[(0,y.jsx)(O,{}),(0,y.jsx)(O,{}),(0,y.jsx)(O,{}),(0,y.jsx)(O,{})]})}):n?(0,y.jsx)(Z,{children:s.map((function(e,n){return(0,y.jsxs)(k,{children:[(0,y.jsx)("div",{children:(0,y.jsx)("img",{src:e.icon})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{children:e.name}),(0,y.jsx)("h3",{"data-test-id":e.name.replace(/\s+/g,"-").toLowerCase(),children:e.value})]})]},n)}))}):null})};var Z=s.ZP.div(x||(x=(0,r.Z)(["\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  grid-gap: 1.5rem;\n  padding: 1.25rem;\n  @media (max-width: 1400px) {\n    grid-gap: 0.8rem;\n  }\n"]))),k=s.ZP.div(g||(g=(0,r.Z)(["\n  display: grid;\n  grid-template-columns: 1fr 2.5fr;\n  border: 1px solid #e2e9f3;\n  border-radius: 6px;\n  padding: 0.5rem 1rem;\n  align-items: center;\n  grid-gap: 1rem;\n  div {\n    &:first-child {\n      display: inline-flex;\n      align-items: center;\n    }\n    img {\n      max-width: 35px;\n      width: 100%;\n    }\n    h3 {\n      font-size: 1.5rem;\n      margin: 0;\n    }\n    p {\n      font-size: 0.75rem;\n      margin: 0;\n      color: #878787;\n    }\n  }\n  &:first-child {\n    background: rgba(255, 219, 193, 0.11);\n    border: 1px solid #f08438;\n\n    p,\n    h3 {\n      color: #f08438;\n    }\n  }\n\n  @media (max-width: 1400px) {\n    padding: 0.5rem;\n    grid-gap: 0.5rem;\n    div {\n      h3 {\n        font-size: 1.2rem;\n      }\n    }\n  }\n"]))),O=s.ZP.div(v||(v=(0,r.Z)(["\n  background-color: #eee;\n  height: 60px;\n  border-radius: 6px;\n"]))),P=s.ZP.div(b||(b=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  padding-left: 1.5rem;\n  border-bottom: 1px solid #e2e9f3;\n  height: 60px;\n  h4 {\n    margin: 0 0 0 1rem;\n  }\n"]))),D=t(5861),C=t(2982),S=t(7757),T=t.n(S),E=t(8767),M=t(5977),z=t(316),F=t(347),A=t(4817),I=t(9029),N=t(9105),$=t(904),Y=t(4719),L=t(2611),_=t(8658);var U,q,R,H,V,Q,B,W,G,X,K=t(5337),J=t(3114),ee=t(5438),ne=t(9245),te=t(5661),re=t(7693),ie=function(){var e=(0,D.Z)(T().mark((function e(n,t,r,i,a,s,o){var c,u,d,l;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r){e.next=3;break}return e.abrupt("return",!1);case 3:if(i(n),s(null),"resume"!==a){e.next=11;break}return e.next=8,(0,re.a)(n,t);case 8:c=e.sent,e.next=14;break;case 11:return e.next=13,(0,te.h7)(n,t);case 13:c=e.sent;case 14:return c&&("limit reached"===c&&o(!0),c.data&&(u="abc."+t,d=window.URL.createObjectURL(new Blob([c.data])),(l=document.createElement("a")).href=d,l.setAttribute("download",u),document.body.appendChild(l),l.click())),i(null),e.abrupt("return",!0);case 19:return e.prev=19,e.t0=e.catch(0),i(null),e.abrupt("return",!1);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(n,t,r,i,a,s,o){return e.apply(this,arguments)}}(),ae=function(){var e=(0,D.Z)(T().mark((function e(n,t,r,i,a,s,o,c){var u,d,l,p,f,h,m,x;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o(null),!i){e.next=3;break}return e.abrupt("return",!1);case 3:if(a(n),e.prev=4,"resume"!==s){e.next=22;break}return e.next=8,(0,re.oK)(n);case 8:if(u=e.sent,d=u.data,l=u.error,!d||l){e.next=19;break}if(t&&t.items){e.next=14;break}return e.abrupt("return",!1);case 14:p=t.items.filter((function(e){return e._id!==n})),t.items=p,r.setQueryData("resumes",t),e.next=20;break;case 19:case 35:throw new Error("Failed");case 20:e.next=36;break;case 22:return e.next=24,(0,te.M7)(n);case 24:if(f=e.sent,h=f.data,m=f.error,!h||m){e.next=35;break}if(t&&t.items){e.next=30;break}return e.abrupt("return",!1);case 30:x=t.items.filter((function(e){return e._id!==n})),t.items=x,r.setQueryData("coverletters",t),e.next=36;break;case 36:return a(null),e.abrupt("return",!0);case 40:return e.prev=40,e.t0=e.catch(4),c({type:"danger",heading:"Err!",message:"Failed to delete design"}),a(null),e.abrupt("return",!1);case 45:case"end":return e.stop()}}),e,null,[[4,40]])})));return function(n,t,r,i,a,s,o,c){return e.apply(this,arguments)}}(),se=t(8693);const oe=function(e){var n,t,r,s=e.freeUser,o=(0,a.useState)("resume"),c=(0,i.Z)(o,2),l=c[0],p=c[1],f=(0,a.useState)(!0),h=(0,i.Z)(f,2),m=h[0],x=h[1],g=(0,a.useState)(null),v=(0,i.Z)(g,2),b=v[0],j=v[1],w=(0,a.useState)(null),Z=(0,i.Z)(w,2),k=Z[0],O=Z[1],P=(0,a.useState)(null),S=(0,i.Z)(P,2),U=S[0],q=S[1],R=(0,a.useState)(!1),H=(0,i.Z)(R,2),V=H[0],Q=H[1],B=(0,a.useState)(0),W=(0,i.Z)(B,2),G=W[0],X=W[1],te=(0,ne.d)().setNotify,re=(0,M.k6)(),oe=(0,E.useQueryClient)(),ce=(0,u.S)().width,ue=function(e,n){var t=(0,a.useRef)(null);(0,a.useEffect)((function(){if(t&&t.current)return document.addEventListener("mousedown",r,!0),function(){document.removeEventListener("mousedown",r,!0)}}),[t.current]);var r=function(r){if(t&&t.current){var i=t.current.getElementsByClassName("isVisible")[0];if(!(!i||n&&r.target.classList.contains(n)||i.contains(r.target))){if(null===e)return;e(null)}}};return{ref:t}}(O,"toggle-download").ref,de=(r={page:0,limit:15},"resume"===(n=l)&&(t=(0,L.VN)(r)),"coverletter"===n&&(t=(0,K.F)(r)),t),le=de.data,pe=de.isLoading,fe=de.isError;(0,a.useEffect)((function(){if(ue&&ue.current&&!s){var e=Math.floor(ue.current.clientWidth/195),n=ue.current.clientHeight;X(ce<550?2:e),ue.current.clientHeight>n&&X(e-1)}}),[ue,ce,s]);var he=le&&le.items&&(0,C.Z)(le.items),Oe=G?he&&he.splice(0,ce<550?he.length>=3?3:2:G-1):le&&le.items?le.items:[];(0,a.useEffect)((function(){le&&(s&&("resume"===l&&le.length>=10||"coverletter"===l&&le.length>=5)?x(!1):x(!0))}),[le,l]);var Pe=function(){var e=(0,D.Z)(T().mark((function e(n,t){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(n,t,b,j,l,O,Q);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),De=function(){var e=(0,D.Z)(T().mark((function e(n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(n,le,oe,b,j,l,q,te);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,y.jsxs)(a.Fragment,{children:[V&&(0,y.jsx)(se.Z,{handleClose:function(){return Q(!1)}}),(0,y.jsxs)(Y.Z,{children:[(0,y.jsx)(Y.Z.Link,{children:(0,y.jsx)("a",{className:"resume"===l?"active":"",onClick:function(){return p("resume")},"data-test-id":"resume-toggle",children:"My Resume"})}),(0,y.jsx)(Y.Z.Link,{children:(0,y.jsx)("a",{"data-test-id":"coverletter-toggle",className:"coverletter"===l?"active":"",onClick:function(){return p("coverletter")},children:"Cover Letter"})})]}),(0,y.jsx)("div",{ref:ue,style:{margin:"1.25rem 1.25rem 1.7rem"},children:fe?(0,y.jsx)("div",{className:"align-center",style:{height:"230px"},children:(0,y.jsx)("h3",{children:"Failed to load designs!"})}):!le||pe?(0,y.jsx)(d.ZL,{children:(0,y.jsx)(me,{children:(0,C.Z)(Array(G)).map((function(e,n){return(0,y.jsx)(a.Fragment,{children:(0,y.jsx)(ge,{})},n)}))})}):(0,y.jsxs)(a.Fragment,{children:[(0,y.jsxs)(J.Z,{title:"Delete",msg:"Are you sure?",show:!!U,children:[(0,y.jsx)(ee.z,{btnType:"primary",size:"lg",onClick:function(){return q(null)},children:"Cancel"}),(0,y.jsx)(ee.z,{btnType:"ghost",size:"lg",onClick:function(){return U&&De(U)},children:"Delete"})]}),(0,y.jsxs)(me,{"data-test-id":"designs-wrapper",children:[m&&(0,y.jsxs)(xe,{onClick:function(){return re.push("resume"===l?"/resumes/new":"/coverletters/new")},children:[(0,y.jsx)(A.Z,{size:"1.7rem"}),ce>480&&(0,y.jsx)("p",{children:"resume"===l?"Create Resume":"Create Coverletter"})]}),(0,y.jsx)(a.Fragment,{children:Oe.map((function(e,n){return(0,y.jsxs)(be,{children:[(0,y.jsxs)(ve,{onClick:function(){return k!==n&&re.push("resume"===l?"resumes/edit/".concat(e._id):"coverletters/edit/".concat(e._id))},children:[(0,y.jsx)(a.Fragment,{children:k===n&&(0,y.jsxs)(Ze,{className:"download-overlay ".concat(k===n?"isVisible":""),children:[(0,y.jsx)(ke,{title:"Download PDF",className:"pdf-icon",onClick:function(){return Pe(e._id,"pdf")},children:(0,y.jsx)(N.Z,{size:"1.6rem",className:"fill"})}),(0,y.jsx)(ke,{className:"docx-icon",title:"Export To Docx",onClick:function(){return Pe(e._id,"docx")},children:(0,y.jsx)(_.Z,{size:"1.6rem",className:"fill"})}),(0,y.jsx)(ke,{className:"txt-icon",title:"Export To Txt",onClick:function(){return Pe(e._id,"txt")},children:(0,y.jsx)($.Z,{size:"1.6rem",className:"fill"})})]})}),e.attachments&&e.attachments.thumbnail?(0,y.jsx)("img",{src:e.attachments.thumbnail}):(0,y.jsx)("img",{src:"https://resume-mango.s3.us-east-2.amazonaws.com/public/template-images/resumes/empty/template10.jpg"}),(0,y.jsx)(a.Fragment,{children:b===e._id?(0,y.jsx)(je,{children:(0,y.jsx)(d.$j,{size:"1.5rem",type:"primary"})}):null})]}),(0,y.jsxs)(ye,{children:[(0,y.jsx)(we,{onClick:function(){return O(k!==n?n:null)},className:"toggle-download",title:"Download",children:(0,y.jsx)(I.Z,{className:"stroke"})}),(0,y.jsx)(we,{onClick:function(){return"resume"===l?re.push("resumes/edit/".concat(e._id)):re.push("coverletters/edit/".concat(e._id))},className:"toggle-edit",title:"Edit",children:(0,y.jsx)(F.Z,{className:"fill"})}),(0,y.jsx)(we,{onClick:function(){return q(e._id)},className:"toggle-delete",title:"Delete",children:(0,y.jsx)(z.Z,{className:"fill"})})]})]},n)}))})]})]})})]})};var ce,ue,de,le,pe,fe,he,me=s.ZP.div(U||(U=(0,r.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(175px, 1fr));\n  grid-gap: 2rem 1.5rem;\n  @media (max-width: 550px) {\n    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));\n    justify-items: center;\n  }\n  @media (max-width: 400px) {\n    grid-template-columns: (1, 1fr);\n  }\n"]))),xe=s.ZP.div(q||(q=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  background-color: #fff !important;\n  background-image: url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' stroke='%23ACACACFF' stroke-width='2' stroke-dasharray='5%2c 8' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e\");\n  max-width: 170px;\n  max-height: 225px;\n  min-height: 225px;\n  min-width: 160px;\n  height: 100%;\n  width: 100%;\n  margin-right: auto;\n  cursor: pointer;\n  user-select: none;\n  svg {\n    path {\n      fill: #949494;\n      stroke-width: 2.5;\n    }\n  }\n  p {\n    color: #949494;\n    font-size: 0.875rem;\n  }\n\n  &:hover {\n    svg {\n      path {\n        stroke: ",";\n      }\n    }\n    p {\n      color: ",";\n    }\n  }\n  @media (max-width: 400px) {\n    min-height: 50px;\n    max-height: 50px;\n    max-width: 100%;\n  }\n"])),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),ge=s.ZP.div(R||(R=(0,r.Z)(["\n  border-radius: 6px;\n  background-color: #eee;\n  min-height: 225px;\n  max-height: 225px;\n  min-width: 160px;\n  max-width: 160px;\n  height: 100%;\n  width: 100%;\n  @media (max-width: 600px) {\n    min-height: 225px;\n    min-width: 150px;\n    max-height: 225px;\n    max-width: 150px;\n  }\n"]))),ve=s.ZP.div(H||(H=(0,r.Z)(["\n  display: flex;\n  overflow: hidden;\n  background-color: #f7f7f7;\n  position: relative;\n  margin: 0 auto;\n  transition: ease-in-out 0.3s;\n\n  min-width: 160px;\n  max-width: 160px;\n  border-radius: 1px;\n  outline: 8px solid #eee;\n\n  &:hover {\n    outline-color: ",";\n  }\n  img {\n    width: 100%;\n    height: 100%;\n  }\n  @media (max-width: 400px) {\n    min-width: unset;\n    max-width: unset;\n    min-height: unset;\n    max-height: unset;\n  }\n"])),(function(e){return e.theme.shades.primary[3]})),be=s.ZP.div(V||(V=(0,r.Z)(["\n  display: flex;\n  cursor: pointer;\n  user-select: none;\n  height: 100%;\n  width: 100%;\n  margin: 0 auto;\n  @media (max-width: 550px) {\n    flex-direction: column;\n    min-height: 225px;\n    min-width: 150px;\n  }\n"]))),je=s.ZP.div(Q||(Q=(0,r.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin: auto;\n  width: 100%;\n  height: 100%;\n  display: block;\n  background-color: #cfcfcf5c;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),ye=s.ZP.div(B||(B=(0,r.Z)(["\n  padding-left: 1rem;\n  width: 40px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  @media (max-width: 550px) {\n    margin-top: 1rem;\n    width: 100%;\n    justify-content: space-around;\n    flex-direction: row;\n    max-width: 225px;\n    margin: auto;\n    padding: 0;\n  }\n"]))),we=s.ZP.div(W||(W=(0,r.Z)(["\n  margin-top: 1rem;\n  text-align: center;\n  cursor: pointer;\n  user-select: none;\n  svg {\n    pointer-events: none;\n  }\n  &:hover {\n    .fill {\n      path {\n        fill: ",";\n      }\n    }\n    .stroke {\n      path {\n        stroke: ",";\n      }\n      p {\n        color: ",";\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),Ze=s.ZP.div(G||(G=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  z-index: 10;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background-color: ",";\n"])),(function(e){return e.theme.shades.primary[3]})),ke=s.ZP.div(X||(X=(0,r.Z)(["\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  user-select: none;\n  border-radius: 50%;\n  background-color: #fff;\n  width: 50px;\n  height: 50px;\n  margin: 0.5rem;\n  transition: ease-in-out 0.3s;\n  svg {\n    path {\n      fill: ",";\n      transition: ease-in-out 0.3s;\n    }\n  }\n  &:hover {\n    background-color: ",";\n    svg {\n      path {\n        fill: #fff;\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.colors.primary})),Oe=t(7484),Pe=t.n(Oe),De=t(7912),Ce=t(4657),Se=t(736),Te=t(3727);const Ee=function(){var e=(0,a.useState)(Pe()()),n=(0,i.Z)(e,2),t=n[0],r=n[1],s=(0,Ce.Z)(t),o=s.getDatesForCurrMonth,c=s.getDatesForPrevMonth,u=s.getDatesforNextMonth,l=s.weekdays,p=function(e){r("next"===e?t.add(1,"month"):t.subtract(1,"month"))},f=(0,Se.e)(t.format("YYYY")),h=f.data,m=f.isLoading,x=f.isError,g=function(e,n){return n&&n.forEach((function(n){var t;if(n.start&&(t=n.start.dateTime?n.start.dateTime.split("T")[0]:n.start.date?n.start.date:null)){var r=function(e,n){return n.findIndex((function(n){return n.date==Pe()(e).format("YYYY-MM-D")}))}(t,e);-1!==r&&e[r].events.push(n)}})),e}([].concat((0,C.Z)(c),(0,C.Z)(o),(0,C.Z)(u)),h);return(0,y.jsx)(a.Fragment,{children:(0,y.jsxs)(ze,{children:[(0,y.jsxs)(Ae,{"data-test-id":"calendar-header",children:[(0,y.jsx)("div",{children:(0,y.jsx)("h3",{children:Pe()(t).format("MMMM YYYY")})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("button",{style:{transform:"rotateZ(90deg)"},onClick:function(){return p("prev")},className:"prev-btn",children:(0,y.jsx)(De.Z,{})}),(0,y.jsx)("button",{style:{transform:"rotateZ(270deg)"},onClick:function(){return p("next")},className:"next-btn",children:(0,y.jsx)(De.Z,{})})]})]}),(0,y.jsxs)(Ie,{children:[(0,y.jsx)(Ne,{children:l.map((function(e,n){return(0,y.jsx)("li",{children:e},n)}))}),x?(0,y.jsx)("h3",{children:"Failed to fetch calendar events"}):m?(0,y.jsx)(Fe,{children:(0,y.jsx)(d.ZL,{children:(0,y.jsx)(d.bt,{})})}):(0,y.jsx)($e,{"data-test-id":"dates-wrapper",children:g.map((function(e,n){return(0,y.jsx)(a.Fragment,{children:e.events.length>0?(0,y.jsx)(Te.rU,{to:{pathname:"/calendar/view/".concat(Pe()(e.date).format("YYYY/MM/DD"))},children:(0,y.jsx)(Ye,{active:e.events.length>0,today:Pe()().isSame(e.date.toString(),"day"),isCurr:e.isCurr,events:e.events.length>0&&e.events.length,className:e.isCurr?"today":"",children:e.day})}):(0,y.jsx)(Ye,{active:e.events.length>0,today:Pe()().isSame(e.date.toString(),"day"),isCurr:e.isCurr,events:e.events.length>0&&e.events.length,children:e.day})},n)}))})]})]})})};var Me,ze=s.ZP.div(ce||(ce=(0,r.Z)(["\n  display: block;\n  padding: 1.25rem;\n"]))),Fe=s.ZP.div(ue||(ue=(0,r.Z)(["\n  "," {\n    width: 100%;\n    height: 300px;\n  }\n"])),d.bt),Ae=s.ZP.div(de||(de=(0,r.Z)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  align-items: center;\n  div {\n    display: flex;\n    align-items: center;\n    button {\n      width: 30px;\n      height: 30px;\n      display: flex;\n      border-radius: 50%;\n      margin: 0 0.2rem;\n      align-items: center;\n      justify-content: center;\n      transition: all ease-in-out 200ms;\n      &:hover {\n        background-color: ",";\n      }\n      svg {\n        path {\n          stroke-width: 1.6;\n        }\n      }\n    }\n    h3 {\n      margin-bottom: 0;\n      font-size: 1rem;\n    }\n  }\n"])),(function(e){return e.theme.shades.primary[4]})),Ie=s.ZP.div(le||(le=(0,r.Z)(["\n  margin-top: 1rem;\n"]))),Ne=s.ZP.ol(pe||(pe=(0,r.Z)(["\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  grid-gap: 0.5rem;\n  align-items: center;\n  justify-items: center;\n  margin-bottom: 1.7rem;\n  li {\n    user-select: none;\n    text-transform: uppercase;\n    text-align: center;\n    font-size: 0.675rem;\n    color: rgba(197, 197, 197, 1);\n  }\n"]))),$e=s.ZP.ol(fe||(fe=(0,r.Z)(["\n  display: grid;\n  grid-template-columns: repeat(7, 1fr);\n  grid-gap: 0.5rem;\n  align-items: center;\n  justify-content: center;\n  justify-items: center;\n  @media (max-width: 1400px) {\n    grid-gap: 0.2rem;\n  }\n"]))),Ye=s.ZP.li(he||(he=(0,r.Z)(["\n  user-select: none;\n  text-align: center;\n  position: relative;\n  z-index: 1;\n  width: 45px;\n  height: 45px;\n  background-color: ",";\n  color: ",";\n  border-radius: 50%;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n\n  &:after {\n    top: -5px;\n    right: -2px;\n    ","\n    color: white;\n    display: inline-flex;\n    width: 20px;\n    height: 20px;\n    position: absolute;\n    background-color: #f08438;\n    border-radius: 50%;\n    z-index: 1;\n    justify-content: center;\n    align-items: center;\n  }\n  @media (max-width: 1400px) {\n    width: 35px;\n    height: 35px;\n\n    &:after {\n      width: 15px;\n      height: 15px;\n      font-size: 0.6rem;\n    }\n  }\n"])),(function(e){return e.active&&"rgba(240, 132, 56, 0.18)"}),(function(e){var n=e.active,t=e.today,r=e.isCurr;return n||t?"#f08438":r?"":"#bbb"}),(function(e){var n=e.events;return n&&"content: '".concat(n,"';")})),Le=t(2584),_e=t(7723),Ue=t(4634);const qe=function(e){var n=e.loading,t=e.startText,r=e.endText;return(0,y.jsx)(a.Fragment,{children:(0,y.jsx)(_e.Z,{in:n,timeout:{enter:200,exit:5e3},children:(0,y.jsx)(He,{children:n?(0,y.jsxs)(a.Fragment,{children:[(0,y.jsx)(d.$j,{type:"primary",size:"1.2rem"}),(0,y.jsx)(d.xg,{color:"#f08438",children:t})]}):(0,y.jsxs)(a.Fragment,{children:[(0,y.jsx)(Ue.Z,{size:"1.2rem",color:"#f08438"}),(0,y.jsx)("p",{style:{color:"#f08438"},children:r})]})})})})};var Re,He=s.ZP.div(Me||(Me=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  margin-right: 1rem;\n  opacity: 0;\n  visibility: hidden;\n\n  &.enter-done,\n  &.enter-active,\n  &.exit-active {\n    opacity: 1;\n    visibility: visible;\n  }\n  &.exit-done {\n    opacity: 0;\n    visibility: hidden;\n  }\n  p {\n    font-size: 0.875rem;\n    margin: 0 0 0 0.5rem;\n  }\n"]))),Ve=t(6527),Qe=t(732),Be=t(9669),We=t.n(Be),Ge=t(3106),Xe=t(8950),Ke=t(4942),Je=t(1002),en=function(){var e=(0,D.Z)(T().mark((function e(n){var t,r;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"undefined"!==(0,Je.Z)(Re)&&Re.cancel("Cancelling previous requests"),Re=We().CancelToken.source(),t={method:"PATCH",url:"/task/position",data:n,cancelToken:Re.token},e.next=5,We().request(t).then((function(e){return{data:e.data,error:void 0}})).catch((function(e){return{data:void 0,error:e}}));case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function nn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function tn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nn(Object(t),!0).forEach((function(n){(0,Ke.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var rn,an,sn=function(){var e=(0,D.Z)(T().mark((function e(n,t,r){var i;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.getQueryData("dashboardCounts")){e.next=14;break}return e.prev=2,e.next=5,r.fetchQuery(j.Zk,j.bF);case 5:i=e.sent,e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(2),!e.t0.constructor||!e.t0.constructor.name||"CancelledError"!==e.t0.constructor.name){e.next=12;break}return e.abrupt("return",!1);case 12:return t({heading:"Err",type:"danger",message:"Failed to update counts"}),e.abrupt("return",!1);case 14:if(!i||i.todos!==n){e.next=16;break}return e.abrupt("return",!1);case 16:return i.todos=n,r.setQueryData("dashboardCounts",i),e.abrupt("return",!0);case 19:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(n,t,r){return e.apply(this,arguments)}}(),on=function(){var e=(0,D.Z)(T().mark((function e(n,t,r,i){var a,s,o,c;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={todo:[],inprogress:[],completed:[]},!n){e.next=10;break}return Object.keys(a).forEach((function(e){n[e].forEach((function(n){return a[e].push(n._id)}))})),e.next=5,en(tn({},a));case 5:s=e.sent,o=s.data,(c=s.error)&&!We().isCancel(c)&&r({type:"danger",heading:"Err!",message:"Failed to update positon"}),o&&i.setQueryData("task-board",n);case 10:return e.abrupt("return",t(!1));case 11:case"end":return e.stop()}}),e)})));return function(n,t,r,i){return e.apply(this,arguments)}}(),cn={showModal:!1,tracker:{},modalAction:"",setShowModal:function(e){},setTracker:function(e){},setModalAction:function(e){},data:{},isLoading:!1,isError:!1,isPosUpdating:!1,setReqPosChange:function(e){},deleteItem:{},setDeleteItem:function(e){},isDeleting:!1,handleDeleteTracker:function(e){}},un=a.createContext(cn),dn=function(e){var n,t=e.children,r=(0,a.useState)(!1),s=(0,i.Z)(r,2),o=s[0],c=s[1],u=(0,a.useState)({}),d=(0,i.Z)(u,2),l=d[0],p=d[1],f=(0,a.useState)(""),h=(0,i.Z)(f,2),m=h[0],x=h[1],g=(0,a.useState)(0),v=(0,i.Z)(g,2),b=v[0],j=v[1],w=(0,a.useState)(!1),Z=(0,i.Z)(w,2),k=Z[0],O=Z[1],P=(0,a.useState)({}),C=(0,i.Z)(P,2),S=C[0],M=C[1],z=(0,ne.d)().setNotify,F=(0,Ve.Z)(!1),A=F.showExitPrompt,I=F.setShowExitPrompt,N=(n=function(){var e=(0,D.Z)(T().mark((function e(){var n,t;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We().get("/task");case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),(0,Ge.Z)("task-board",(function(){return n()}))),$=N.data,Y=N.isLoading,L=N.isError,_=(0,E.useQueryClient)(),U=$&&$.todo.length||0;(0,a.useEffect)((function(){sn(U,z,_)}),[U]),(0,a.useEffect)((function(){return function(){I(!1)}}),[]),(0,a.useEffect)((function(){I(!!k)}),[k]);var q=function(e,n,t,r,i,a,s){return(0,E.useMutation)((function(e){return We().delete("/task",{data:e})}),{onSuccess:function(i){(0,Xe.w)(e.id,e.status,n,"task-board",s),t(!1),r({})},onError:function(e){e._response,i({type:"danger",heading:"Err!",message:"Failed to delete tracker"})},onSettled:function(){a({})}})}(S,$,c,p,z,M,_);(0,a.useEffect)((function(){if(!(b<=0)&&$){O(!0);var e=setTimeout((function(){on($,O,z,_),j(0)}),3e3);return function(){return clearTimeout(e)}}}),[b]);var R=function(){var e=(0,D.Z)(T().mark((function e(n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.mutate(n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,y.jsxs)(un.Provider,{value:{showModal:o,setShowModal:c,tracker:l,setTracker:p,modalAction:m,setModalAction:x,data:$,isLoading:Y,isError:L,isPosUpdating:k,setReqPosChange:j,deleteItem:S,setDeleteItem:M,isDeleting:q.isLoading,handleDeleteTracker:R},children:[(0,y.jsx)(Qe.Z,{show:A,setShow:I}),t]})},ln=function(){var e=a.useContext(un);return{showModal:e.showModal,setShowModal:e.setShowModal,tracker:e.tracker,setTracker:e.setTracker,modalAction:e.modalAction,setModalAction:e.setModalAction,data:e.data,isLoading:e.isLoading,isError:e.isError,isPosUpdating:e.isPosUpdating,setReqPosChange:e.setReqPosChange,deleteItem:e.deleteItem,setDeleteItem:e.setDeleteItem,isDeleting:e.isDeleting,handleDeleteTracker:e.handleDeleteTracker}},pn=t(2684),fn=t(5970),hn=t(6240);function mn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function xn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?mn(Object(t),!0).forEach((function(n){(0,Ke.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const gn=function(e){var n=e.item,t=e.index,r=(0,a.useState)(!1),s=(0,i.Z)(r,2),o=s[0],c=s[1],u=ln(),d=u.setModalAction,l=u.setShowModal,p=u.setTracker,f=u.setDeleteItem;return(0,y.jsx)(Le._l,{draggableId:n._id,index:t,children:function(e){return(0,y.jsxs)(On,xn(xn(xn({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[(0,y.jsxs)(Pn,{vertical:"bottom",horizontal:"left",show:o,setShow:c,children:[(0,y.jsx)(fn.Z.Button,{children:(0,y.jsx)(hn.Z,{size:"0.875rem"})}),(0,y.jsx)(fn.Z.Item,{children:(0,y.jsx)("a",{onClick:function(){return function(e){p(e),d("edit"),l(!0)}(n)},children:"Edit"})}),(0,y.jsx)(fn.Z.Item,{children:(0,y.jsx)("a",{onClick:function(){return f({id:n._id,status:n.status})},children:"Delete"})})]}),(0,y.jsx)("p",{className:"truncate",children:(0,y.jsx)("b",{children:n.title})}),(0,y.jsx)("p",{className:"truncate",children:n.description})]}))}})};var vn,bn,jn,yn,wn,Zn,kn,On=s.ZP.div(rn||(rn=(0,r.Z)(["\n  padding: 15px 10px 10px;\n  margin-bottom: 10px;\n  min-height: 75px;\n  background: #fff;\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.06);\n  border-radius: 4px;\n  position: relative;\n  p {\n    width: 95%;\n    margin: 0;\n  }\n"]))),Pn=(0,s.ZP)(fn.Z)(an||(an=(0,r.Z)(["\n  display: inline-flex;\n  position: absolute;\n  z-index: 1;\n  cursor: pointer;\n  top: 0;\n  right: 0;\n  padding: 5px 10px;\n  button {\n    padding: 0;\n    svg {\n      circle {\n        transition: fill ease 0.3s;\n      }\n    }\n    &:hover {\n      svg {\n        circle {\n          fill: ",";\n        }\n      }\n    }\n  }\n  ul {\n    margin: 0;\n    padding: 5px 0;\n    li {\n      a {\n        font-size: 0.8rem;\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.primary}));function Dn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Cn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Dn(Object(t),!0).forEach((function(n){(0,Ke.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const Sn=function(e){var n=e.name,t=e.elements,r=e.placeholderProps,i=ln(),s=i.data,o=i.setTracker,c=i.setModalAction,u=i.setShowModal;return(0,y.jsxs)(Ln,{children:[(0,y.jsx)(In,{children:(0,y.jsxs)(Nn,{children:[(0,y.jsx)("p",{className:"title",children:"todo"===n?"To-do":"inprogress"===n?"In-Progress":n}),(0,y.jsx)("p",{className:"badge",children:(0,y.jsx)("b",{children:("0"+s[n].length).slice(-2)})})]})}),(0,y.jsx)(Yn,{children:(0,y.jsx)(Le.bK,{droppableId:"".concat(n),children:function(e,i){return(0,y.jsx)(a.Fragment,{children:(0,y.jsxs)(_n,Cn(Cn({id:"drag-column-".concat(n)},e.droppableProps),{},{ref:e.innerRef,children:[t&&t.map((function(e,t){return(0,y.jsx)(gn,{item:Cn(Cn({},e),{},{status:n}),index:t},e._id)})),e.placeholder,r&&Object.keys(r).length>0&&i.isDraggingOver&&(0,y.jsx)(Un,{style:{top:r.clientY,left:r.clientX,height:r.clientHeight,width:r.clientWidth}}),(0,y.jsx)($n,{children:(0,y.jsx)("p",{className:"add-task-btn",onClick:function(){return o({status:n}),c("create"),void u(!0)},children:"New Task"})})]}))})}})})]})};var Tn,En,Mn,zn,Fn,An,In=s.ZP.div(vn||(vn=(0,r.Z)(["\n  margin-bottom: 10px;\n  text-transform: capitalize;\n  background: rgba(241, 241, 241, 0.6);\n  padding: 10px;\n  border-radius: 4px;\n"]))),Nn=s.ZP.div(bn||(bn=(0,r.Z)(["\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  align-items: center;\n  p {\n    margin: 0;\n  }\n  .title {\n    font-weight: bold;\n    font-size: 0.875rem;\n  }\n  .badge {\n    font-size: 0.75rem;\n    background-color: #e4e4e4;\n    padding: 0.3rem;\n    border-radius: 4px;\n  }\n"]))),$n=s.ZP.div(jn||(jn=(0,r.Z)(["\n  position: relative;\n  p {\n    text-transform: capitalize;\n    background: rgba(224, 224, 224, 0.6);\n    padding: 7px;\n    border-radius: 4px;\n    cursor: pointer;\n    margin: 0;\n    text-align: center;\n    width: 100%;\n    height: fit-content;\n  }\n"]))),Yn=s.ZP.div(yn||(yn=(0,r.Z)(["\n  padding: 10px;\n  background: rgba(241, 241, 241, 0.6);\n  border-radius: 4px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]))),Ln=s.ZP.div(wn||(wn=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  user-select: none;\n  margin-right: 0.5rem;\n  margin-left: 0.5rem;\n  @media (max-width: 900px) {\n    width: 275px;\n  }\n"]))),_n=s.ZP.div(Zn||(Zn=(0,r.Z)(["\n  height: 100%;\n  position: relative;\n  min-height: 300px;\n"]))),Un=s.ZP.div(kn||(kn=(0,r.Z)(["\n  position: absolute;\n  border-radius: 3px;\n  background-color: rgba(224, 224, 224, 0.6);\n"]))),qn=t(2283),Rn=t(2537),Hn=t(5795),Vn=t(2790),Qn=t(8834),Bn=t(7561),Wn=Bn.Z_().required("Required"),Gn=Bn.Z_().required("Required"),Xn=Bn.Z_().oneOf(["todo","inprogress","completed"]).required("Required"),Kn=Bn.Vo((function(e){return e?Bn.hT():Bn.Z_()})),Jn=Bn.Ry().shape({title:Wn,description:Gn,status:Xn,startsAt:Kn,endsAt:Kn}),et=t(8420);function nt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function tt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nt(Object(t),!0).forEach((function(n){(0,Ke.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const rt=function(){var e=(0,E.useQueryClient)(),n=ln(),t=n.data,r=n.tracker,s=n.modalAction,o=n.setShowModal,c=n.setTracker,l=n.setModalAction,p=n.setDeleteItem,f=(0,a.useState)(r?r.status:"todo"),h=(0,i.Z)(f,2),m=h[0],x=h[1],g=(0,a.useState)(!1),v=(0,i.Z)(g,2),b=v[0],j=v[1],w=(0,u.S)().width,Z=(0,ne.d)().setNotify,k=function(e){x(e),j(!1)},O=(0,qn.cI)({mode:"onBlur",defaultValues:{title:"",description:"",status:"todo",startsAt:void 0,endsAt:void 0},resolver:(0,Qn.X)(Jn)}),P=O.setValue,C=O.reset,S=O.watch,M=O.handleSubmit,z=O.formState,F=z.isDirty,A=z.isValid,I=z.isSubmitting,N=S("title");(0,a.useEffect)((function(){if(r){var e=r;e.endsAt=r&&r.endsAt?(0,et.II)(r.endsAt):"",e.startsAt=r&&r.startsAt?(0,et.II)(r.startsAt):"",e.status||(e.status="todo"),C(e,{keepErrors:!1,keepDirty:!1,keepIsSubmitted:!1,keepTouched:!1,keepIsValid:!1,keepSubmitCount:!1})}}),[s,r]),(0,a.useEffect)((function(){P("status",m,{shouldDirty:!0,shouldValidate:!0})}),[m]);var $=function(e,n,t,r,i,a){return(0,E.useMutation)((function(e){return We().patch("/task",e)}),{onSuccess:function(i){i.data&&(function(e,n,t,r){var i=tn({},n),a=i[t.status];if(!a)return!1;var s=a.findIndex((function(e){return e._id===t._id}));-1!==s&&(e.status!==t.status?t&&(a.splice(s,1),i[e.status].unshift(e),r.setQueryData("task-board",i)):(a.splice(s,1,e),r.setQueryData("task-board",i)))}(i.data,e,n,a),t(!1),r({}))},onError:function(e){e._response,i({type:"danger",heading:"Err!",message:"Failed to update task"})}})}(t,r,o,c,Z,e),Y=function(e,n,t,r,i){return(0,E.useMutation)((function(e){return We().post("/task",e)}),{onSuccess:function(r){r.data&&(function(e,n,t){var r=tn({},n),i=r[e.status];i&&(i.unshift(e),t.setQueryData("task-board",r))}(r.data,e,i),n(!1),t({}))},onError:function(e){e._response,r({type:"danger",heading:"Err!",message:"Failed to create task"})}})}(t,o,c,Z,e),L=function(){var e=(0,D.Z)(T().mark((function e(n){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("create"!==s){e.next=4;break}return e.abrupt("return",Y.mutateAsync(n).then((function(e){return!0})).catch((function(e){return!1})));case 4:if("edit"!==s){e.next=8;break}return n.id=r._id,n.oldStatus=r.status,e.abrupt("return",$.mutateAsync(n).then((function(e){return!0})).catch((function(e){return!1})));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,y.jsx)(a.Fragment,{children:(0,y.jsx)(lt,{"data-test-id":"task-popup",children:(0,y.jsx)(ot,{children:(0,y.jsxs)(qn.RV,tt(tt({},O),{},{children:[(0,y.jsx)("h2",{className:"space-around truncate",style:w<=480?{marginBottom:"1rem"}:{},children:N||"Untitled"}),(0,y.jsx)(ut,{onClick:function(){return o(!1),c({}),void l("")},children:(0,y.jsx)(Vn.Z,{size:"1rem"})}),(0,y.jsxs)(ct,{columns:"2fr 1fr",className:"mb-1",children:[(0,y.jsx)("div",{children:(0,y.jsx)(Rn.Z,{name:"title",label:"Title"})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{children:"Status"}),(0,y.jsxs)(dt,{show:b,setShow:j,vertical:"bottom",horizontal:"left",btnStyle:{padding:"0.1rem"},children:[(0,y.jsxs)(fn.Z.Button,{children:["todo"===m?"To-do":"inprogress"===m?"In-progress":"Completed",(0,y.jsx)(De.Z,{})]}),(0,y.jsx)(fn.Z.Item,{children:(0,y.jsx)("a",{onClick:function(){return k("todo")},children:"To-do"})}),(0,y.jsx)(fn.Z.Item,{children:(0,y.jsx)("a",{onClick:function(){return k("inprogress")},children:"In-progress"})}),(0,y.jsx)(fn.Z.Item,{children:(0,y.jsx)("a",{onClick:function(){return k("completed")},children:"Completed"})})]})]})]}),(0,y.jsx)("div",{className:"mb-1",children:(0,y.jsx)(Hn.Z,{name:"description",label:"Description",rows:8})}),(0,y.jsxs)(ct,{columns:"repeat(2, 1fr)",className:"mb-2",children:[(0,y.jsx)("div",{children:(0,y.jsx)(Rn.Z,{name:"startsAt",label:"Starts At",type:"datetime-local"})}),(0,y.jsx)("div",{children:(0,y.jsx)(Rn.Z,{name:"endsAt",label:"Ends At",type:"datetime-local"})})]}),(0,y.jsxs)(ct,{columns:"45% 25% 25%",children:[(0,y.jsx)("div",{}),(0,y.jsx)(a.Fragment,{children:"edit"===s?(0,y.jsx)(ee.z,{btnType:"ghost",size:"lg",onClick:function(){Object.keys(r).length>0&&r._id&&r.status&&(o(!1),c({}),p({id:r._id,status:r.status}))},children:"Delete"}):(0,y.jsx)("div",{})}),(0,y.jsx)(ee.z,{btnType:"primary",size:"lg",disabled:I||!F||!A,onClick:function(){M(L)()},children:I?(0,y.jsx)(d.$j,{size:"1.4rem",type:"white"}):"Save"})]})]}))})})})};var it,at,st,ot=s.ZP.div(Tn||(Tn=(0,r.Z)(["\n  max-width: 700px;\n  width: 100%;\n  padding: 2rem;\n  background-color: #fff;\n  border-radius: 0.5rem;\n  position: relative;\n"]))),ct=s.ZP.div(En||(En=(0,r.Z)(["\n  display: grid;\n  grid-template-columns: ",";\n  grid-gap: 1rem;\n  align-items: top;\n"])),(function(e){return e.columns})),ut=s.ZP.div(Mn||(Mn=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  right: 0;\n  top: 0;\n  padding: 1rem;\n  cursor: pointer;\n  &:hover {\n    svg {\n      path {\n        stroke: ",";\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.primary})),dt=(0,s.ZP)(fn.Z)(zn||(zn=(0,r.Z)(["\n  width: 100%;\n  button {\n    height: 44px;\n    background-color: rgba(244, 245, 247, 1);\n    padding: 0 0.8rem !important;\n    border-radius: 6px;\n    font-size: 1rem;\n    color: rgba(52, 52, 52, 1);\n    justify-content: space-between;\n  }\n"]))),lt=s.ZP.div(Fn||(Fn=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  background-color: ",";\n"])),(function(e){return e.theme.shades.dark[3]})),pt=(s.ZP.div(An||(An=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  grid-gap: 1.5rem;\n"]))),function(){var e=(0,a.useState)({}),n=(0,i.Z)(e,2),t=n[0],r=n[1],s=ln(),o=s.showModal,c=s.data,u=s.isLoading,l=s.isError,p=s.setReqPosChange,f=s.deleteItem,h=s.setDeleteItem,m=s.isDeleting,x=s.handleDeleteTracker,g=s.isPosUpdating,v=function(e){var n="[".concat("data-rbd-drag-handle-draggable-id","='").concat(e,"']");return document.querySelector(n)};return(0,y.jsxs)(a.Fragment,{children:[(0,y.jsxs)(J.Z,{title:"Delete",msg:"Are you sure?",show:Object.keys(f).length>0,children:[(0,y.jsx)(ee.z,{btnType:"primary",size:"lg",onClick:function(){return h({})},disabled:m,children:"Cancel"}),(0,y.jsx)(ee.z,{btnType:"ghost",size:"lg",onClick:function(){return f&&Object.keys(f).length>0&&x(f)},disabled:m,children:m?(0,y.jsx)(d.$j,{size:"1.2rem",type:"white"}):"Delete"})]}),(0,y.jsxs)(xt,{children:[(0,y.jsx)("h3",{children:"Task Board"}),(0,y.jsx)(qe,{loading:m||g,startText:"Saving",endText:"Saved!"})]}),l?(0,y.jsx)("h3",{children:"Failed to Fetch Tasks"}):u||!c?(0,y.jsx)(gt,{children:(0,y.jsxs)(d.ZL,{children:[(0,y.jsxs)("div",{children:[(0,y.jsx)(d.up,{}),(0,y.jsx)(d.bt,{})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(d.up,{}),(0,y.jsx)(d.bt,{})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(d.up,{}),(0,y.jsx)(d.bt,{})]})]})}):c?(0,y.jsxs)(a.Fragment,{children:[o&&(0,y.jsx)(rt,{}),(0,y.jsx)(Le.Z5,{onDragEnd:function(e){r({}),(0,pn.ye)(c,e),p((function(e){return e+1}))},onDragStart:function(e){var n=(0,pn.AQ)(e,v);n&&r({clientHeight:n.clientHeight,clientWidth:n.clientWidth,clientY:n.clientY,clientX:parseFloat(window.getComputedStyle(n.draggedDOM.parentNode).paddingLeft)})},onDragUpdate:function(e){var n=(0,pn.i6)(e,v);n&&r({clientHeight:n.clientHeight,clientWidth:n.clientWidth,clientY:n.clientY,clientX:parseFloat(window.getComputedStyle(n.draggedDOM.parentNode).paddingLeft)})},children:(0,y.jsx)(mt,{id:"drag-container",children:c&&["todo","inprogress","completed"].map((function(e){return(0,y.jsx)(Sn,{elements:c[e],name:e,placeholderProps:t},e)}))})})]}):null]})});const ft=function(){return(0,y.jsx)(dn,{children:(0,y.jsx)(pt,{})})};var ht,mt=s.ZP.div(it||(it=(0,r.Z)(["\n  display: grid;\n  grid-template-columns: repeat(3, 33%);\n  padding: 1.5rem 1rem;\n  margin-bottom: 1rem;\n  width: 100%;\n  flex: 1;\n\n  @media (max-width: 900px) {\n    grid-template-columns: repeat(5, 1fr);\n    overflow-x: scroll;\n    margin-bottom: 1.5rem;\n  }\n"]))),xt=s.ZP.div(at||(at=(0,r.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem 1.5rem 0;\n  h3 {\n    margin-bottom: 0;\n  }\n"]))),gt=s.ZP.div(st||(st=(0,r.Z)(["\n  margin: 2rem;\n  "," {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-gap: 1.25rem;\n    min-height: 350px;\n    div {\n      display: flex;\n      flex-direction: column;\n      "," {\n        height: 55px;\n        margin-bottom: 1rem;\n      }\n      "," {\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n"])),d.ZL,d.up,d.bt);const vt=function(){var e=(0,a.useState)(null),n=(0,i.Z)(e,2),t=n[0],r=n[1],s=(0,c.a)().user,l=(0,u.S)().width,p=(new Date).getHours();return(0,a.useEffect)((function(){if(s&&s.role){var e=s.role.some((function(e){return["pro","ceo"].includes(e)}));r(e?"full-access":"limited-access")}}),[s]),(0,y.jsxs)(a.Fragment,{children:[(0,y.jsx)(o.Z,{name:p<12?"Good Morning":p<18?"Good Afternoon":"Good Evening",title:(0,y.jsxs)(a.Fragment,{children:["Hello ",(0,y.jsx)("span",{children:s&&s.firstName||""})]})}),"limited-access"===t?(0,y.jsx)(oe,{freeUser:!0}):"full-access"===t?(0,y.jsxs)(a.Fragment,{children:[(0,y.jsxs)(bt,{style:l>1200?{borderBottom:"1px solid #e2e9f3"}:void 0,children:[(0,y.jsxs)("div",{style:l>1200?{borderRight:"1px solid #e2e9f3"}:void 0,children:[(0,y.jsx)(w,{}),(0,y.jsx)(oe,{})]}),(0,y.jsx)("div",{children:(0,y.jsx)(Ee,{})})]}),(0,y.jsxs)(bt,{children:[(0,y.jsx)("div",{style:l>1200?{borderRight:"1px solid #e2e9f3"}:void 0,children:(0,y.jsx)(ft,{})}),(0,y.jsx)("div",{})]})]}):(0,y.jsx)("div",{className:"flex-center",children:(0,y.jsx)(d.$j,{size:"2rem",type:"primary"})})]})};var bt=s.ZP.div(ht||(ht=(0,r.Z)(["\n  display: grid;\n  grid-template-columns: 65% 35%;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  @media (max-width: 1200px) {\n    grid-template-columns: 100%;\n  }\n"])))},736:(e,n,t)=>{"use strict";t.d(n,{e:()=>a});var r=t(1358),i=t(3106),a=function(e){return(0,i.Z)(["calendar",e],(function(){return(0,r.G)(e)}),!0,{keepPreviousData:!0})}},5337:(e,n,t)=>{"use strict";t.d(n,{Kj:()=>d,F:()=>l,xB:()=>p,V5:()=>f});var r=t(5861),i=t(7757),a=t.n(i),s=t(9669),o=t.n(s),c=t(704),u=t(3106),d=function(){return(0,c.Z)("CoverLetterTemplates","/templates/coverletter")},l=function(e){var n=function(){var n=(0,r.Z)(a().mark((function n(){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o().get("/coverletter",{params:e});case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,u.Z)(["coverletters",e],(function(){return n()}))},p=function(e,n){var t=function(){var e=(0,r.Z)(a().mark((function e(n){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/templates/coverletter/".concat(n));case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,u.Z)(["CoverLetterTemplates",e],(function(){return t(e)}),n)},f=function(e,n){var t=function(){var e=(0,r.Z)(a().mark((function e(n){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/coverletter/".concat(n));case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,u.Z)(["coverletter",e],(function(){return t(e)}),n)}},2611:(e,n,t)=>{"use strict";t.d(n,{Bh:()=>d,VN:()=>l,ZT:()=>p,IE:()=>f});var r=t(5861),i=t(7757),a=t.n(i),s=t(9669),o=t.n(s),c=t(704),u=t(3106),d=function(){return(0,c.Z)("resumeTemplates","/templates/resume")},l=function(e,n){var t=function(){var n=(0,r.Z)(a().mark((function n(){var t,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o().get("/resume",{params:e});case 2:return t=n.sent,r=t.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,u.Z)(["resumes",e],(function(){return t()}),n)},p=function(e,n){var t=function(){var e=(0,r.Z)(a().mark((function e(n){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/templates/resume/".concat(n));case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,u.Z)(["resumeTemplates",e],(function(){return t(e)}),n)},f=function(e,n){var t=function(){var e=(0,r.Z)(a().mark((function e(n){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o().get("/resume/".concat(n));case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,u.Z)(["resume",e],(function(){return t(e)}),n)}},178:function(e){e.exports=function(){"use strict";var e="minute",n=/[+-]\d\d(?::?\d\d)?/g,t=/([+-]|\d\d)/g;return function(r,i,a){var s=i.prototype;a.utc=function(e){return new i({date:e,utc:!0,args:arguments})},s.utc=function(n){var t=a(this.toDate(),{locale:this.$L,utc:!0});return n?t.add(this.utcOffset(),e):t},s.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var o=s.parse;s.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),o.call(this,e)};var c=s.init;s.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else c.call(this)};var u=s.utcOffset;s.utcOffset=function(r,i){var a=this.$utils().u;if(a(r))return this.$u?0:a(this.$offset)?u.call(this):this.$offset;if("string"==typeof r&&null===(r=function(e){void 0===e&&(e="");var r=e.match(n);if(!r)return null;var i=(""+r[0]).match(t)||["-",0,0],a=i[0],s=60*+i[1]+ +i[2];return 0===s?0:"+"===a?s:-s}(r)))return this;var s=Math.abs(r)<=16?60*r:r,o=this;if(i)return o.$offset=s,o.$u=0===r,o;if(0!==r){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(s+c,e)).$offset=s,o.$x.$localOffset=c}else o=this.utc();return o};var d=s.format;s.format=function(e){var n=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return d.call(this,n)},s.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*e},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var l=s.toDate;s.toDate=function(e){return"s"===e&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():l.call(this)};var p=s.diff;s.diff=function(e,n,t){if(e&&this.$u===e.$u)return p.call(this,e,n,t);var r=this.local(),i=a(e).local();return p.call(r,i,n,t)}}}()}}]);
//# sourceMappingURL=576.bundle.js.map