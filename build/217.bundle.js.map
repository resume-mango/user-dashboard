{"version":3,"file":"217.bundle.js","mappings":"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","sources":["webpack://user-dashboard/./src/components/svgs/justCheckIcon.tsx","webpack://user-dashboard/./src/components/ui/dashPageHeader.tsx","webpack://user-dashboard/./src/components/ui/modal.tsx","webpack://user-dashboard/./src/hooks/detectOutsideClick.ts","webpack://user-dashboard/./src/hooks/getUrlParams.ts","webpack://user-dashboard/./src/components/svgs/smile.tsx","webpack://user-dashboard/./src/components/svgs/attachment.tsx","webpack://user-dashboard/./src/pages/resume-review/UploadScreen.tsx","webpack://user-dashboard/./src/components/svgs/image.tsx","webpack://user-dashboard/./src/components/svgs/files.tsx","webpack://user-dashboard/./src/components/ui/CircularProgress.tsx","webpack://user-dashboard/./src/components/svgs/play.tsx","webpack://user-dashboard/./src/components/svgs/retry.tsx","webpack://user-dashboard/./src/helpers/resumeReview.ts","webpack://user-dashboard/./src/pages/resume-review/AttachementUpload.tsx","webpack://user-dashboard/./src/pages/resume-review/MessageBox.tsx","webpack://user-dashboard/./src/pages/resume-review/reviewSidebar.tsx","webpack://user-dashboard/./src/pages/resume-review/viewResume.tsx","webpack://user-dashboard/./src/pages/resume-review/AttachmentDownload.tsx","webpack://user-dashboard/./src/pages/resume-review/ReviewChat.tsx","webpack://user-dashboard/./src/queries/resumeQueries.ts","webpack://user-dashboard/./src/styled/pages.ts"],"sourcesContent":["import React, { Fragment } from 'react'\ninterface IconProps {\n  size?: string\n  color?: string\n  className?: string\n}\nconst JustCheckIcon = ({ size, color, className }: IconProps) => {\n  return (\n    <Fragment>\n      <svg\n        xmlns='http://www.w3.org/2000/svg'\n        viewBox='0 0 25 18'\n        width={size || '1rem'}\n        className={className || ''}\n        height={size || '1rem'}\n      >\n        <path d='M24 1L8 17' stroke={color || '#898989'} strokeWidth='2' />\n        <path d='M1 9L9.49999 17' stroke={color || '#898989'} strokeWidth='2' />\n      </svg>\n    </Fragment>\n  )\n}\n\nexport default JustCheckIcon\n","import React, { Fragment, ReactElement, ReactNode } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport styled from 'styled-components'\nimport { useAuth } from '../../contexts/authProvider'\nimport { useViewport } from '../../contexts/viewPort'\nimport { Button } from '../../styled/button'\nimport { DashHeader } from '../../styled/pages'\n\ninterface ILayout {\n  name?: string\n  title: string | ReactElement<any, any>\n  customBtns?: boolean\n  children?: ReactNode\n}\n\nconst DashPageHeader: React.FC<ILayout> = ({\n  name,\n  title,\n  children,\n  customBtns,\n}) => {\n  const { user } = useAuth()\n  const history = useHistory()\n  const { width } = useViewport()\n\n  return (\n    <Fragment>\n      <DashHeader>\n        <div>\n          {name && <p>{name}</p>}\n          <h1>{title}</h1>\n        </div>\n        {width > 800 && (\n          <div>\n            {!customBtns ? (\n              <Fragment>\n                {user &&\n                user.role &&\n                Array.isArray(user.role) &&\n                user.role.includes('ceo') ? (\n                  <Button\n                    onClick={() => history.push('/resumes/new')}\n                    btnType=\"primary\"\n                    size=\"sm\"\n                  >\n                    Create Resume\n                  </Button>\n                ) : (\n                  <Button\n                    onClick={() => history.push('/subscribe')}\n                    btnType=\"primary\"\n                    size=\"sm\"\n                  >\n                    Upgrade\n                  </Button>\n                )}\n\n                <Button\n                  onClick={() => history.push('/progress-tracker')}\n                  btnType=\"ghost\"\n                  size=\"sm\"\n                >\n                  Tracker\n                </Button>\n              </Fragment>\n            ) : (\n              children\n            )}\n          </div>\n        )}\n      </DashHeader>\n    </Fragment>\n  )\n}\n\nexport default DashPageHeader\n","import React, { Fragment, ReactNode } from 'react'\nimport styled from 'styled-components'\n\nconst Modal = ({ show, children }: { show: boolean; children: ReactNode }) => {\n  return <Fragment>{show && <Wrapper>{children}</Wrapper>}</Fragment>\n}\n\nexport default Modal\n\nconst Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  background-color: ${({ theme }) => theme.shades.dark[3]};\n`\n","import { useEffect, useRef, useState } from 'react'\n\n/**\n * Detects if user clicks outside element boundary, tweaked for multiple elements in same list\n * @returns ref object of selected element\n */\nconst detectOutsideClick = () => {\n  const [isOutside, setIsOutside] = useState(false)\n  const ref = useRef<any>(null)\n\n  const handleClickOutside = (e: any) => {\n    if (!ref || !ref.current) return\n    if (!ref.current.contains(e.target)) {\n      setIsOutside(true)\n    } else {\n      setIsOutside(false)\n    }\n  }\n\n  useEffect(() => {\n    if (!ref || !ref.current) return\n    document.addEventListener('mousedown', handleClickOutside, true)\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside, true)\n    }\n  }, [ref.current])\n\n  return { isOutside, ref }\n}\n\nexport default detectOutsideClick\n","/* istanbul ignore file */\n\nimport React from 'react'\nimport { useLocation } from 'react-router-dom'\n/**\n * decode parameters form url\n * @returns memoized URLSearchParams\n */\nconst getUrlParams = () => {\n  const { search } = useLocation()\n\n  return React.useMemo(() => new URLSearchParams(search), [search])\n}\n\nexport default getUrlParams\n","import React, { Fragment } from 'react'\ninterface IconProps {\n  size?: string\n  color?: string\n  className?: string\n}\nconst SmileIcon = ({ size, color, className }: IconProps) => {\n  return (\n    <Fragment>\n      <svg\n        width={size || '1rem'}\n        className={className || ''}\n        height={size || '1rem'}\n        viewBox=\"0 0 512 512\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fill={color || '#898989'}\n          d=\"M256 352C293.2 352 319.2 334.5 334.4 318.1C343.3 308.4 358.5 307.7 368.3 316.7C378 325.7 378.6 340.9 369.6 350.6C347.7 374.5 309.7 400 256 400C202.3 400 164.3 374.5 142.4 350.6C133.4 340.9 133.1 325.7 143.7 316.7C153.5 307.7 168.7 308.4 177.6 318.1C192.8 334.5 218.8 352 256 352zM208.4 208C208.4 225.7 194 240 176.4 240C158.7 240 144.4 225.7 144.4 208C144.4 190.3 158.7 176 176.4 176C194 176 208.4 190.3 208.4 208zM304.4 208C304.4 190.3 318.7 176 336.4 176C354 176 368.4 190.3 368.4 208C368.4 225.7 354 240 336.4 240C318.7 240 304.4 225.7 304.4 208zM512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256zM256 48C141.1 48 48 141.1 48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48z\"\n        />\n      </svg>\n    </Fragment>\n  )\n}\n\nexport default SmileIcon\n","import React, { Fragment } from 'react'\ninterface IconProps {\n  size?: string\n  color?: string\n  className?: string\n}\nconst AttachmentIcon = ({ size, color, className }: IconProps) => {\n  return (\n    <Fragment>\n      <svg\n        width={size || '1rem'}\n        className={className || ''}\n        height={size || '1rem'}\n        viewBox=\"0 0 512 512\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fill={color || '#898989'}\n          d=\"M396.2 83.8c-24.4-24.4-64-24.4-88.4 0l-184 184c-42.1 42.1-42.1 110.3 0 152.4s110.3 42.1 152.4 0l152-152c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-152 152c-64 64-167.6 64-231.6 0s-64-167.6 0-231.6l184-184c46.3-46.3 121.3-46.3 167.6 0s46.3 121.3 0 167.6l-176 176c-28.6 28.6-75 28.6-103.6 0s-28.6-75 0-103.6l144-144c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-144 144c-6.7 6.7-6.7 17.7 0 24.4s17.7 6.7 24.4 0l176-176c24.4-24.4 24.4-64 0-88.4z\"\n        />\n      </svg>\n    </Fragment>\n  )\n}\n\nexport default AttachmentIcon\n","import React, { Fragment, useCallback } from 'react'\nimport { useDropzone } from 'react-dropzone'\nimport styled from 'styled-components'\nimport { Button } from '../../styled/button'\nimport CrossIcon from '../../components/svgs/cross'\nimport { useNotify } from '../../contexts/notify'\n\ninterface IProps {\n  setFiles: (val: any) => void\n  setShow: (val: boolean) => void\n  type: 'image' | 'attachment'\n}\n\nconst UploadScreen: React.FC<IProps> = ({ setFiles, setShow, type }) => {\n  const { setNotify } = useNotify()\n  const onDrop = useCallback(async (acceptedFiles) => {\n    try {\n      setFiles(acceptedFiles)\n      return setShow(false)\n    } catch (err) {\n      console.log(err)\n      return\n    }\n  }, [])\n\n  const onDropRejected = useCallback(async (rejectedFiles) => {\n    try {\n      if (!rejectedFiles || rejectedFiles.length === 0) return\n      return rejectedFiles.forEach((item: Record<string, any>) =>\n        setNotify({\n          type: 'warning',\n          message: item.file.name,\n          heading: item.errors[0].message,\n        })\n      )\n    } catch (err) {\n      console.log(err)\n      return\n    }\n  }, [])\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    accept:\n      type === 'image'\n        ? ['image/png', 'image/jpg', 'image/jpeg', 'image/webp']\n        : type === 'attachment'\n        ? [\n            'video/mp4',\n            'video/webm',\n            'application/msword',\n            'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n            'application/pdf',\n            'text/plain',\n          ]\n        : '',\n    maxFiles: 10,\n    maxSize: 100 * 1024 * 1024,\n    onDrop,\n    onDropRejected,\n  })\n\n  return (\n    <Fragment>\n      <Wrapper>\n        <CloseBtn onClick={() => setShow(false)}>\n          <CrossIcon size=\"1.2rem\" />\n        </CloseBtn>\n\n        <DropWrapper {...getRootProps()}>\n          <input {...getInputProps()} />\n          {isDragActive ? (\n            <p>Drop the files here ...</p>\n          ) : (\n            <Fragment>\n              <p className=\"mb-2\">\n                Drag &apos;n&apos; drop here, or click to select image\n              </p>\n              <Button type=\"button\" btnType=\"primary\" size=\"lg\">\n                Choose File\n              </Button>\n            </Fragment>\n          )}\n        </DropWrapper>\n      </Wrapper>\n    </Fragment>\n  )\n}\n\nexport default UploadScreen\n\nconst Wrapper = styled.div`\n  max-height: 400px;\n  max-width: 850px;\n  height: 100%;\n  width: 100%;\n  padding: 5rem 4rem;\n  background-color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n`\n\nconst DropWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  align-items: center;\n  justify-content: center;\n  background-image: url(\"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' stroke='%23ACACACFF' stroke-width='2' stroke-dasharray='5%2c 8' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e\");\n  opacity: 0.8;\n  transition: opacity 200ms;\n  cursor: pointer;\n  p {\n    font-size: 1.25rem;\n  }\n  &:hover {\n    opacity: 1;\n  }\n`\nconst CloseBtn = styled.span`\n  display: inline-flex;\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  padding: 1rem;\n  z-index: 1;\n  cursor: pointer;\n\n  &:hover {\n    svg {\n      path {\n        stroke: ${({ theme }) => theme.colors.primary};\n      }\n    }\n  }\n`\n","import React, { Fragment } from 'react'\ninterface IconProps {\n  size?: string\n  color?: string\n  className?: string\n}\nconst ImageIcon = ({ size, color, className }: IconProps) => {\n  return (\n    <Fragment>\n      <svg\n        width={size || '1rem'}\n        className={className || ''}\n        height={size || '1rem'}\n        viewBox=\"0 0 512 512\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fill={color || '#898989'}\n          d=\"M152 120c-26.51 0-48 21.49-48 48s21.49 48 48 48s48-21.49 48-48S178.5 120 152 120zM447.1 32h-384C28.65 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM463.1 409.3l-136.8-185.9C323.8 218.8 318.1 216 312 216c-6.113 0-11.82 2.768-15.21 7.379l-106.6 144.1l-37.09-46.1c-3.441-4.279-8.934-6.809-14.77-6.809c-5.842 0-11.33 2.529-14.78 6.809l-75.52 93.81c0-.0293 0 .0293 0 0L47.99 96c0-8.822 7.178-16 16-16h384c8.822 0 16 7.178 16 16V409.3z\"\n        />\n      </svg>\n    </Fragment>\n  )\n}\n\nexport default ImageIcon\n","import React, { Fragment } from 'react'\ninterface IconProps {\n  size?: string\n  color?: string\n  className?: string\n}\nconst FileIcon = ({ size, color, className }: IconProps) => {\n  return (\n    <Fragment>\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 384 512\"\n        width={size || '1rem'}\n        className={className || ''}\n        height={size || '1rem'}\n        fill=\"none\"\n      >\n        <path\n          fill={color || '#898989'}\n          d=\"M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z\"\n        />\n      </svg>\n    </Fragment>\n  )\n}\n\nexport default FileIcon\n","import React, { Fragment, useState, useEffect } from 'react'\nimport styled, { keyframes } from 'styled-components'\n\ninterface ICircularProgress {\n  size?: number\n  progress?: number\n  trackWidth?: number\n  trackColor?: string\n  indicatorWidth?: number\n  indicatorColor?: string\n  indicatorCap?: 'inherit' | 'round' | 'butt' | 'square' | undefined\n  spinnerMode?: boolean\n  spinnerSpeed?: number\n}\nconst CircularProgress = (props: ICircularProgress) => {\n  const {\n    size = 30,\n    progress = 0,\n    trackWidth = 3,\n    trackColor = `#eee`,\n    indicatorWidth = 3,\n    indicatorColor = `rgba(240, 132, 56, 1)`,\n    indicatorCap = `round`,\n    spinnerMode = false,\n    spinnerSpeed = 1,\n  } = props\n\n  const center = size / 2,\n    radius =\n      center - (trackWidth > indicatorWidth ? trackWidth : indicatorWidth),\n    dashArray = 2 * Math.PI * radius,\n    dashOffset = dashArray * ((100 - progress) / 100)\n\n  return (\n    <Fragment>\n      <CircleIcon style={{ width: size, height: size }}>\n        <circle\n          className={`track ${spinnerMode ? 'spinner' : ''}`}\n          cx={center}\n          cy={center}\n          fill=\"transparent\"\n          r={radius}\n          stroke={trackColor}\n          strokeWidth={trackWidth}\n        />\n        <circle\n          className={`indicator ${spinnerMode ? 'indicator-spinner' : ''}`}\n          style={{ animationDuration: (spinnerSpeed * 1000).toString() }}\n          cx={center}\n          cy={center}\n          fill=\"transparent\"\n          r={radius}\n          stroke={indicatorColor}\n          strokeWidth={indicatorWidth}\n          strokeDasharray={dashArray}\n          strokeDashoffset={dashOffset}\n          strokeLinecap={indicatorCap}\n        />\n      </CircleIcon>\n    </Fragment>\n  )\n}\n\nexport default CircularProgress\n\nconst Spinner = keyframes`\n\n  0% {\n    transform: rotate(0)\n  }\n  100% {\n    transform: rotate(360deg)\n  }\n\n`\n\nconst CircleIcon = styled.svg`\n  transform: rotate(-90deg);\n  .indicator-spinner {\n    animation: ${Spinner} 1000ms linear infinite;\n    transform-origin: center;\n  }\n`\n","import React, { Fragment } from 'react'\ninterface IconProps {\n  size?: string\n  color?: string\n  className?: string\n}\nconst PlayIcon = ({ size, color, className }: IconProps) => {\n  return (\n    <Fragment>\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 384 512\"\n        width={size || '1rem'}\n        className={className || ''}\n        height={size || '1rem'}\n        fill=\"none\"\n      >\n        <path\n          fill={color || '#898989'}\n          d=\"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z\"\n        />\n      </svg>\n    </Fragment>\n  )\n}\n\nexport default PlayIcon\n","import React, { Fragment } from 'react'\ninterface IconProps {\n  size?: string\n  color?: string\n  className?: string\n}\nconst RetryIcon = ({ size, color, className }: IconProps) => {\n  return (\n    <Fragment>\n      <svg\n        width={size || '1rem'}\n        height={size || '1rem'}\n        className={className || ''}\n        viewBox=\"0 0 512 512\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          fill={color || '#898989'}\n          d=\"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z\"\n        />\n        <path\n          fill={color || '#898989'}\n          d=\"M463.5 224H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5z\"\n        />\n      </svg>\n    </Fragment>\n  )\n}\n\nexport default RetryIcon\n","import axios from 'axios'\nimport { INotify } from '../contexts/notify'\n\n/**\n *\n * @param file Uploaded File\n * @param cancelToken Axios Canceltoken\n * @param setProgress from useState()\n * @param onDone callback after success / fail\n * @param setDone from useState()\n * @param onSuccess callback on success\n * @param setError from useState()\n * @param index position of file\n * @returns boolean\n */\nexport const uploadChatAttachment = async (\n  file: File,\n  cancelToken: any,\n  setProgress: (_val: number) => void,\n  onDone: () => void,\n  setDone: (_val: boolean) => void,\n  onSuccess: (_file: Record<string, any>, _index: number) => void,\n  setError: (_val: boolean) => void,\n  index: number\n) => {\n  if (!file) {\n    setError(true)\n    return false\n  }\n\n  setError(false)\n  const formData = new FormData()\n  formData.append('chat-attachments', file)\n\n  return await axios\n    .post('/chat/attachments', formData, {\n      cancelToken: cancelToken.current.token,\n      onUploadProgress: (progressEvent) => {\n        /* istanbul ignore next */\n        const percentage = Math.round(\n          (progressEvent.loaded * 100) / progressEvent.total\n        ) as any\n        /* istanbul ignore next */\n\n        setProgress(percentage)\n      },\n    })\n    .then((res: any) => {\n      res && res.data && onSuccess(res.data, index)\n    })\n    .catch((err) => {\n      if (axios.isCancel(err)) return\n      setError(true)\n    })\n    .finally(() => {\n      onDone()\n      setDone(true)\n      return true\n    })\n}\n\n/**\n * Removes Chat Attachment\n * @param index postion on file\n * @param done from useState()\n * @param error from useState()\n * @param cancelToken Axios Canceltoken\n * @param handeRemoveFile removes file\n */\nexport const removeChatAttachment = (\n  index: number,\n  done: boolean,\n  error: boolean,\n  cancelToken: any,\n  handeRemoveFile: (index: number, isUploaded: boolean) => void\n) => {\n  if (!done && cancelToken.current) {\n    cancelToken.current.cancel('Cancelling previous requests')\n  }\n  handeRemoveFile(index, done && !error)\n}\n\n/**\n * handles downloaded attachment\n * @param chatId object id of chat\n * @param id object id of attachment\n * @param setProgress progress percentage from useState()\n * @param isDownloading from useState()\n * @param setIsDownloading from useState()\n * @param setNotify from useNotify()\n * @returns void\n */\nexport const handleDownloadAttachment = async (\n  chatId: string,\n  id: string,\n  setProgress: (_val: number) => void,\n  isDownloading: boolean,\n  setIsDownloading: (_val: boolean) => void,\n  setNotify: (_val: INotify) => void\n) => {\n  if (isDownloading) return\n  setIsDownloading(true)\n  await downloadAttachmentApi(chatId, id, setProgress).then((res: any) => {\n    if (!res || !res.data) {\n      setIsDownloading(false)\n      return setNotify({\n        type: 'danger',\n        heading: 'Err!',\n        message: 'Failed to download attachment!',\n      })\n    }\n    const url = window.URL.createObjectURL(\n      new Blob([res.data], {\n        type: res.headers['content-type'],\n      })\n    )\n    const link = document.createElement('a')\n    link.href = url\n\n    const name =\n      (res.headers['content-disposition'] &&\n        res.headers['content-disposition']\n          .split('filename=\"')[1]\n          .split('\"')[0]) ||\n      'attachment'\n\n    link.setAttribute('download', name)\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n    window.URL.revokeObjectURL(url)\n    return setIsDownloading(false)\n  })\n}\n\n/**\n * Download attachment from api\n * @param chatId chat object id\n * @param id attachment object id\n * @param setProgress from useState\n * @returns void\n */\nexport const downloadAttachmentApi = async (\n  chatId: string,\n  id: string,\n  setProgress: (_val: number) => void\n) => {\n  let res\n  const options = {\n    method: 'GET',\n    url: `/chat/attachments`,\n    params: { chatId, id },\n    responseType: 'blob',\n    onDownloadProgress: (progressEvent: any) => {\n      /* istanbul ignore next */\n      const percentage = Math.round(\n        (progressEvent.loaded * 100) / progressEvent.total\n      ) as any\n      /* istanbul ignore next */\n\n      setProgress(percentage)\n    },\n  }\n  try {\n    res = await axios.request(options as any)\n    return res\n  } catch (err) {\n    return (res = null)\n  }\n}\n","import axios from 'axios'\nimport React, { Fragment, useEffect, useRef, useState } from 'react'\nimport styled from 'styled-components'\nimport CrossIcon from '../../components/svgs/cross'\nimport FileIcon from '../../components/svgs/files'\nimport CircularProgress from '../../components/ui/CircularProgress'\nimport PlayIcon from '../../components/svgs/play'\nimport RetryIcon from '../../components/svgs/retry'\nimport {\n  removeChatAttachment,\n  uploadChatAttachment,\n} from '../../helpers/resumeReview'\n\nconst AttachementUpload = ({\n  file,\n  onSuccess,\n  handeRemoveFile,\n  onDone,\n  index,\n}: {\n  file: File\n  index: number\n  onSuccess: (_file: Record<string, any>, index: number) => void\n  onDone: () => void\n  handeRemoveFile: (index: number, isUploaded: boolean) => void\n}) => {\n  const [progress, setProgress] = useState(0)\n  const [done, setDone] = useState(false)\n  const [error, setError] = useState(false)\n\n  const cancelToken = useRef<any>()\n\n  useEffect(() => {\n    cancelToken.current = axios.CancelToken.source()\n  }, [])\n\n  useEffect(() => {\n    uploadChatAttachment(\n      file,\n      cancelToken,\n      setProgress,\n      onDone,\n      setDone,\n      onSuccess,\n      setError,\n      index\n    )\n    return\n  }, [])\n\n  return (\n    <Fragment>\n      {error && <Alert>Failed to upload!</Alert>}\n      <StyledFile>\n        <span className=\"icon\">\n          {error ? (\n            <a\n              onClick={() =>\n                uploadChatAttachment(\n                  file,\n                  cancelToken,\n                  setProgress,\n                  onDone,\n                  setDone,\n                  onSuccess,\n                  setError,\n                  index\n                )\n              }\n            >\n              <RetryIcon size=\"1.2rem\" />\n            </a>\n          ) : progress !== 100 ? (\n            <CircularProgress progress={progress} />\n          ) : !done ? (\n            <CircularProgress progress={30} spinnerMode={true} />\n          ) : file.type &&\n            ['video', 'audio'].indexOf(file.type.split('/')[0]) !== -1 ? (\n            <PlayIcon size=\"1.2rem\" />\n          ) : (\n            <FileIcon size=\"1.2rem\" />\n          )}\n        </span>\n        <p className=\"truncate\">{file.name}</p>\n        <span\n          className=\"remove\"\n          onClick={() =>\n            removeChatAttachment(\n              index,\n              done,\n              error,\n              cancelToken,\n              handeRemoveFile\n            )\n          }\n        >\n          <CrossIcon size=\"0.8rem\" />\n        </span>\n      </StyledFile>\n    </Fragment>\n  )\n}\n\nexport default AttachementUpload\n\nconst Alert = styled.p`\n  margin: 0 0.5rem;\n  font-size: 0.7rem;\n  color: red;\n  line-height: 1;\n`\nconst StyledFile = styled.div`\n  width: 300px;\n  height: 40px;\n  display: grid;\n  grid-template-columns: 40px auto 30px;\n  border: 1px solid rgba(52, 52, 52, 0.2);\n  border-radius: 6px;\n  margin: 0.5rem;\n  overflow: hidden;\n  align-items: center;\n  .icon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 6px;\n    background-color: rgba(52, 52, 52, 0.2);\n    height: 100%;\n  }\n  .remove {\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n  }\n  a {\n    height: fit-content;\n    line-height: 1;\n  }\n  p {\n    margin: 0 0.7rem;\n    font-size: 0.8rem;\n  }\n`\n","import React, { Fragment, useEffect, useRef, useState } from 'react'\nimport ReactDOMServer from 'react-dom/server'\nimport { FormProvider, useFieldArray, useForm } from 'react-hook-form'\nimport RichTextEditor from '../../components/form/RichTextEditor'\nimport { Quill } from 'react-quill'\nimport EmojiPicker, {\n  EmojiStyle,\n  EmojiClickData,\n  Emoji,\n} from 'emoji-picker-react'\nimport styled from 'styled-components'\nimport detectOutsideClick from '../../hooks/detectOutsideClick'\nimport SmileIcon from '../../components/svgs/smile'\nimport AttachmentIcon from '../../components/svgs/attachment'\nimport UploadScreen from './UploadScreen'\nimport ImageIcon from '../../components/svgs/image'\nimport { Button } from '../../styled/button'\nimport { useMutation, useQueryClient } from 'react-query'\nimport { useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport { useNotify } from '../../contexts/notify'\nimport { LoadingDots, Spinner } from '../../styled/loader'\nimport AttachementUpload from './AttachementUpload'\nimport Confirmation from '../../components/ui/confirmation'\n\ninterface IMessage {\n  message: string\n  attachments: Array<{\n    _id: string\n    name: string\n    path: string\n    type: string\n  }>\n}\ninterface IMessageBox {\n  ticket: string\n  resumeId: string\n  className?: string\n  acceptTC: boolean\n  setAlert: (_val: boolean) => void\n  style: React.CSSProperties\n  isFetchingMessage: boolean\n}\n\nconst Embed = Quill.import('blots/embed')\n\nconst emojiHTML = (value: string) => {\n  try {\n    return ReactDOMServer.renderToString(<Emoji unified={value} size={20} />)\n  } catch (err) {\n    return null\n  }\n}\n\nclass EmojiBolt extends Embed {\n  static create(value: string) {\n    const node = super.create()\n    node.title = value\n    node.classList.add('composer-emoji')\n    const emoji = emojiHTML(value)\n    node.innerHTML = emoji\n    return node\n  }\n}\nEmojiBolt.blotName = 'emojiEmbed'\nEmojiBolt.tagName = 'span'\n\nQuill.register(EmojiBolt)\n\nconst formats = ['bold', 'italic', 'link', 'emojiEmbed']\n\nconst MessageBox = ({\n  ticket,\n  resumeId,\n  className,\n  acceptTC,\n  setAlert,\n  style,\n  isFetchingMessage,\n}: IMessageBox) => {\n  const history = useHistory()\n  const { setNotify } = useNotify()\n  const defaultValues = {\n    message: '',\n    attachments: [],\n  }\n  const { isOutside, ref } = detectOutsideClick()\n  const quillRef = useRef<any>()\n  const [show, setShow] = useState<'emoji' | 'attachment' | 'image' | null>(\n    null\n  )\n  const [showDropzone, setShowDropzone] = useState(false)\n  const [files, setFiles] = useState<Array<any>>([])\n  const [filesInProgress, setFilesInProgress] = useState(0)\n  const [filesToRemove, setFilesToRemove] = useState<Array<string>>([])\n  const queryClient = useQueryClient()\n\n  const methods = useForm<IMessage>({\n    mode: 'onBlur',\n    defaultValues,\n  })\n\n  const {\n    handleSubmit,\n    watch,\n    reset,\n    control,\n    formState: { isSubmitting },\n  } = methods\n\n  const { append, remove } = useFieldArray({\n    control,\n    name: 'attachments',\n  })\n\n  const message = watch('message')\n  const attachments = watch('attachments')\n\n  const regex = /(<([^>]+)>)/gi\n  const hasMessage = !!message.replace(regex, '').length\n\n  const handleCache = (data: Record<string, any>) => {\n    let chats = queryClient.getQueryData(['chats', data.ticketId]) as any\n    if (!chats) {\n      chats = {\n        pages: [{ total: 1, limit: 15, page: 0, items: [data] }],\n        pageParams: [undefined],\n      }\n    } else {\n      chats.pages[0].items.unshift(data)\n    }\n    queryClient.setQueryData(['chats', data.ticketId], chats)\n\n    if (data.ticketId && ticket === 'new') {\n      const limits = queryClient.getQueryData('ticketsCreated') as any\n      if (limits) {\n        limits.count = limits.count + 1\n        queryClient.setQueryData('ticketsCreated', limits)\n      }\n      history.replace({\n        pathname: `/resume-review/${data.ticketId}`,\n        search: `?ref=${resumeId}`,\n      })\n    }\n    return\n  }\n\n  const sendMessage = useMutation((reqData) => axios.post('/chat', reqData), {\n    onSuccess: ({ data }: any) => {\n      if (!data) return\n      ticket === 'new' && setAlert(true)\n      handleCache(data)\n      setFiles([])\n      return reset()\n    },\n    onError: (err: any) => {\n      if (\n        err &&\n        err.response &&\n        err.response.data &&\n        err.response.data.error &&\n        err.response.data.error.status === 400 &&\n        err.response.data.error.message === 'Ticket has been closed!'\n      ) {\n        queryClient.setQueryData(['reviewTicket', ticket], (queryData: any) => {\n          return { ...queryData, status: 'closed' }\n        })\n      }\n      setNotify({\n        type: 'danger',\n        heading: 'Err!',\n        message: 'Failed to send message',\n      })\n    },\n    // onSettled: () => {},\n  })\n\n  const onSubmit = async (data: any) => {\n    if (data.message && hasMessage) {\n      const dummy = document.createElement('div')\n      dummy.innerHTML = data.message\n      const emojis = dummy.querySelectorAll('span.composer-emoji') as any\n      if (emojis && emojis.length > 0) {\n        emojis.forEach((item: HTMLElement) => {\n          item.innerText = item.title\n        })\n      }\n\n      const regex = new RegExp('<p><br></p>', 'g')\n      data.message = dummy.innerHTML.replace(regex, '')\n    } else {\n      data.message = ''\n    }\n\n    if (ticket === 'new') {\n      data.acceptTC = acceptTC\n    }\n\n    return sendMessage.mutate({\n      ...data,\n      ticketId: ticket,\n      resumeId,\n    })\n  }\n  const insertEmoji = async (emojiData: EmojiClickData, _event: MouseEvent) => {\n    setShow(null)\n    if (!quillRef || !emojiData || !emojiData.unified) return\n    const editor = quillRef.current.editor\n    if (!editor) return\n    const selection = await editor.getSelection()\n    if (!selection)\n      return await editor.insertEmbed(0, 'emojiEmbed', emojiData.unified)\n    const cursorPosition = selection.index\n    await editor.insertEmbed(cursorPosition, 'emojiEmbed', emojiData.unified)\n    await editor.setSelection(cursorPosition + 1)\n  }\n\n  const apiDeleteFiles = async (ids: string[]) => {\n    if (ids.length === 0) return\n    const options = {\n      method: 'DELETE',\n      url: `/chat/attachments`,\n      data: { ids },\n    }\n    await axios.request(options as any).catch((_err) => {\n      setNotify({\n        type: 'danger',\n        heading: 'Err!',\n        message: 'Failed to delete file(s)',\n      })\n    })\n  }\n\n  useEffect(() => {\n    if (!isOutside) return\n    setShow(null)\n  }, [isOutside])\n\n  useEffect(() => {\n    if (filesToRemove.length === 0) return\n    const timer = setTimeout(() => {\n      apiDeleteFiles(filesToRemove)\n      setFilesToRemove([])\n    }, 2000)\n    return () => {\n      clearTimeout(timer)\n    }\n  }, [filesToRemove])\n\n  const handleFileDrop = (droppedFiles: File[]) => {\n    setFilesInProgress((prev) => prev + droppedFiles.length)\n    setFiles((prev) => [...prev, ...droppedFiles])\n  }\n\n  const handleFileSuccess = (file: Record<string, any>, _fileIndex: number) => {\n    append(file)\n  }\n\n  const handleRemoveFile = (fileIndex: number, isUploaded: boolean) => {\n    const index = attachments.findIndex(\n      (item) => item.name === files[fileIndex].name\n    )\n    if (isUploaded && index !== -1) {\n      setFilesToRemove((prev) => [...prev, attachments[index]._id])\n      remove(index)\n    }\n    const newFiles = [...files]\n    newFiles.splice(fileIndex, 1)\n    setFiles(newFiles)\n  }\n\n  const handleFileDone = () => {\n    setFilesInProgress((prev) => {\n      if (prev === 0) return 0\n      return prev - 1\n    })\n  }\n  const handleDropzone = (type: 'attachment' | 'image') => {\n    setShow(type)\n    setShowDropzone(true)\n  }\n\n  return (\n    <Fragment>\n      <FormProvider {...methods}>\n        <Wrapper\n          id=\"message-box\"\n          className={className}\n          hasFiles={files && files.length > 0}\n          style={style}\n        >\n          <div id=\"toolbar\">\n            <div\n              className={`${show === 'emoji' ? 'preview-emoji' : ''} emoji`}\n              ref={ref}\n            >\n              <button\n                className=\"insertEmoji toolbar-btn\"\n                onClick={() => setShow(show === 'emoji' ? null : 'emoji')}\n              >\n                <SmileIcon size=\"18px\" color=\"rgba(52, 52, 52, 0.4)\" />\n              </button>\n              <div className=\"emojipicker\">\n                <EmojiPicker\n                  onEmojiClick={insertEmoji}\n                  autoFocusSearch={false}\n                  lazyLoadEmojis={true}\n                  previewConfig={{\n                    showPreview: false,\n                  }}\n                  emojiStyle={EmojiStyle.GOOGLE}\n                  emojiVersion=\"0.6\"\n                  skinTonesDisabled\n                />\n              </div>\n            </div>\n            <button\n              className=\"insertImage toolbar-btn\"\n              onClick={() => handleDropzone('image')}\n            >\n              <ImageIcon size=\"18px\" color=\"rgba(52, 52, 52, 0.4)\" />\n            </button>\n            <button\n              className=\"insertDocument toolbar-btn\"\n              onClick={() => handleDropzone('attachment')}\n            >\n              <AttachmentIcon size=\"18px\" color=\"rgba(52, 52, 52, 0.4)\" />\n            </button>\n            <button className=\"ql-bold toolbar-btn\" />\n            <button className=\"ql-italic toolbar-btn\" />\n            <div className=\"fetch-indicator\">\n              {isFetchingMessage && (\n                <Fragment>\n                  <Spinner size=\"1rem\" type=\"primary\" />\n                  <LoadingDots color=\"rgba(240, 132, 56, 1)\">\n                    Checking\n                  </LoadingDots>\n                </Fragment>\n              )}\n            </div>\n          </div>\n\n          {showDropzone && (\n            <DropWrapper>\n              <UploadScreen\n                setShow={setShowDropzone}\n                setFiles={handleFileDrop}\n                type={show === 'image' ? 'image' : 'attachment'}\n              />\n            </DropWrapper>\n          )}\n          <div className=\"message-box\">\n            <RichTextEditor\n              ref={quillRef}\n              placeholder={'Type text here...'}\n              name=\"message\"\n              formats={formats}\n              modules={{\n                toolbar: {\n                  container: '#toolbar',\n                },\n                clipboard: {\n                  matchVisual: false,\n                },\n              }}\n            />\n            <div data-test-id=\"attachments\">\n              {files.map((file, i) => (\n                <AttachementUpload\n                  key={i}\n                  file={file}\n                  index={i}\n                  onSuccess={handleFileSuccess}\n                  onDone={handleFileDone}\n                  handeRemoveFile={handleRemoveFile}\n                />\n              ))}\n            </div>\n            <Button\n              className=\"send-btn\"\n              disabled={\n                isSubmitting ||\n                filesInProgress > 0 ||\n                sendMessage.isLoading ||\n                (!hasMessage && attachments.length === 0)\n              }\n              onClick={handleSubmit(onSubmit)}\n            >\n              {isSubmitting ? <Spinner size=\"1rem\" type=\"primary\" /> : 'Send'}\n            </Button>\n          </div>\n        </Wrapper>\n      </FormProvider>\n    </Fragment>\n  )\n}\n\nexport default MessageBox\n\nconst Wrapper = styled.div<{ hasFiles: boolean }>`\n  margin: 1rem;\n  border: 1px solid rgba(226, 233, 243, 1);\n  border-radius: 6px;\n  position: relative;\n\n  .message-box {\n    min-height: ${({ hasFiles }) => (hasFiles ? '0px' : '100px')};\n    overflow-y: auto;\n    max-height: 100px;\n    .send-btn {\n      position: absolute;\n      bottom: 10px;\n      right: 20px;\n      width: fit-content;\n      padding: 0 1.5rem;\n      min-width: 75px;\n    }\n  }\n  .fetch-indicator {\n    width: auto;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n    margin-right: 1rem;\n    p {\n      margin-left: 0.7rem;\n    }\n  }\n  .emoji {\n    display: block;\n    position: relative;\n    width: 100%;\n    height: 100%;\n\n    &.preview-emoji {\n      .emojipicker {\n        display: block;\n      }\n    }\n    .emojipicker {\n      display: none;\n      position: absolute;\n      bottom: 20px;\n      left: -10px;\n      z-index: 1000;\n    }\n  }\n  #toolbar {\n    border: none;\n    border-bottom: 1px solid rgba(226, 233, 243, 1);\n    .toolbar-btn {\n      padding: 3px 10px;\n      width: fit-content;\n    }\n  }\n\n  .quill {\n    background: transparent;\n  }\n  .ql-container {\n    overflow-y: unset;\n  }\n  .ql-editor {\n    .composer-emoji span {\n      position: relative;\n      top: 5px;\n    }\n    /* font-size: 0.8rem; */\n    min-height: ${({ hasFiles }) => (hasFiles ? '0px' : '100px')};\n    p,\n    b,\n    em,\n    i {\n      font-size: 0.875rem;\n    }\n  }\n`\n\nconst DropWrapper = styled.div`\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n  background-color: #0000002e;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\n","import dayjs from 'dayjs'\nimport React, { Fragment, useState } from 'react'\nimport styled from 'styled-components'\nimport DownArrowIcon from '../../components/svgs/downArrow'\nimport WarningIcon from '../../components/svgs/warning'\nimport logoIcon from '../../public/logo/resume-mango-logo.png'\nimport logoText from '../../public/logo/resume-mango-full-logo-white-letters.png'\nimport { SK_Heading, SK_Text, SK_Wrapper } from '../../styled/loader'\nimport { useHistory } from 'react-router-dom'\nimport { Button } from '../../styled/button'\n\nconst ReviewAccordian = ({\n  data,\n  handleShowResume,\n}: {\n  data: Record<string, any>\n  handleShowResume: (_show: boolean) => void\n}) => {\n  const [show, setShow] = useState({\n    ticket: true,\n    customer: true,\n    resume: true,\n  })\n  return (\n    <AccordianWrapper>\n      <div>\n        <Accordian show={show.ticket}>\n          <div\n            className=\"head-wrapper\"\n            onClick={() => setShow({ ...show, ticket: !show.ticket })}\n          >\n            <p className=\"acc_heading\">Ticket Info</p>\n            <span>\n              <DownArrowIcon size=\".8rem\" />\n            </span>\n          </div>\n          <div className=\"item-wrapper\">\n            <div className=\"item\">\n              <p className=\"item-label\">Ticket ID</p>\n              <p>{(data && data._id) || '-'}</p>\n            </div>\n            <div className=\"item\">\n              <p className=\"item-label\">Status</p>\n              <p className=\"capitalize\">{(data && data.status) || '-'}</p>\n            </div>\n          </div>\n        </Accordian>\n        <Accordian show={show.customer}>\n          <div\n            className=\"head-wrapper\"\n            onClick={() => setShow({ ...show, customer: !show.customer })}\n          >\n            <p className=\"acc_heading\">Reviewer Info</p>\n            <span>\n              <DownArrowIcon size=\".8rem\" />\n            </span>\n          </div>\n          <div className=\"item-wrapper\">\n            <div className=\"item\">\n              <p className=\"item-label\">Reviewer </p>\n              <p>\n                {(data &&\n                  data.assignedTo &&\n                  data.assignedTo.firstName &&\n                  (data.assignedTo.firstName + ' ' + data.assignedTo.lastName ||\n                    '')) ||\n                  '-'}\n              </p>\n            </div>\n          </div>\n        </Accordian>\n      </div>\n      <div>\n        <Accordian show={show.resume}>\n          <div\n            className=\"head-wrapper\"\n            onClick={() => setShow({ ...show, resume: !show.resume })}\n          >\n            <p className=\"acc_heading\">Resume Info</p>\n            <span>\n              <DownArrowIcon size=\".8rem\" />\n            </span>\n          </div>\n          <div className=\"item-wrapper\">\n            <div className=\"item\">\n              <p className=\"item-label\">Name</p>\n              <p>{(data && data.resume && data.resume.title) || '-'}</p>\n            </div>\n            <div className=\"item\">\n              <p className=\"item-label\">Date Created</p>\n              <p>\n                {(data &&\n                  data.createdAt &&\n                  dayjs(data.createdAt).format('DD/MM/YYYY')) ||\n                  '-'}\n              </p>\n            </div>\n            <div className=\"item\">\n              <p className=\"item-label\">Resume Link</p>\n              {(data && data.resume && (\n                <Fragment>\n                  <p>\n                    <a\n                      data-test-id=\"toggle-resume\"\n                      onClick={() => handleShowResume(true)}\n                    >\n                      View Resume\n                    </a>\n                  </p>\n                  <p></p>\n                </Fragment>\n              )) ||\n                '-'}\n            </div>\n          </div>\n        </Accordian>\n      </div>\n    </AccordianWrapper>\n  )\n}\n\nconst ReviewSidebar = ({\n  data,\n  isLoading,\n  isError,\n  handleShowResume,\n}: {\n  data: Record<string, any>\n  isLoading: boolean\n  isError: boolean\n  handleShowResume: (_show: boolean) => void\n}) => {\n  const history = useHistory()\n  return (\n    <Fragment>\n      <NavWrapper className=\"hide-scrollbar\">\n        <NavBrand>\n          <LogoWrapper>\n            <a href={`${process.env.BASE_HOST}`}>\n              <img src={logoIcon} width=\"75px\" />\n              <img src={logoText} width=\"125px\" />\n            </a>\n          </LogoWrapper>\n          <p>All-in-one job hunting platform</p>\n          <Button\n            btnType=\"primary\"\n            size=\"sm\"\n            onClick={() => history.push('/resumes/new')}\n          >\n            Create Resume\n          </Button>\n        </NavBrand>\n        <NavLinksWrapper data-test-id=\"resume-links\">\n          {isError ? (\n            <div className=\"align-center\">\n              <WarningIcon size=\"2rem\" />\n              <p style={{ marginLeft: '0.5rem' }}>\n                Failed to load ticket details!\n              </p>\n            </div>\n          ) : isLoading ? (\n            <div style={{ padding: '2.5rem', height: '100%' }}>\n              <AccordianWrapper>\n                <SK_Wrapper>\n                  <SK_Heading className=\"mb-1\" />\n                  <SK_Text className=\"mb\" />\n                  <SK_Text className=\"mb\" />\n                  <SK_Text className=\"mb\" />\n                  <SK_Text style={{ marginBottom: '1rem' }} />\n                  <SK_Heading className=\"mb-1\" />\n                  <SK_Text style={{ marginBottom: '5rem' }} />\n                </SK_Wrapper>\n                <SK_Wrapper>\n                  <SK_Heading className=\"mb-1\" />\n                  <SK_Text className=\"mb\" />\n                  <SK_Text className=\"mb\" />\n                </SK_Wrapper>\n              </AccordianWrapper>\n            </div>\n          ) : (\n            <ReviewAccordian data={data} handleShowResume={handleShowResume} />\n          )}\n        </NavLinksWrapper>\n      </NavWrapper>\n    </Fragment>\n  )\n}\n\nexport default ReviewSidebar\nconst AccordianWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n  width: 100%;\n`\nconst Accordian = styled.div<{ show: boolean }>`\n  .item-wrapper,\n  .head-wrapper {\n    padding: 0 2.5rem;\n  }\n  .head-wrapper {\n    background: rgba(240, 132, 56, 0.05);\n    height: 40px;\n    color: ${({ theme }) => theme.colors.primary};\n    margin: auto;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    border-right: 3px solid ${({ theme }) => theme.colors.primary};\n    margin-bottom: 1rem;\n    cursor: pointer;\n    p {\n      font-size: 0.875rem;\n      margin: 0;\n      padding: 0;\n    }\n    svg {\n      transition: all ease-in-out 0.5s;\n      transform: ${({ show }) =>\n        show ? 'rotateZ(360deg)' : 'rotateZ(180deg)'};\n      path {\n        stroke: ${({ theme }) => theme.colors.primary};\n        stroke-width: 2;\n      }\n    }\n  }\n  .item-wrapper {\n    transition: all ease-in-out 0.5s;\n    height: 100%;\n    max-height: ${({ show }) => (show ? '1000px' : '0px')};\n    opacity: ${({ show }) => (show ? 1 : 0)};\n    visibility: ${({ show }) => (show ? 'visible' : 'hidden')};\n\n    overflow: hidden;\n    p {\n      margin: 0.3rem 0;\n    }\n    a {\n      color: ${({ theme }) => theme.colors.primary};\n      text-decoration: underline;\n    }\n    .item {\n      margin-bottom: 1rem;\n    }\n    .item-label {\n      font-size: 0.75rem;\n      color: rgba(52, 52, 52, 0.5);\n    }\n  }\n`\n\nconst NavWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  transition: transform ease-in-out 500ms;\n  max-width: 260px;\n  overflow: auto;\n  position: fixed;\n  z-index: 2;\n  border-right: 1px solid #eee;\n`\n\nconst LogoWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n`\nconst NavBrand = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  max-width: 260px;\n  min-height: 175px;\n  max-height: 175px;\n  background: #0f102a;\n  @media (max-height: 800px) {\n    height: auto;\n  }\n\n  p {\n    color: #bababa;\n    margin-top: 0;\n    font-size: 14px;\n  }\n`\nconst NavLinksWrapper = styled.nav`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: auto;\n  width: 100%;\n  flex: 1;\n  background: #f7f8fa;\n  padding: 2.5rem 0;\n`\n","import React, { Fragment, useEffect, useRef, useState } from 'react'\nimport styled from 'styled-components'\nimport DownArrowIcon from '../../components/svgs/downArrow'\nimport PreviewSkeleton from '../../components/ui/previewSkeleton'\nimport { useViewport } from '../../contexts/viewPort'\nimport { loadFonts } from '../../helpers/loadFonts'\nimport templateMapper from '../../helpers/templateMapper'\nimport { getResumeTemplate } from '../../queries/resumeQueries'\nimport { Button } from '../../styled/button'\nimport '../../styled/template_global.css'\n\nconst ViewResume = ({\n  resumeData,\n  handleShow,\n}: {\n  resumeData: Record<string, any>\n  handleShow: (_show: boolean) => void\n}) => {\n  const data = resumeData.fields || null\n  const [cssReady, setCssReady] = useState(false)\n  const [fontsReady, setFontsReady] = useState(false)\n  const [isTemplateMapping, setIsTemplateMapping] = useState(false)\n  const [pages, setPages] = useState(1)\n  const [curr, setCurr] = useState(1)\n  const { width, height } = useViewport()\n  const queryEnabled = !!resumeData.template || false\n  const {\n    data: templateData,\n    isLoading: isTemplateLoading,\n    isError: isTemplateError,\n  } = getResumeTemplate(resumeData.template, queryEnabled)\n\n  const isTemplateReady =\n    cssReady && !isTemplateLoading && templateData && fontsReady && queryEnabled\n\n  const ref = useRef<HTMLDivElement>(null)\n  const loadTemplateFonts = async () => {\n    await loadFonts(templateData.fonts)\n    return setFontsReady(true)\n  }\n  useEffect(() => {\n    if (\n      !queryEnabled ||\n      !templateData ||\n      !templateData.fonts ||\n      templateData.fonts === 0\n    )\n      return\n    setFontsReady(false)\n    loadTemplateFonts()\n\n    return () => setFontsReady(true)\n  }, [templateData, queryEnabled])\n\n  useEffect(() => {\n    if (!document || !queryEnabled || cssReady) return\n    const old = document.getElementById('css_style')\n    if (old) {\n      old.remove()\n    }\n    const link = document.createElement('link')\n    link.id = 'css_style'\n    link.setAttribute('rel', 'stylesheet')\n    link.setAttribute('type', 'text/css')\n    link.setAttribute(\n      'href',\n      `${process.env.API_HOST}/css/resumes/${resumeData.template}.css`\n    )\n    document.head.appendChild(link)\n\n    /* istanbul ignore next */\n    link.onload = () => {\n      setCssReady(true)\n    }\n    /* istanbul ignore next */\n    link.onerror = () => {\n      return console.log('stylesheet could not be loaded')\n    }\n  }, [cssReady, queryEnabled])\n\n  const scale = 1\n  useEffect(() => {\n    if (!ref || !ref.current || !templateData) return\n    const page = ref.current.children[0] as HTMLElement\n    page.style.transform = `scale(${scale})`\n  }, [data, ref, templateData, width, height])\n\n  useEffect(() => {\n    if (!data || !isTemplateReady) return\n    setIsTemplateMapping(true)\n    const timer = setTimeout(() => {\n      if (!ref || !ref.current) return\n\n      const page = ref.current.querySelector('.page')\n      if (!page) return\n      const wrapper = page.children[0] as HTMLElement\n\n      if (!wrapper) return\n      const template = JSON.parse(JSON.stringify(templateData))\n      wrapper.innerHTML = ''\n      const pages = templateMapper(template, data, wrapper, 0)\n      if (!pages) return\n      updatePages(Object.keys(pages).length)\n      setCurr(1)\n      setIsTemplateMapping(false)\n    }, 500)\n    return () => clearTimeout(timer)\n  }, [data, ref.current, isTemplateReady])\n\n  useEffect(() => {\n    if (!ref || !ref.current) return\n    const page = ref.current.querySelector('.page') as HTMLElement\n    if (!page) return\n    const wrapper = page.children[0] as HTMLElement\n    if (!wrapper) return\n    wrapper.style.transform = `translateY(-${page.clientHeight * (curr - 1)}px)`\n    wrapper.style.height = page.clientHeight * curr + 'px'\n  }, [curr, ref.current])\n\n  const updatePages = (total: number) => {\n    curr > total && setCurr(total)\n    setPages(total)\n  }\n\n  const handleClick = (type: 'prev' | 'next') => {\n    if (type === 'prev') curr > 1 && curr <= pages && setCurr(curr - 1)\n    if (type === 'next') curr >= 1 && curr < pages && setCurr(curr + 1)\n    return\n  }\n\n  return (\n    <MainWrapper>\n      <HeadWrapper>\n        <Button btnType=\"ghost\" size=\"lg\" onClick={() => handleShow(false)}>\n          Back to Chats\n        </Button>\n      </HeadWrapper>\n      {isTemplateError ? (\n        <div className=\"align-center\" style={{ height: '90%', flex: 1 }}>\n          <h3>Failed to load resume!</h3>\n        </div>\n      ) : (\n        <Fragment>\n          <Wrapper data-test-id=\"resume-preview\">\n            {(!isTemplateReady ||\n              !data ||\n              isTemplateMapping ||\n              isTemplateLoading) && (\n              <SkeletonWrapper data-test-id=\"resume_skeleton\">\n                <PreviewSkeleton scale={scale} />\n              </SkeletonWrapper>\n            )}\n\n            <TemplateWrapper\n              ref={ref}\n              style={\n                !isTemplateReady ||\n                !data ||\n                isTemplateMapping ||\n                isTemplateLoading\n                  ? { visibility: 'hidden' }\n                  : { visibility: 'visible' }\n              }\n            >\n              <div className=\"page\">\n                <div style={{ width: '100%' }} />\n              </div>\n            </TemplateWrapper>\n          </Wrapper>\n          <PageToggler>\n            <button\n              type=\"button\"\n              style={{ transform: 'rotateZ(90deg)' }}\n              onClick={() => handleClick('prev')}\n            >\n              <DownArrowIcon size=\"0.75rem\" color=\"#fff\" />\n            </button>\n            <p>\n              {curr}&nbsp;/&nbsp;{pages}\n            </p>\n            <button\n              type=\"button\"\n              style={{ transform: 'rotateZ(270deg)' }}\n              onClick={() => handleClick('next')}\n            >\n              <DownArrowIcon size=\"0.75rem\" color=\"#fff\" />\n            </button>\n          </PageToggler>\n        </Fragment>\n      )}\n    </MainWrapper>\n  )\n}\n\nexport default ViewResume\n\nconst SkeletonWrapper = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  padding: 3rem 0 10rem;\n`\nconst HeadWrapper = styled.div`\n  display: flex;\n  padding: 1rem 3rem;\n  justify-content: space-between;\n  top: 0;\n  left: 0;\n  width: 100%;\n  border-bottom: 2px solid #eee;\n  background-color: #fff;\n  z-index: 100;\n`\nconst MainWrapper = styled.div`\n  display: block;\n  position: relative;\n  height: 100vh;\n  width: 100%;\n  overflow: hidden;\n`\nconst Wrapper = styled.div`\n  display: flex;\n  position: relative;\n  margin: auto;\n  height: 100vh;\n  width: 100%;\n  overflow-y: scroll;\n  padding: 3rem 0 10rem;\n  background-color: #f7f9fc;\n`\nconst TemplateWrapper = styled.div`\n  min-height: 297mm;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n\n  .page {\n    position: relative;\n    box-shadow: 0px 0px 15px 0px #0000000f;\n    border: 1px solid #eee;\n  }\n`\n\nconst PageToggler = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  left: 0;\n  right: 0;\n  margin: auto;\n  max-width: 100px;\n  bottom: 10%;\n  z-index: 10;\n  height: 35px;\n  border-radius: 6px;\n  background-color: ${({ theme }) => theme.colors.primary};\n  p {\n    font-weight: 600;\n  }\n  button {\n    padding-left: 0.7rem;\n    padding-right: 0.7rem;\n    svg {\n      path {\n        stroke-width: 1.5;\n      }\n    }\n  }\n`\n","import axios from 'axios'\nimport React, { Fragment, useState } from 'react'\nimport styled from 'styled-components'\nimport FileIcon from '../../components/svgs/files'\nimport ImageIcon from '../../components/svgs/image'\nimport PlayIcon from '../../components/svgs/play'\nimport CircularProgress from '../../components/ui/CircularProgress'\nimport { useNotify } from '../../contexts/notify'\nimport { handleDownloadAttachment } from '../../helpers/resumeReview'\n\nconst AttachmentDownload = ({\n  chat_id,\n  attachment,\n  senderType,\n}: {\n  chat_id: string\n  attachment: Record<string, any>\n  senderType: 'reviewer' | 'user'\n}) => {\n  const [progress, setProgress] = useState(0)\n  const [isDownloading, setIsDownloading] = useState(false)\n  const { setNotify } = useNotify()\n\n  // const openAttachement = async (chatId: string, id: string) => {\n  //   if (isDownloading) return\n  //   setIsDownloading(true)\n  //   await downloadAttachment(chatId, id).then((res: any) => {\n  //     if (!res || !res.data) {\n  //       setIsDownloading(false)\n  //       return setNotify({\n  //         type: 'danger',\n  //         heading: 'Err!',\n  //         message: 'Failed to download attachment!',\n  //       })\n  //     }\n  //     const url = window.URL.createObjectURL(\n  //       new Blob([res.data], {\n  //         type: res.headers['content-type'],\n  //       })\n  //     )\n  //     const link = document.createElement('a')\n  //     link.href = url\n\n  //     const name =\n  //       (res.headers['content-disposition'] &&\n  //         res.headers['content-disposition']\n  //           .split('filename=\"')[1]\n  //           .split('\"')[0]) ||\n  //       'attachment'\n\n  //     link.setAttribute('download', name)\n  //     document.body.appendChild(link)\n  //     link.click()\n  //     document.body.removeChild(link)\n  //     window.URL.revokeObjectURL(url)\n  //     return setIsDownloading(false)\n  //   })\n  // }\n\n  // const downloadAttachment = async (chatId: string, id: string) => {\n  //   let res\n  //   const options = {\n  //     method: 'GET',\n  //     url: `/chat/attachments`,\n  //     params: { chatId, id },\n  //     responseType: 'blob',\n  //     onDownloadProgress: (progressEvent: any) => {\n  //       const percentage = Math.round(\n  //         (progressEvent.loaded * 100) / progressEvent.total\n  //       ) as any\n  //       setProgress(percentage)\n  //     },\n  //   }\n  //   try {\n  //     res = await axios.request(options as any)\n  //     return res\n  //   } catch (err) {\n  //     return (res = null)\n  //   }\n  // }\n\n  return (\n    <Fragment>\n      <StyledFile\n        data-test-id=\"attachment\"\n        type={senderType}\n        className={`${isDownloading ? 'downloading' : 'idle'}`}\n        onClick={() =>\n          handleDownloadAttachment(\n            chat_id,\n            attachment._id,\n            setProgress,\n            isDownloading,\n            setIsDownloading,\n            setNotify\n          )\n        }\n      >\n        <span className={`icon `}>\n          {isDownloading ? (\n            <CircularProgress progress={progress} />\n          ) : attachment.mimeType ? (\n            attachment.mimeType.split('/')[0] === 'image' ? (\n              <ImageIcon color=\"#fff\" size=\"1.2rem\" />\n            ) : attachment.mimeType.split('/')[0] === 'video' ? (\n              <PlayIcon color=\"#fff\" size=\"1.2rem\" />\n            ) : (\n              <FileIcon color=\"#fff\" size=\"1.2rem\" />\n            )\n          ) : (\n            <FileIcon color=\"#fff\" size=\"1.2rem\" />\n          )}\n        </span>\n        <p className=\"truncate\">{attachment.name}</p>\n      </StyledFile>\n    </Fragment>\n  )\n}\n\nexport default AttachmentDownload\n\nconst StyledFile = styled.div<{ type: 'reviewer' | 'user' }>`\n  width: 300px;\n  height: 40px;\n  display: grid;\n  grid-template-columns: 40px auto 30px;\n  border: 1px solid\n    ${({ type }) =>\n      type === 'reviewer'\n        ? 'rgba(238, 238, 238, 0.2)'\n        : 'rgba(52, 52, 52, 0.2)'};\n  border-radius: 6px;\n  margin: 0.5rem 0;\n  overflow: hidden;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n  background-color: ${({ type }) =>\n    type === 'reviewer' ? 'rgba(238, 238, 238, 0.2)' : 'rgba(52, 52, 52, 0.2)'};\n  &:before {\n    visibility: hidden;\n    position: absolute;\n    width: 40px;\n    height: 40px;\n    content: '';\n    display: block;\n    background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48IS0tISBGb250IEF3ZXNvbWUgUHJvIDYuMi4wIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlIChDb21tZXJjaWFsIExpY2Vuc2UpIENvcHlyaWdodCAyMDIyIEZvbnRpY29ucywgSW5jLiAtLT48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMzQ0IDI0MGgtNTZMMjg3LjEgMTUyYzAtMTMuMjUtMTAuNzUtMjQtMjQtMjRoLTE2QzIzNC43IDEyOCAyMjMuMSAxMzguOCAyMjMuMSAxNTJMMjI0IDI0MGgtNTZjLTkuNTMxIDAtMTguMTYgNS42NTYtMjIgMTQuMzhDMTQyLjIgMjYzLjEgMTQzLjkgMjczLjMgMTUwLjQgMjgwLjNsODguNzUgOTZDMjQzLjcgMzgxLjIgMjUwLjEgMzg0IDI1Ni44IDM4NGM3Ljc4MS0uMzEyNSAxMy4yNS0yLjg3NSAxNy43NS03Ljg0NGw4Ny4yNS05NmM2LjQwNi03LjAzMSA4LjAzMS0xNy4xOSA0LjE4OC0yNS44OFMzNTMuNSAyNDAgMzQ0IDI0MHpNMjU2IDBDMTE0LjYgMCAwIDExNC42IDAgMjU2czExNC42IDI1NiAyNTYgMjU2czI1Ni0xMTQuNiAyNTYtMjU2UzM5Ny40IDAgMjU2IDB6TTI1NiA0NjRjLTExNC43IDAtMjA4LTkzLjMxLTIwOC0yMDhTMTQxLjMgNDggMjU2IDQ4czIwOCA5My4zMSAyMDggMjA4UzM3MC43IDQ2NCAyNTYgNDY0eiIvPjwvc3ZnPg==');\n    background-repeat: no-repeat;\n    background-size: 2rem;\n    background-position: center;\n    background-color: ${({ type }) =>\n      type === 'reviewer'\n        ? 'rgba(238, 238, 238, 0.2)'\n        : 'rgba(52, 52, 52, 0.2)'};\n    top: 0;\n    left: 0;\n    margin: auto;\n  }\n  .icon {\n    opacity: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 6px;\n    background-color: ${({ type }) =>\n      type === 'reviewer'\n        ? 'rgba(238, 238, 238, 0.5)'\n        : 'rgba(52, 52, 52, 0.2)'};\n    height: 100%;\n  }\n  &.idle:hover {\n    &:before {\n      visibility: visible;\n    }\n    .icon {\n      opacity: 0;\n    }\n  }\n  .remove {\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n  }\n  p {\n    margin: 0 0.7rem !important;\n    font-size: 0.8rem;\n  }\n`\n","import { Fragment, useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport DashPageHeader from '../../components/ui/dashPageHeader'\nimport MessageBox from './MessageBox'\nimport {\n  chatFetcher,\n  getReviewTicketById,\n  getReviewTicketsCreatedCount,\n} from '../../queries/chatQueries'\nimport { useInfiniteQuery } from 'react-query'\nimport ReactHtmlParser from 'react-html-parser'\nimport getUrlParams from '../../hooks/getUrlParams'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { LoadingDots, LoadingWrapper, Spinner } from '../../styled/loader'\nimport ReviewSidebar from './reviewSidebar'\nimport WarningIcon from '../../components/svgs/warning'\nimport ViewResume from './viewResume'\nimport AttachmentDownload from './AttachmentDownload'\nimport ReactDOMServer from 'react-dom/server'\nimport { Emoji } from 'emoji-picker-react'\nimport { Button } from '../../styled/button'\nimport Modal from '../../components/ui/modal'\nimport CheckIcon from '../../components/svgs/check'\nimport JustCheckIcon from '../../components/svgs/justCheckIcon'\nimport CrossIcon from '../../components/svgs/cross'\nimport Confirmation from '../../components/ui/confirmation'\n\nconst ReviewChat = () => {\n  const queryParams = getUrlParams()\n  const { ticket } = useParams<{ ticket: string }>()\n  const resumeId = queryParams.get('ref')\n  const preview = queryParams.get('preview')\n  const history = useHistory()\n  const [showPreview, setShowPreview] = useState(preview || false)\n  const [acceptTC, setacceptTC] = useState(false)\n  const [alert, setAlert] = useState(false)\n  const [showAlert, setShowAlert] = useState(false)\n\n  const {\n    data: ticketData,\n    isLoading: ticketLoading,\n    isError: isTicketError,\n    error: ticketError,\n  } = getReviewTicketById({ ticket } as any)\n\n  const {\n    data: ticketCreatedData,\n    isLoading: ticketCreatedLoading,\n    isError: ticketCreatedError,\n  } = getReviewTicketsCreatedCount()\n\n  const ticketErr =\n    (ticketError &&\n      (ticketError as any).response &&\n      (ticketError as any).response.data &&\n      (ticketError as any).response.data.error &&\n      (ticketError as any).response.data.error.message &&\n      (ticketError as any).response.data.error.message ===\n        'failed to find resume!') ||\n    false\n\n  const ticketStatus = (ticketData && ticketData.status === 'open') || false\n  const {\n    isLoading,\n    isError,\n    data,\n    hasNextPage,\n    fetchNextPage,\n    isFetching,\n    isFetchingNextPage,\n  } = useInfiniteQuery(\n    ['chats', ticket],\n    ({ pageParam = 0 }) =>\n      chatFetcher({ ticketId: ticket, page: pageParam, limit: 5 }),\n    {\n      getNextPageParam: (lastPage: any, pages) => {\n        const hasNext =\n          lastPage.page + 1 < Math.ceil(lastPage.total / lastPage.limit)\n        if (hasNext) return pages.length\n        return undefined\n      },\n      enabled: ticket !== 'new' && !preview,\n      refetchOnWindowFocus: ticket !== 'new' && !preview && ticketStatus,\n      refetchInterval:\n        ticket !== 'new' && !preview && ticketStatus ? 1000 * 60 : 0,\n    }\n  )\n\n  const firstPageLength =\n    data &&\n    data.pages &&\n    data.pages[0] &&\n    data.pages[0].items &&\n    data.pages[0].items.length\n\n  const pagesLength = data?.pages.length\n\n  useEffect(() => {\n    const messageSection = document.getElementById('message-section')\n    if (!messageSection) return\n    const lastPage =\n      data && data.pages.length > 1 && data.pages[data.pages.length - 1]\n    if (!lastPage) return\n    const lastItem =\n      lastPage.items &&\n      lastPage.items.length > 0 &&\n      lastPage.items[lastPage.items.length - 1]\n    if (!lastItem || !lastItem._id) return\n    const element = document.getElementById(lastItem._id)\n    if (!element) return\n    messageSection.scrollTop = element?.offsetTop\n  }, [pagesLength])\n\n  useEffect(() => {\n    return scrollToBottom('first-page-length')\n  }, [firstPageLength])\n\n  useEffect(() => {\n    if (!ticketData) return\n    !ticketData.resume && setShowAlert(true)\n  }, [ticketData])\n\n  useEffect(() => {\n    if (isLoading) return\n\n    const wrapper = document.getElementById('main-section')\n    const header = document.querySelector('header')\n    const messageBox = document.getElementById('message-box')\n    const messageSection = document.getElementById('message-section')\n    if (!wrapper || !header || !messageBox || !messageSection) return\n\n    wrapper.style.maxHeight = '100vh'\n    messageSection.style.overflowY = 'scroll'\n    messageSection.style.height = `${\n      wrapper.clientHeight - header.clientHeight - messageBox.clientHeight\n    }px`\n    messageSection.focus()\n    scrollToBottom()\n\n    const timer = setTimeout(() => {\n      messageSection.style.opacity = '1'\n      messageBox.style.opacity = '1'\n    }, 500)\n    return () => {\n      clearTimeout(timer)\n    }\n  }, [isLoading, preview, ticketStatus, acceptTC])\n\n  const scrollToBottom = (val?: 'first-page-length' | undefined) => {\n    if (\n      (data && data.pages.length === 1) ||\n      (val === 'first-page-length' &&\n        data &&\n        firstPageLength > data.pages[0].limit)\n    ) {\n      const messageSection = document.getElementById('message-section')\n      if (!messageSection) return\n      messageSection.scrollTop = messageSection.scrollHeight\n    }\n    return\n  }\n  const parseMessage = (val: string) => {\n    const dummy = document.createElement('div')\n    dummy.innerHTML = val\n    const element =\n      dummy.children.length === 1 && (dummy.children[0] as HTMLElement)\n    let size = 20\n    if (element && element.children.length > 0) {\n      if (\n        element.children.length === 1 &&\n        Array.from(element.childNodes).filter((child) => child.nodeType === 3)\n          .length === 0\n      ) {\n        size = 40\n      }\n    }\n    const emojis = dummy.querySelectorAll('span.composer-emoji') as any\n    if (emojis && emojis.length > 0) {\n      emojis.forEach((item: HTMLElement) => {\n        item.className = 'emoji-icon'\n        return (item.innerHTML = ReactDOMServer.renderToString(\n          <Emoji unified={item.title} size={size} />\n        ))\n      })\n    }\n\n    return dummy.innerHTML\n  }\n\n  const handeShowResume = (show: boolean) => {\n    !show\n      ? history.replace({ search: '' })\n      : history.replace({ search: '?preview=true' })\n    return setShowPreview(show)\n  }\n\n  return (\n    <Fragment>\n      <ReviewSidebar\n        data={ticketData}\n        isLoading={ticketLoading || ticketCreatedLoading}\n        isError={isTicketError}\n        handleShowResume={handeShowResume}\n      />\n      <div>\n        <Content id=\"main-section\">\n          {ticketData && ticketData.resume && showPreview ? (\n            <ViewResume\n              resumeData={ticketData.resume}\n              handleShow={handeShowResume}\n            />\n          ) : (\n            <Fragment>\n              <DashPageHeader title=\"Reviewer Support Chat\" customBtns>\n                <Button\n                  btnType=\"secondary\"\n                  size=\"lg\"\n                  onClick={() => history.push('/resume-review')}\n                >\n                  Back to Portal\n                </Button>\n              </DashPageHeader>\n\n              {isError ||\n              ticketCreatedError ||\n              (ticket === 'new' &&\n                ticketCreatedData &&\n                ticketCreatedData.count >= ticketCreatedData.total) ? (\n                <div\n                  className=\"align-center\"\n                  style={{ height: '90%', flex: 1 }}\n                >\n                  <h3>Failed to load chat!</h3>\n                </div>\n              ) : isLoading || ticketCreatedLoading ? (\n                <LoadingWrapper style={{ height: '90%' }}>\n                  <Spinner size=\"2rem\" type=\"primary\" />\n                </LoadingWrapper>\n              ) : (\n                <Fragment>\n                  {ticket === 'new' && (\n                    <Fragment>\n                      <Modal show={!acceptTC}>\n                        <TCModal>\n                          <CheckIcon\n                            size=\"6rem\"\n                            color=\"rgba(240, 132, 56, 1)\"\n                          />\n                          <h2>Confirm</h2>\n                          <p>\n                            Do you agree to our <a> terms and conditions </a>{' '}\n                            and\n                            <a> privacy policy </a>\n                          </p>\n                          <div className=\"tc-action\">\n                            <Button\n                              size=\"lg\"\n                              btnType=\"primary\"\n                              onClick={() => {\n                                setacceptTC(true)\n                              }}\n                            >\n                              <JustCheckIcon size=\"1.2rem\" color=\"#fff\" />\n                            </Button>\n                            <Button\n                              size=\"lg\"\n                              btnType=\"primary\"\n                              onClick={() => history.push('/resume-review')}\n                            >\n                              <CrossIcon color=\"#fff\" />\n                            </Button>\n                          </div>\n                        </TCModal>\n                      </Modal>\n                    </Fragment>\n                  )}\n                  <Modal show={alert}>\n                    <TCModal>\n                      <CheckIcon size=\"6rem\" color=\"rgba(240, 132, 56, 1)\" />\n                      <h2>Thank you!</h2>\n                      <p>\n                        Thank you for submitting your resume for review, we are\n                        pairing you with a staff member who has knowledge in\n                        this field. Resume reviews take up to 48 hours\n                      </p>\n                      <Button\n                        size=\"lg\"\n                        btnType=\"primary\"\n                        onClick={() => {\n                          setAlert(false)\n                        }}\n                      >\n                        Okay\n                      </Button>\n                    </TCModal>\n                  </Modal>\n                  <Modal show={showAlert}>\n                    <TCModal>\n                      <WarningIcon size=\"6rem\" color=\"rgba(240, 132, 56, 1)\" />\n                      <h2 style={{ marginTop: '1rem' }}>Err!</h2>\n                      <p>\n                        Failed to find resume, looks like you might have deleted\n                        the resume...\n                      </p>\n                      <div className=\"align-center\">\n                        <Button\n                          size=\"lg\"\n                          btnType=\"primary\"\n                          onClick={() => setShowAlert(false)}\n                        >\n                          Okay\n                        </Button>\n                      </div>\n                    </TCModal>\n                  </Modal>\n\n                  <MessageSection id=\"message-section\" style={{ opacity: 0 }}>\n                    <ChatSection>\n                      {hasNextPage && (\n                        <div className=\"load-more\">\n                          <a onClick={() => fetchNextPage()}>\n                            {!isFetchingNextPage ? (\n                              'Load older messages'\n                            ) : (\n                              <LoadingDots color=\"rgba(240, 132, 56, 1)\">\n                                Loading Messages\n                              </LoadingDots>\n                            )}\n                          </a>\n                        </div>\n                      )}\n\n                      {data &&\n                        data.pages &&\n                        data?.pages\n                          .map(data?.pages.pop, [...data?.pages])\n                          .map((group, i) => (\n                            <Fragment key={i}>\n                              {group &&\n                                group.items &&\n                                group.items.length > 0 &&\n                                group.items\n                                  .map(group.items.pop, [...group.items])\n                                  .map(\n                                    (item: Record<string, any>, i: number) => (\n                                      <ChatWrapper\n                                        type={\n                                          item.senderType &&\n                                          item.senderType === 'reviewer'\n                                            ? 'reciever'\n                                            : 'sender'\n                                        }\n                                        key={i}\n                                        id={item._id}\n                                      >\n                                        <div className=\"message\">\n                                          <p className=\"label\">\n                                            {item.senderType &&\n                                            item.senderType === 'reviewer'\n                                              ? 'Reviewer'\n                                              : 'You'}\n                                          </p>\n                                          <div className=\"bubble\">\n                                            {item.message && (\n                                              <div>\n                                                {ReactHtmlParser(\n                                                  parseMessage(item.message)\n                                                )}\n                                              </div>\n                                            )}\n                                            {item.attachments &&\n                                              item.attachments.length > 0 &&\n                                              item.attachments.map(\n                                                (\n                                                  attachment: Record<\n                                                    string,\n                                                    any\n                                                  >,\n                                                  i: number\n                                                ) => (\n                                                  <Fragment key={i}>\n                                                    <AttachmentDownload\n                                                      attachment={attachment}\n                                                      chat_id={item._id}\n                                                      senderType={\n                                                        item.senderType\n                                                      }\n                                                    />\n                                                  </Fragment>\n                                                )\n                                              )}\n                                          </div>\n                                        </div>\n                                      </ChatWrapper>\n                                    )\n                                  )}\n                            </Fragment>\n                          ))}\n                    </ChatSection>\n                  </MessageSection>\n                  {!ticketData || ticketStatus ? (\n                    <MessageBox\n                      isFetchingMessage={isFetching && !isFetchingNextPage}\n                      ticket={ticket as string}\n                      resumeId={resumeId as string}\n                      acceptTC={acceptTC}\n                      setAlert={setAlert}\n                      style={{ opacity: 0 }}\n                    />\n                  ) : (\n                    <AlertBox id=\"message-box\">\n                      <span>\n                        <WarningIcon size=\"1.3rem\" />\n                      </span>\n                      <p>Ticket has been closed!</p>\n                    </AlertBox>\n                  )}\n                </Fragment>\n              )}\n            </Fragment>\n          )}\n        </Content>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default ReviewChat\n\nconst AlertBox = styled.div`\n  margin-top: 2rem;\n  display: flex;\n  height: 50px;\n  justify-content: center;\n  align-items: center;\n  background-color: #eee;\n  span {\n    height: fit-content;\n    margin-right: 0.5rem;\n    margin-top: 0.3rem;\n  }\n  p {\n    text-align: center;\n    margin: 0;\n  }\n`\n\nconst Content = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  margin-left: 260px;\n  min-height: 100vh;\n  overflow-x: hidden;\n`\n\nconst MessageSection = styled.div`\n  display: flex;\n  align-items: flex-end;\n  height: 100%;\n  width: 100%;\n`\nconst ChatSection = styled.div`\n  margin-top: auto;\n  padding: 1.5rem 1.5rem 0;\n  height: fit-content;\n  width: 100%;\n  .load-more {\n    display: flex;\n    width: 100%;\n    align-items: center;\n    justify-content: center;\n    border-bottom: 1px solid rgba(52, 52, 52, 0.2);\n    transition: color ease-in-out 0.2s;\n    a {\n      padding: 0.7rem;\n      text-transform: capitalize;\n      &:hover {\n        color: ${({ theme }) => theme.colors.primary};\n      }\n    }\n  }\n`\nconst ChatWrapper = styled.div<{ type: 'sender' | 'reciever' }>`\n  width: 100%;\n  display: flex;\n  justify-content: ${({ type }) =>\n    type === 'sender' ? 'flex-end' : 'flex-start'};\n  .message {\n    max-width: 50%;\n    width: fit-content;\n  }\n  .label {\n    text-align: ${({ type }) => (type === 'sender' ? 'end' : 'start')};\n    margin-bottom: 0.2rem;\n  }\n  .bubble {\n    background-color: #0f102a;\n    background-color: ${({ type }) =>\n      type === 'sender' ? '#F08438' : '#0f102a'};\n    padding: 0.5rem 1rem;\n    border-radius: 6px;\n    color: white;\n    font-size: 0.8rem;\n    p {\n      margin: 0;\n    }\n    .emoji-icon {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      height: fit-content;\n      line-height: 1;\n      position: relative;\n      top: 4px;\n    }\n  }\n`\n\nconst TCModal = styled.div`\n  width: 450px;\n  height: fit-content;\n  background-color: #fff;\n  border-radius: 6px;\n  padding: 3rem 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  text-align: center;\n  p {\n    margin-left: 0.5rem;\n    font-size: 1rem;\n    max-width: 80%;\n    margin-bottom: 2rem;\n    a {\n      font-size: inherit;\n      text-decoration: underline;\n      &:hover {\n        color: ${({ theme }) => theme.colors.primary};\n      }\n    }\n  }\n  .tc-action {\n    width: 100%;\n    display: flex;\n    justify-content: center;\n\n    button {\n      width: 70px;\n      &:first-child {\n        margin-right: 1rem;\n      }\n    }\n  }\n`\n","import axios from 'axios'\nimport getQuery from '../hooks/getQuery'\nimport getQueryAdvance from '../hooks/getQueryAdvance'\nexport interface GetResumesParams {\n  title?: string\n  page: number\n  limit: number\n}\n/**\n * Gets All resume templates\n * @returns UseQueryResult\n */\nexport const getAllResumeTemplates = () => {\n  return getQuery('resumeTemplates', `/templates/resume`)\n}\n\n/**\n * Gets all user created resume\n * @returns UseQueryResult\n */\n// export const getAllResumes = () => {\n//   const fetcher = async () => {\n//     const { data } = await axios.get(`/resume`)\n//     return data\n//   }\n\n//   return getQueryAdvance('resumes', () => fetcher())\n// }\nexport const getAllResumes = (params: GetResumesParams, enabled?: boolean) => {\n  const fetcher = async () => {\n    const { data } = await axios.get(`/resume`, { params })\n    return data\n  }\n  return getQueryAdvance(['resumes', params], () => fetcher(), enabled)\n}\n\n/**\n * Gets single resume template\n * @param template resume template object _id\n * @param enabled should quey be enabled?\n * @returns UseQueryResult\n */\nexport const getResumeTemplate = (template: string, enabled?: boolean) => {\n  const fetcher = async (name: string) => {\n    const { data } = await axios.get(`/templates/resume/${name}`)\n    return data\n  }\n\n  return getQueryAdvance(\n    ['resumeTemplates', template],\n    () => fetcher(template),\n    enabled\n  )\n}\n/**\n * Gets single user resume\n * @param id resume object _id\n * @param enabled should query be enabled?\n * @returns UseQueryResult\n */\nexport const getResume = (id: string, enabled?: boolean) => {\n  const fetchResume = async (id: string) => {\n    const { data } = await axios.get(`/resume/${id}`)\n    return data\n  }\n  return getQueryAdvance(['resume', id], () => fetchResume(id), enabled)\n}\n","import styled from 'styled-components'\n\nexport const ContentWrapper = styled.div<{ maxWidth: string }>`\n  width: 100%;\n  max-width: ${({ maxWidth }) => maxWidth};\n  p {\n    max-width: 575px;\n  }\n`\nexport const PaginationWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  button {\n    width: fit-content;\n    padding: 0 1rem;\n    margin: 0 1rem;\n  }\n`\nexport const DashHeader = styled.header`\n  min-height: 175px;\n  max-height: 175px;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  border-bottom: 1px solid #e2e9f3;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem;\n  h1 {\n    margin-bottom: 0;\n    span {\n      font-weight: normal;\n    }\n  }\n  div:last-child {\n    display: flex;\n    button {\n      margin: 0 1rem;\n    }\n  }\n  @media (max-width: 768px) {\n    div:last-child {\n      flex-direction: column;\n    }\n  }\n  @media (max-width: 480px) {\n    max-height: 100px;\n    min-height: 100px;\n    h1 {\n      margin: 0;\n    }\n    div:last-child {\n      display: block;\n      width: 100%;\n    }\n  }\n`\n"],"names":["size","color","className","Fragment","xmlns","viewBox","width","height","d","stroke","strokeWidth","name","title","children","customBtns","user","useAuth","history","useHistory","useViewport","role","Array","isArray","includes","onClick","push","btnType","show","Wrapper","styled","theme","shades","dark","useState","isOutside","setIsOutside","ref","useRef","handleClickOutside","e","current","contains","target","useEffect","document","addEventListener","removeEventListener","search","useLocation","React","URLSearchParams","fill","setFiles","setShow","type","setNotify","useNotify","onDrop","useCallback","acceptedFiles","console","log","onDropRejected","rejectedFiles","length","forEach","item","message","file","heading","errors","useDropzone","accept","maxFiles","maxSize","getRootProps","getInputProps","isDragActive","CloseBtn","DropWrapper","colors","primary","props","progress","trackWidth","trackColor","indicatorWidth","indicatorColor","indicatorCap","spinnerMode","spinnerSpeed","center","radius","dashArray","Math","PI","dashOffset","CircleIcon","style","cx","cy","r","animationDuration","toString","strokeDasharray","strokeDashoffset","strokeLinecap","Spinner","keyframes","uploadChatAttachment","cancelToken","setProgress","onDone","setDone","onSuccess","setError","index","formData","FormData","append","axios","token","onUploadProgress","progressEvent","percentage","round","loaded","total","then","res","data","err","handleDownloadAttachment","chatId","id","isDownloading","setIsDownloading","downloadAttachmentApi","url","window","URL","createObjectURL","Blob","headers","link","createElement","href","split","setAttribute","body","appendChild","click","removeChild","revokeObjectURL","options","method","params","responseType","onDownloadProgress","handeRemoveFile","done","error","Alert","StyledFile","indexOf","cancel","removeChatAttachment","EmojiBolt","value","node","classList","add","emoji","ReactDOMServer","unified","emojiHTML","innerHTML","Quill","blotName","tagName","formats","ticket","resumeId","acceptTC","setAlert","isFetchingMessage","detectOutsideClick","quillRef","showDropzone","setShowDropzone","files","filesInProgress","setFilesInProgress","filesToRemove","setFilesToRemove","queryClient","useQueryClient","methods","useForm","mode","defaultValues","attachments","handleSubmit","watch","reset","control","isSubmitting","formState","useFieldArray","remove","hasMessage","replace","sendMessage","useMutation","reqData","chats","getQueryData","ticketId","pages","items","unshift","limit","page","pageParams","undefined","setQueryData","limits","count","pathname","handleCache","onError","response","status","queryData","onSubmit","dummy","emojis","querySelectorAll","innerText","regex","RegExp","mutate","insertEmoji","emojiData","_event","editor","getSelection","selection","insertEmbed","cursorPosition","setSelection","apiDeleteFiles","ids","_err","timer","setTimeout","clearTimeout","handleFileSuccess","_fileIndex","handleRemoveFile","fileIndex","isUploaded","findIndex","prev","_id","newFiles","splice","handleFileDone","handleDropzone","hasFiles","onEmojiClick","autoFocusSearch","lazyLoadEmojis","previewConfig","showPreview","emojiStyle","EmojiStyle","emojiVersion","skinTonesDisabled","droppedFiles","RichTextEditor","placeholder","modules","toolbar","container","clipboard","matchVisual","map","i","disabled","isLoading","ReviewAccordian","handleShowResume","customer","resume","AccordianWrapper","Accordian","assignedTo","firstName","lastName","createdAt","dayjs","format","isError","NavWrapper","NavBrand","LogoWrapper","process","src","logoIcon","logoText","NavLinksWrapper","marginLeft","padding","marginBottom","resumeData","handleShow","fields","cssReady","setCssReady","fontsReady","setFontsReady","isTemplateMapping","setIsTemplateMapping","setPages","curr","setCurr","queryEnabled","template","getResumeTemplate","templateData","isTemplateLoading","isTemplateError","isTemplateReady","loadTemplateFonts","loadFonts","fonts","old","getElementById","head","onload","onerror","transform","querySelector","wrapper","JSON","parse","stringify","templateMapper","updatePages","Object","keys","clientHeight","handleClick","MainWrapper","HeadWrapper","flex","SkeletonWrapper","scale","TemplateWrapper","visibility","PageToggler","chat_id","attachment","senderType","mimeType","queryParams","getUrlParams","useParams","get","preview","setShowPreview","setacceptTC","alert","showAlert","setShowAlert","getReviewTicketById","ticketData","ticketLoading","isTicketError","ticketError","getReviewTicketsCreatedCount","ticketCreatedData","ticketCreatedLoading","ticketCreatedError","ticketStatus","useInfiniteQuery","pageParam","chatFetcher","getNextPageParam","lastPage","ceil","enabled","refetchOnWindowFocus","refetchInterval","hasNextPage","fetchNextPage","isFetching","isFetchingNextPage","firstPageLength","pagesLength","messageSection","lastItem","element","scrollTop","offsetTop","scrollToBottom","header","messageBox","maxHeight","overflowY","focus","opacity","val","scrollHeight","parseMessage","from","childNodes","filter","child","nodeType","handeShowResume","Content","TCModal","marginTop","MessageSection","ChatSection","pop","group","ChatWrapper","ReactHtmlParser","AlertBox","getAllResumeTemplates","getQuery","getAllResumes","fetcher","getQueryAdvance","getResume","fetchResume","ContentWrapper","maxWidth","PaginationWrapper","DashHeader"],"sourceRoot":""}