{"version":3,"file":"358.bundle.js","mappings":"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","sources":["webpack://user-dashboard/./src/components/form/RichTextEditor.tsx","webpack://user-dashboard/./src/components/svgs/downArrow.tsx","webpack://user-dashboard/./src/components/ui/previewSkeleton.tsx","webpack://user-dashboard/./src/helpers/loadFonts.ts","webpack://user-dashboard/./src/helpers/templateMapper.ts","webpack://user-dashboard/./src/hooks/getQuery.ts","webpack://user-dashboard/./src/hooks/getQueryAdvance.ts","webpack://user-dashboard/./src/styled/template_global.css","webpack://user-dashboard/./src/styled/template_global.css?dbbf"],"sourcesContent":["import React, { forwardRef, Fragment, useEffect } from 'react'\nimport { Controller, useFormContext } from 'react-hook-form'\nimport ReactQuill from 'react-quill'\nimport styled from 'styled-components'\n\ninterface IProps {\n  name: string\n  placeholder?: string\n  maxHeight?: string\n  modules?: any\n  formats?: Array<string>\n}\n\nconst RichTextEditor = forwardRef(\n  ({ name, maxHeight = '', formats, modules, placeholder }: IProps, ref) => {\n    const { control } = useFormContext()\n    const initialModules = {\n      toolbar: [\n        ['bold', 'italic', 'underline'],\n        [{ list: 'ordered' }, { list: 'bullet' }],\n        ['link'],\n        ['clean'],\n      ],\n    }\n\n    const initialFormats = [\n      'bold',\n      'italic',\n      'underline',\n      'list',\n      'bullet',\n      'link',\n    ]\n\n    useEffect(() => {\n      const linkInput = document && document.querySelector('.ql-tooltip input')\n      linkInput &&\n        linkInput.setAttribute('data-link', 'https://www.example.com')\n\n      return\n    }, [])\n\n    return (\n      <Fragment>\n        <Wrapper maxHeight={maxHeight} className=\"wrapper\">\n          <>\n            <Controller\n              name={name}\n              control={control}\n              render={({ field: { value, onChange, onBlur } }) => (\n                <ReactQuill\n                  ref={ref as any}\n                  modules={modules ? modules : initialModules}\n                  onBlur={onBlur}\n                  onChange={(content) => onChange(content)}\n                  value={value}\n                  formats={formats ? formats : initialFormats}\n                  theme=\"snow\"\n                  bounds={'wrapper'}\n                  placeholder={placeholder}\n                />\n              )}\n            />\n          </>\n        </Wrapper>\n      </Fragment>\n    )\n  }\n)\n\nexport default RichTextEditor\n\nconst Wrapper = styled.div<{ maxHeight: string }>`\n  .quill {\n    background-color: #f4f5f7;\n    border-radius: 6px;\n    display: block;\n  }\n\n  .ql-toolbar,\n  .ql-container {\n    border: none;\n    display: block;\n    ${({ maxHeight }) =>\n      maxHeight && `max-height: ${maxHeight}; overflow-y: scroll;`}\n  }\n  .ql-toolbar {\n    padding-top: 1rem;\n    span.ql-formats {\n      &:not(:last-child) {\n        border-right: 2px solid #ddd;\n      }\n      button {\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        padding: 0;\n        svg {\n          width: 1.2rem;\n          height: 1.2rem;\n        }\n      }\n    }\n    .ql-formats {\n      margin-right: 0.5rem;\n      padding-right: 0.5rem;\n    }\n    .ql-stroke {\n      stroke: #898989;\n    }\n  }\n\n  .ql-editor {\n    min-height: 150px;\n    * {\n      font-size: 1rem;\n    }\n  }\n  .ql-editor.ql-blank::before {\n    font-style: unset;\n  }\n\n  .ql-editor ol,\n  .ql-editor ul {\n    padding-left: 0.5em;\n  }\n  .ql-tooltip {\n    z-index: 10;\n    border: none;\n    border-radius: 4px;\n    &[data-mode='link']:before {\n      content: 'Link';\n    }\n    &:before {\n      content: '';\n    }\n    input[type='text'] {\n      border: 1px solid #f4f5f7;\n      font-size: 1rem;\n      height: 40px;\n      width: 201px;\n    }\n\n    .ql-preview {\n      margin-right: 1rem;\n      text-decoration: underline;\n    }\n    &.ql-editing {\n      a.ql-action {\n        &:after {\n          position: relative;\n          top: 4px;\n          line-height: 1;\n          content: url('data:image/svg+xml;utf8,<svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"%2306c\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\" /></svg>');\n          filter: grayscale(1);\n          opacity: 0.5;\n        }\n        &:hover {\n          &:before {\n            filter: grayscale(0);\n            opacity: 1;\n          }\n        }\n      }\n    }\n    a.ql-remove {\n      &:before {\n        position: relative;\n        top: 3px;\n        margin-left: 0.5rem !important;\n        content: url('data:image/svg+xml;utf8,<svg width=\"16\" height=\"16\" viewBox=\"0 0 19 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"%2306c\" d=\"M6.08594 2.13281H5.90625C6.00508 2.13281 6.08594 2.05195 6.08594 1.95312V2.13281H12.9141V1.95312C12.9141 2.05195 12.9949 2.13281 13.0938 2.13281H12.9141V3.75H14.5312V1.95312C14.5312 1.16025 13.8866 0.515625 13.0938 0.515625H5.90625C5.11338 0.515625 4.46875 1.16025 4.46875 1.95312V3.75H6.08594V2.13281ZM17.4062 3.75H1.59375C1.19619 3.75 0.875 4.07119 0.875 4.46875V5.1875C0.875 5.28633 0.955859 5.36719 1.05469 5.36719H2.41133L2.96611 17.1143C3.00205 17.8802 3.63545 18.4844 4.40137 18.4844H14.5986C15.3668 18.4844 15.9979 17.8824 16.0339 17.1143L16.5887 5.36719H17.9453C18.0441 5.36719 18.125 5.28633 18.125 5.1875V4.46875C18.125 4.07119 17.8038 3.75 17.4062 3.75ZM14.4257 16.8672H4.57432L4.03076 5.36719H14.9692L14.4257 16.8672Z\"/></svg>') !important;\n        filter: grayscale(1);\n        opacity: 0.5;\n      }\n      &:hover {\n        &:before {\n          filter: grayscale(0);\n          opacity: 1;\n        }\n      }\n    }\n  }\n`\n","import React, { Fragment } from 'react'\ninterface IconProps {\n  size?: string\n  color?: string\n  className?: string\n}\nconst DownArrowIcon = ({ size, color, className }: IconProps) => {\n  return (\n    <Fragment>\n      <svg\n        width={size || '1rem'}\n        className={className || ''}\n        height={size || '1rem'}\n        viewBox='0 0 14 8'\n        fill='none'\n        xmlns='http://www.w3.org/2000/svg'\n      >\n        <path d='M1 1L7 7L13 1' stroke={color || '#898989'} />\n      </svg>\n    </Fragment>\n  )\n}\n\nexport default DownArrowIcon\n","import React, { Fragment } from 'react'\nimport styled from 'styled-components'\nimport {\n  SK_Circle,\n  SK_Form_Label,\n  SK_Heading,\n  SK_Text,\n  SK_Thumbnail,\n  SK_Wrapper\n} from '../../styled/loader'\n\nconst PreviewSkeleton = ({\n  style,\n  scale\n}: {\n  style?: React.CSSProperties | undefined\n  scale: number\n}) => {\n  const styles = {\n    ...(style && style),\n    ...(scale ? { transform: `scale(${scale})` } : { transform: 'scale(0.6)' })\n  }\n  return (\n    <Fragment>\n      <PreviewLoader className='template_skeleton' style={styles}>\n        <SK_Wrapper>\n          <Grid columns='30% 60%'>\n            <PreviewAvatar>\n              <SK_Circle />\n            </PreviewAvatar>\n\n            <div>\n              <SK_Heading />\n              <SK_Text />\n            </div>\n          </Grid>\n          <Grid\n            columns='40% 55%'\n            style={{\n              borderTop: ' 1px solid #ddd',\n              height: '100%'\n            }}\n          >\n            <div\n              style={{\n                borderRight: ' 1px solid #ddd',\n                height: '100%',\n                padding: '3rem 2rem 3rem 0'\n              }}\n            >\n              <Blocks>\n                <SK_Heading />\n                <SK_Text width='75%' />\n              </Blocks>\n              <Blocks>\n                <SK_Heading />\n                <SK_Text width='75%' />\n                <SK_Text width='65%' />\n              </Blocks>\n              <Blocks>\n                <SK_Heading />\n                <SK_Text width='95%' />\n                <SK_Text width='55%' />\n              </Blocks>\n            </div>\n            <div\n              style={{\n                height: '100%',\n                padding: '3rem 2rem 3rem 0'\n              }}\n            >\n              <Blocks>\n                <SK_Heading />\n                <SK_Text width='90%' />\n                <SK_Text width='95%' />\n                <SK_Text width='75%' />\n\n                <br />\n                <SK_Text width='95%' />\n                <SK_Text width='80%' />\n                <SK_Text width='55%' />\n              </Blocks>\n              <br />\n              <Blocks>\n                <SK_Heading />\n                <SK_Text width='90%' />\n                <SK_Text width='95%' />\n                <SK_Text width='75%' />\n              </Blocks>\n              <br />\n              <Blocks>\n                <SK_Heading />\n                <SK_Text width='90%' />\n                <SK_Text width='95%' />\n              </Blocks>\n            </div>\n          </Grid>\n        </SK_Wrapper>\n      </PreviewLoader>\n    </Fragment>\n  )\n}\n\nexport default PreviewSkeleton\n\nconst Grid = styled.div<{ columns?: string }>`\n  display: grid;\n  grid-template-columns: ${({ columns }) =>\n    columns ? columns : 'repeat(2, 1fr)'};\n  grid-gap: 2rem;\n  margin-top: 1.5rem;\n  align-items: center;\n  ${SK_Thumbnail} {\n    width: 100px;\n    height: 100px;\n  }\n  ${SK_Heading} {\n    margin-bottom: 1.7rem;\n  }\n  ${SK_Text} {\n    margin-bottom: 0.8rem;\n  }\n  ${SK_Form_Label} {\n    margin-bottom: 0.5rem;\n  }\n`\n\nconst PreviewLoader = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 297mm;\n  width: 210mm;\n  background-color: #fff;\n  padding: 2rem;\n  ${SK_Circle} {\n    width: 100px;\n    height: 100px;\n  }\n`\nconst PreviewAvatar = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`\nconst Blocks = styled.div`\n  margin-bottom: 4rem;\n`\n","/**\n * Loads Fonts\n * @param fonts templateData.fonts from getResumeTemplate()\n */\nexport const loadFonts = async (fonts: Array<Record<string, any>>) => {\n  if ('fonts' in document) {\n    Promise.all(\n      fonts.map((font: any) => {\n        const face = new FontFace(\n          font.name,\n          `url(${font.url}) format('${font.format}')`\n        )\n        face.style = font.style\n        face.weight = font.weight\n        return face.load()\n      })\n    ).then(function (loadedFonts) {\n      loadedFonts &&\n        loadedFonts.forEach(function (font) {\n          document.fonts.add(font)\n        })\n    })\n    return true\n  } else return false\n}\n","const templateMapper = (\n  initialJson: any,\n  initialData: any,\n  templateWrapper: HTMLElement,\n  buffer: number\n) => {\n  if (\n    !initialJson ||\n    !initialJson.layout ||\n    !initialJson.secondaryLayout ||\n    !initialData\n  )\n    return\n\n  const json2html = (json: any) => {\n    const node = (item: any) => {\n      const e = document.createElement(item.tag)\n      if (item.class) e.className = item.class\n      if (item.name && item.name !== 'element') e.classList.add(item.name)\n      if (item.id) e.classList.add(item.id)\n      if (item.text) {\n        if (e.classList.contains('space_before')) {\n          e.textContent = '\\u0020' + item.text\n        } else {\n          e.textContent = item.text\n        }\n      }\n      if (item.html) e.innerHTML = item.html\n      if (item.src) e.src = item.src\n      if (item.blocks && item.blocks.length > 0) {\n        e.classList.add('template_column', 'not-filled')\n        e.setAttribute('data-blocks', item.blocks.join(' '))\n      }\n\n      if (item.children && item.children.length > 0) {\n        for (const child of item.children) e.appendChild(node(child))\n      }\n      return e\n    }\n\n    return node(json)\n  }\n\n  const deepKeys: any = (t: any, pre = []) =>\n    Array.isArray(t)\n      ? []\n      : Object(t) === t\n      ? Object.entries(t).flatMap(([k, v]) => deepKeys(v, [...pre, k]))\n      : pre.join('.')\n\n  const getKeyVal = (selectionArray: Array<any>, obj: any) => {\n    selectionArray.forEach((key) => {\n      obj = obj[key]\n    })\n    return obj\n  }\n\n  const chunkArray = (arr: Array<any>, n: number) => {\n    const chunkLength = Math.max(arr.length / n, 1)\n    const chunks = []\n    for (let i = 0; i < chunkLength; i++) {\n      chunks.push(arr.slice(n * i, n * (i + 1)))\n    }\n    return chunks\n  }\n\n  const mapKeys = (block: any, keys: any, data: any) => {\n    const i = keys.indexOf(block.name)\n    if (i >= 0) {\n      const key = keys[i].split('.')\n      const val = getKeyVal(key, data)\n\n      if (key.length === 1 && key[0] === 'description') {\n        block.html = val\n      } else {\n        block.text = val\n      }\n    }\n    if (block.parent) {\n      const kIndex = keys.indexOf(block.parent)\n      if (kIndex >= 0) {\n        const key = block.parent.split('.')\n        const val = getKeyVal(key, data)\n        if (!val) {\n          if (block.text) block.text = ''\n          if (block.html) block.html = ''\n        }\n      } else {\n        if (block.text) block.text = ''\n        if (block.html) block.html = ''\n      }\n    }\n\n    if (block.children.length > 0) {\n      for (const child of block.children) mapKeys(child, keys, data)\n    }\n    return block\n  }\n\n  const mapLayoutWrapper = (title: string, layout: any) => {\n    let columns = 0\n    const mapper = (title: string, layout: any) => {\n      if (layout.name === 'title') {\n        layout.text = title\n      }\n      if (layout.name === 'blocks-wrapper' && layout.columns) {\n        columns = parseInt(layout.columns)\n      }\n      for (const child of layout.children) mapper(title, child)\n    }\n    mapper(title, layout)\n\n    return { layout, columns }\n  }\n\n  const pages: any = {}\n\n  const current: any = {\n    page: null,\n    pageNo: 1,\n    wrapper: null,\n    column: null,\n    blocksWrapper: null,\n    block: null\n  }\n  const secondaryLayout = json2html(initialJson.secondaryLayout)\n\n  const mapDesc = (\n    title: string,\n    block: any,\n    parent: any,\n    initialPageOffset: number,\n    blockIndex: number,\n    hasColumns: boolean,\n    clonedBlockLayout: any,\n    pageLayout: any\n  ) => {\n    const blockRect = block.getBoundingClientRect()\n    const blockOffset = blockRect.y + window.scrollY + blockRect.height + buffer\n    if (blockOffset > initialPageOffset) {\n      const childBlocks = Array.from(block.children)\n      block.innerHTML = ''\n      let wrapper = parent.querySelector('.description')\n\n      if (childBlocks.length === 0) return\n\n      childBlocks.forEach((el: any, i: number) => {\n        if (wrapper) wrapper.appendChild(el)\n\n        const elRect = el.getBoundingClientRect()\n        const elOffset = elRect.y + window.scrollY + elRect.height + buffer\n        const pageRect = current.page.getBoundingClientRect()\n        const pageOffset = pageRect.y + window.scrollY + pageRect.height\n\n        if (elOffset > pageOffset) {\n          let newBlock\n\n          if (i > 0) {\n            const mapped = mapKeys(clonedBlockLayout, [], {})\n            newBlock = json2html(mapped)\n            const newDescBlock = newBlock.querySelector('.description')\n\n            if (newDescBlock) {\n              newDescBlock.appendChild(el)\n              wrapper = newDescBlock\n            }\n          } else {\n            newBlock = parent\n          }\n          let page: any\n          if (current.pageNo >= Object.keys(pages).length) {\n            page = secondaryLayout.cloneNode(true)\n            pages[current.pageNo + 1] = {\n              page,\n              cols: [...page.querySelectorAll('.template_column')]\n            }\n            templateWrapper.appendChild(page)\n          } else {\n            page = pages[current.pageNo + 1].page\n          }\n\n          current.pageNo = current.pageNo + 1\n\n          const subMapperLayout = mapLayoutWrapper(title, pageLayout)\n          if (blockIndex < 1 && i < 1) current.wrapper.remove()\n\n          current.wrapper = json2html(subMapperLayout.layout)\n\n          const secCol = [...page.querySelectorAll('.template_column')]\n\n          const found = secCol.filter(\n            (col) =>\n              col.getAttribute('data-blocks') ===\n              current.column.getAttribute('data-blocks')\n          )[0]\n\n          current.page = page\n          current.column = found\n          current.blocksWrapper =\n            current.wrapper.getElementsByClassName('blocks-wrapper')[0]\n\n          if (hasColumns) {\n            current.blocksWrapper.removeAttribute('class')\n          }\n\n          current.blocksWrapper.appendChild(newBlock)\n          current.column.appendChild(current.wrapper)\n          current.column.classList.remove('not-filled')\n          if (blockIndex >= 1 || i >= 1) {\n            const heading = current.wrapper.getElementsByClassName('title')[0]\n            heading.parentElement.removeChild(heading)\n          }\n        }\n      })\n    }\n    return\n  }\n\n  const overflown = (\n    title: string,\n    layout: any,\n    block: any,\n    blockIndex: number,\n    hasColumns: boolean,\n    clonedBlockLayout: any\n  ) => {\n    const pageRect = current.page.getBoundingClientRect()\n    const pageOffset = pageRect.y + window.scrollY + pageRect.height\n\n    const blockRect = block.getBoundingClientRect()\n    const blockOffset = blockRect.y + window.scrollY + blockRect.height + buffer\n    if (blockOffset > pageOffset) {\n      let page: any\n      // ////////////////// //New\n      const descEl = block.querySelector('.description')\n      if (descEl) {\n        mapDesc(\n          title,\n          descEl,\n          block,\n          pageOffset,\n          blockIndex,\n          hasColumns,\n          clonedBlockLayout,\n          layout\n        )\n      } else {\n        if (current.pageNo >= Object.keys(pages).length) {\n          page = secondaryLayout.cloneNode(true)\n          pages[current.pageNo + 1] = {\n            page,\n            cols: [...page.querySelectorAll('.template_column')]\n          }\n          templateWrapper.appendChild(page)\n        } else {\n          page = pages[current.pageNo + 1].page\n        }\n\n        current.pageNo = current.pageNo + 1\n\n        const subMapperLayout = mapLayoutWrapper(title, layout)\n        if (blockIndex < 1) current.wrapper.remove()\n\n        current.wrapper = json2html(subMapperLayout.layout)\n\n        const secCol = [...page.querySelectorAll('.template_column')]\n\n        const found = secCol.filter(\n          (col) =>\n            col.getAttribute('data-blocks') ===\n            current.column.getAttribute('data-blocks')\n        )[0]\n        current.page = page\n        current.column = found\n        current.blocksWrapper =\n          current.wrapper.getElementsByClassName('blocks-wrapper')[0]\n\n        if (hasColumns) {\n          current.blocksWrapper.removeAttribute('class')\n        }\n        current.blocksWrapper.appendChild(block)\n        current.column.appendChild(current.wrapper)\n        current.column.classList.remove('not-filled')\n\n        if (blockIndex >= 1) {\n          const heading = current.wrapper.getElementsByClassName('title')[0]\n          heading.parentElement.removeChild(heading)\n        }\n      }\n    }\n  }\n\n  const mapBlockLayout = (\n    title: string,\n    layout: any,\n    blocks: any,\n    clonedBlockLayout: any\n  ) => {\n    if (blocks.length < 1) return\n\n    const mappedWrapper = mapLayoutWrapper(title, layout)\n    current.wrapper = json2html(mappedWrapper.layout)\n\n    current.column.appendChild(current.wrapper)\n\n    current.blocksWrapper =\n      current.wrapper.getElementsByClassName('blocks-wrapper')[0]\n\n    if (mappedWrapper.columns > 0) {\n      const chunks = chunkArray(blocks, mappedWrapper.columns)\n      const className = current.blocksWrapper.classList.toString()\n      current.blocksWrapper.removeAttribute('class')\n      chunks.map((chunk, i) => {\n        const obj = {\n          tag: current.blocksWrapper.tagName.toLowerCase(),\n          class: className,\n          children: chunk\n        }\n        current.block = json2html(obj)\n        current.blocksWrapper.appendChild(current.block)\n        overflown(title, layout, current.block, i, true, clonedBlockLayout)\n      })\n    } else {\n      blocks.map((block: any, i: number) => {\n        current.block = json2html(block)\n        current.blocksWrapper.appendChild(current.block)\n        overflown(title, layout, current.block, i, false, clonedBlockLayout)\n      })\n    }\n  }\n\n  const mapMultiBlock = (json: any, data: any) => {\n    if (Array.isArray(data) && data.length > 0) {\n      const mapped = data.map((item) => {\n        const block = JSON.parse(JSON.stringify(json.block))\n        const keys = deepKeys(item)\n        return mapKeys(block, keys, item)\n      })\n      mapBlockLayout(\n        json.title,\n        json.layout,\n        mapped,\n        JSON.parse(JSON.stringify(json.block))\n      )\n    }\n  }\n  const mapSingleBlock = (\n    json: any,\n    title: string,\n    data: any,\n    col: HTMLElement\n  ) => {\n    const blockName = 'blocks-wrapper'\n    const foundKeys = []\n    const mapper = (json: any, title: string, data: any) => {\n      if (json.name !== 'element') {\n        if (json.name === 'title') {\n          json.text = title\n        } else {\n          if (data[json.name]) {\n            foundKeys.push(json.name)\n            if (json.name === 'about_info' || json.name === 'description') {\n              json.html = data[json.name]\n            } else {\n              json.text = data[json.name]\n            }\n          }\n        }\n      }\n      if (json.parent && !data[json.parent]) {\n        if (json.tag === 'img') {\n          json.tag = 'span'\n          json.src = ''\n        }\n        if (json.text) json.text = ''\n        if (json.html) json.html = ''\n      }\n      for (const child of json.children) mapper(child, title, data)\n      return json\n    }\n\n    const mapped = mapper(json, title, data)\n    if (mapped) {\n      if (foundKeys.length === 0) return\n      current.column = col\n      current.block = json2html(mapped)\n\n      current.column.appendChild(current.block)\n      current.column.classList.remove('not-filled')\n\n      current.blocksWrapper = current.block.querySelector('.' + blockName)\n      if (!current.blocksWrapper) return\n      const childBlocks = Array.from(current.blocksWrapper.children).splice(\n        0,\n        current.blocksWrapper.children.length\n      )\n      current.blocksWrapper.innerHTML = ''\n      childBlocks.forEach((block: any, i: number) => {\n        current.blocksWrapper.appendChild(block)\n\n        const pageRect = current.page.getBoundingClientRect()\n        const pageOffset = pageRect.y + window.scrollY + pageRect.height\n\n        const blockRect = block.getBoundingClientRect()\n        const offsetVals = blockRect.y + window.scrollY + buffer\n        const blockOffset = blockRect.height + offsetVals\n        if (blockOffset >= pageOffset) {\n          let page: any\n          if (current.pageNo >= Object.keys(pages).length) {\n            page = secondaryLayout.cloneNode(true)\n            pages[current.pageNo + 1] = {\n              page,\n              cols: [...page.querySelectorAll('.template_column')]\n            }\n            templateWrapper.appendChild(page)\n          } else {\n            page = pages[current.pageNo + 1].page\n          }\n          current.page = page\n          current.pageNo = current.pageNo + 1\n          current.wrapper = current.block.cloneNode(true)\n          current.page.appendChild(current.wrapper)\n          current.blocksWrapper = current.wrapper.querySelector('.' + blockName)\n          current.blocksWrapper.innerHTML = ''\n          current.blocksWrapper.appendChild(block)\n          const secCol = [...page.querySelectorAll('.template_column')]\n          const found = secCol.filter(\n            (col) =>\n              col.getAttribute('data-blocks') ===\n              current.column.getAttribute('data-blocks')\n          )[0]\n          current.column = found\n          current.column.appendChild(current.wrapper)\n          current.column.classList.remove('not-filled')\n          if (i >= 1) {\n            const heading = current.wrapper.getElementsByClassName('title')[0]\n            heading && heading.parentElement.removeChild(heading)\n          }\n        }\n      })\n    }\n  }\n\n  const mapBlocks = (\n    blocks: any,\n    data: any,\n    columns: any,\n    page: HTMLElement\n  ) => {\n    pages['1'] = { page, cols: columns }\n    columns.length > 0 &&\n      columns.forEach((col: any) => {\n        current.page = pages['1'].page\n        current.pageNo = 1\n        current.column = col\n        const attr = col.getAttribute('data-blocks').split(' ')\n        attr.forEach((key: string) => {\n          if (!blocks[key]) return\n          if (blocks[key].multiple) {\n            mapMultiBlock(blocks[key], data[key])\n          } else {\n            mapSingleBlock(blocks[key].layout, blocks[key].title, data, col)\n          }\n        })\n      })\n  }\n\n  const mapLayout = (layout: any, data: any) => {\n    const mapper = (layout: any, data: any) => {\n      const keys = deepKeys(data)\n      keys.forEach((k: string) => {\n        const key = k.split('.')\n        const val = getKeyVal(key, data)\n        if (typeof val === 'string' && layout.name === k) {\n          if (k === 'avatar.processed') {\n            layout.src = val\n          } else {\n            layout.text = val\n          }\n        }\n        if (layout.parent && !data[layout.parent]) {\n          if (layout.tag === 'img') {\n            layout.tag = 'span'\n            layout.src = ''\n          }\n          if (layout.text) layout.text = ''\n          if (layout.html) layout.html = ''\n        }\n      })\n      for (const child of layout.children) mapper(child, data)\n    }\n    mapper(layout, data)\n\n    return layout\n  }\n\n  const layout = mapLayout(initialJson.layout, initialData)\n  const createLayout = json2html(layout)\n  const newPage = templateWrapper.appendChild(createLayout)\n  const columns = [...newPage.querySelectorAll('.template_column')]\n\n  initialJson.blocks &&\n    mapBlocks(initialJson.blocks, initialData, columns, newPage)\n\n  const empty: Array<any> = []\n  Object.keys(pages).forEach((key) => {\n    empty.push(...pages[key].page.querySelectorAll('.removable-blocks'))\n\n    if (empty.length > 0) {\n      empty.forEach((el) => {\n        const blocks = el.querySelectorAll('.block')\n        if (blocks.length === 0) el.remove()\n        return\n      })\n    }\n  })\n\n  return pages\n}\n\nexport default templateMapper\n","import axios from 'axios'\nimport { useQuery } from 'react-query'\nimport { useAuth } from '../contexts/authProvider'\n\n/**\n * Simple Hook for useQuery()\n * @param identifier useQuery() fn queryKey identefier\n * @param url api enpoint route\n * @param params axios request params\n * @returns useQuery() fn\n */\nconst getQuery = (identifier: string, url: string, params?: string) => {\n  const { user, token } = useAuth()\n  const ref = user && user.ref\n  const fetcher = async () => {\n    const { data } = await axios.get(url, { params })\n    return data\n  }\n\n  return useQuery(identifier, fetcher, { enabled: !!token && !!ref })\n}\n\nexport default getQuery\n","import { useQuery, UseQueryOptions } from 'react-query'\nimport { useAuth } from '../contexts/authProvider'\n\n/**\n * Advance hook for useQuery()\n * @param identifier queryKey  identifier\n * @param fetcher queryFn()\n * @param enabled should query be enabled?\n * @param params useQuery() options\n * @returns useQuery()\n */\nconst getQueryAdvance = (\n  identifier: any,\n  fetcher: () => any,\n  enabled = true,\n  params?: Omit<\n    UseQueryOptions<any, unknown, any, any>,\n    'queryKey' | 'queryFn' | 'enabled'\n  >\n) => {\n  const { user, token } = useAuth()\n  const ref = user && user.ref\n\n  return useQuery(identifier, fetcher, {\n    enabled: !!token && !!ref && enabled,\n    ...params,\n  })\n}\n\nexport default getQueryAdvance\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".mt {\\n  margin-top: 3rem !important;\\n}\\n.page {\\n  width: 210mm;\\n  height: 297mm;\\n  box-sizing: border-box;\\n  margin: auto;\\n  padding: 0;\\n  transform: scale(0.6);\\n  overflow: hidden;\\n  position: absolute;\\n}\\n\\n.page h1,\\n.page h2,\\n.page h3,\\n.page h4,\\n.page h5,\\n.page p,\\n.page li,\\n.page span,\\n.page b,\\n.page em {\\n  margin: 0.2rem 0;\\n  line-height: 1.2;\\n  word-wrap: break-word;\\n  word-break: break-word;\\n  letter-spacing: 0;\\n}\\n\\n.page .description ul,\\n.page .about_info ul {\\n  margin: 0;\\n  padding: 0;\\n  list-style-position: inside;\\n  list-style-type: disc;\\n}\\n.page .description ol,\\n.page .about_info ol {\\n  margin: 0;\\n  padding: 0;\\n  list-style-position: inside;\\n  list-style-type: auto;\\n}\\n\\n.page .heading {\\n  margin-bottom: 1.5rem;\\n}\\n\\n.page p,\\n.page b,\\n.page em,\\n.page li {\\n  font-size: 0.875rem;\\n  line-height: 1.5;\\n}\\n.page. h1 {\\n  font-size: 2rem !important;\\n}\\n.page h3 {\\n  font-size: 1.25rem !important;\\n}\\n\\n.page ul {\\n  margin: 0;\\n  padding: 0;\\n  list-style-position: inside;\\n  list-style-type: unset;\\n}\\n.page li {\\n  margin-top: 0.3rem;\\n  margin-bottom: 0.3rem;\\n}\\n\\n.page img {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.template_page {\\n  width: 210mm;\\n  min-height: 297mm;\\n  height: 297mm;\\n  display: flex;\\n  flex-direction: column;\\n  background-color: #fff;\\n}\\n\\n.page .uppercase {\\n  text-transform: uppercase;\\n}\\n\\n.page .no-list-style {\\n  list-style-type: none;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/styled/template_global.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,2BAA2B;AAC7B;AACA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,YAAY;EACZ,UAAU;EACV,qBAAqB;EACrB,gBAAgB;EAChB,kBAAkB;AACpB;;AAEA;;;;;;;;;;EAUE,gBAAgB;EAChB,gBAAgB;EAChB,qBAAqB;EACrB,sBAAsB;EACtB,iBAAiB;AACnB;;AAEA;;EAEE,SAAS;EACT,UAAU;EACV,2BAA2B;EAC3B,qBAAqB;AACvB;AACA;;EAEE,SAAS;EACT,UAAU;EACV,2BAA2B;EAC3B,qBAAqB;AACvB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;;;;EAIE,mBAAmB;EACnB,gBAAgB;AAClB;AACA;EACE,0BAA0B;AAC5B;AACA;EACE,6BAA6B;AAC/B;;AAEA;EACE,SAAS;EACT,UAAU;EACV,2BAA2B;EAC3B,sBAAsB;AACxB;AACA;EACE,kBAAkB;EAClB,qBAAqB;AACvB;;AAEA;EACE,WAAW;EACX,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,iBAAiB;EACjB,aAAa;EACb,aAAa;EACb,sBAAsB;EACtB,sBAAsB;AACxB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,qBAAqB;AACvB\",\"sourcesContent\":[\".mt {\\n  margin-top: 3rem !important;\\n}\\n.page {\\n  width: 210mm;\\n  height: 297mm;\\n  box-sizing: border-box;\\n  margin: auto;\\n  padding: 0;\\n  transform: scale(0.6);\\n  overflow: hidden;\\n  position: absolute;\\n}\\n\\n.page h1,\\n.page h2,\\n.page h3,\\n.page h4,\\n.page h5,\\n.page p,\\n.page li,\\n.page span,\\n.page b,\\n.page em {\\n  margin: 0.2rem 0;\\n  line-height: 1.2;\\n  word-wrap: break-word;\\n  word-break: break-word;\\n  letter-spacing: 0;\\n}\\n\\n.page .description ul,\\n.page .about_info ul {\\n  margin: 0;\\n  padding: 0;\\n  list-style-position: inside;\\n  list-style-type: disc;\\n}\\n.page .description ol,\\n.page .about_info ol {\\n  margin: 0;\\n  padding: 0;\\n  list-style-position: inside;\\n  list-style-type: auto;\\n}\\n\\n.page .heading {\\n  margin-bottom: 1.5rem;\\n}\\n\\n.page p,\\n.page b,\\n.page em,\\n.page li {\\n  font-size: 0.875rem;\\n  line-height: 1.5;\\n}\\n.page. h1 {\\n  font-size: 2rem !important;\\n}\\n.page h3 {\\n  font-size: 1.25rem !important;\\n}\\n\\n.page ul {\\n  margin: 0;\\n  padding: 0;\\n  list-style-position: inside;\\n  list-style-type: unset;\\n}\\n.page li {\\n  margin-top: 0.3rem;\\n  margin-bottom: 0.3rem;\\n}\\n\\n.page img {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.template_page {\\n  width: 210mm;\\n  min-height: 297mm;\\n  height: 297mm;\\n  display: flex;\\n  flex-direction: column;\\n  background-color: #fff;\\n}\\n\\n.page .uppercase {\\n  text-transform: uppercase;\\n}\\n\\n.page .no-list-style {\\n  list-style-type: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./template_global.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./template_global.css\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":["forwardRef","ref","name","maxHeight","formats","modules","placeholder","control","useFormContext","initialModules","toolbar","list","initialFormats","useEffect","linkInput","document","querySelector","setAttribute","Fragment","Wrapper","className","render","field","value","onChange","onBlur","content","theme","bounds","styled","size","color","width","height","viewBox","fill","xmlns","d","stroke","style","scale","styles","transform","PreviewLoader","Grid","columns","PreviewAvatar","borderTop","borderRight","padding","Blocks","SK_Thumbnail","SK_Heading","SK_Text","SK_Form_Label","SK_Circle","loadFonts","fonts","Promise","all","map","font","face","FontFace","url","format","weight","load","then","loadedFonts","forEach","add","initialJson","initialData","templateWrapper","buffer","layout","secondaryLayout","json2html","json","node","item","e","createElement","tag","classList","id","text","contains","textContent","html","innerHTML","src","blocks","length","join","children","child","appendChild","deepKeys","t","pre","Array","isArray","Object","entries","flatMap","k","v","getKeyVal","selectionArray","obj","key","mapKeys","block","keys","data","i","indexOf","split","val","parent","mapLayoutWrapper","title","mapper","parseInt","pages","current","page","pageNo","wrapper","column","blocksWrapper","overflown","blockIndex","hasColumns","clonedBlockLayout","pageRect","getBoundingClientRect","pageOffset","y","window","scrollY","blockRect","descEl","initialPageOffset","pageLayout","childBlocks","from","el","elRect","elOffset","newBlock","mapped","newDescBlock","cloneNode","cols","querySelectorAll","subMapperLayout","remove","found","filter","col","getAttribute","getElementsByClassName","removeAttribute","heading","parentElement","removeChild","mapDesc","mapLayout","createLayout","newPage","multiple","JSON","parse","stringify","mappedWrapper","chunks","arr","n","chunkLength","Math","max","push","slice","chunkArray","toString","chunk","tagName","toLowerCase","class","mapBlockLayout","mapMultiBlock","blockName","foundKeys","splice","offsetVals","mapSingleBlock","mapBlocks","empty","identifier","params","useAuth","user","token","fetcher","axios","useQuery","enabled","___CSS_LOADER_EXPORT___","module","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement"],"sourceRoot":""}