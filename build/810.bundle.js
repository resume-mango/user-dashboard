"use strict";(self.webpackChunkuser_dashboard=self.webpackChunkuser_dashboard||[]).push([[810],{1757:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(7294),i=t(5893);const a=function(e){var n=e.size,t=e.color,a=e.className;return(0,i.jsx)(r.Fragment,{children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 22",width:n||"1rem",className:a||"",height:n||"1rem",children:[(0,i.jsx)("circle",{cx:"11",cy:"11",r:"11",fill:t||"#898989"}),(0,i.jsx)("path",{d:"M5.89453 10.6357L9.63735 14.3098L16.3064 7.46828",stroke:"white",fill:"none"})]})})}},316:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(7294),i=t(5893);const a=function(e){var n=e.size,t=e.color,a=e.className;return(0,i.jsx)(r.Fragment,{children:(0,i.jsx)("svg",{width:n||"1rem",height:n||"1rem",className:a||"",viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M6.08594 2.13281H5.90625C6.00508 2.13281 6.08594 2.05195 6.08594 1.95312V2.13281H12.9141V1.95312C12.9141 2.05195 12.9949 2.13281 13.0938 2.13281H12.9141V3.75H14.5312V1.95312C14.5312 1.16025 13.8866 0.515625 13.0938 0.515625H5.90625C5.11338 0.515625 4.46875 1.16025 4.46875 1.95312V3.75H6.08594V2.13281ZM17.4062 3.75H1.59375C1.19619 3.75 0.875 4.07119 0.875 4.46875V5.1875C0.875 5.28633 0.955859 5.36719 1.05469 5.36719H2.41133L2.96611 17.1143C3.00205 17.8802 3.63545 18.4844 4.40137 18.4844H14.5986C15.3668 18.4844 15.9979 17.8824 16.0339 17.1143L16.5887 5.36719H17.9453C18.0441 5.36719 18.125 5.28633 18.125 5.1875V4.46875C18.125 4.07119 17.8038 3.75 17.4062 3.75ZM14.4257 16.8672H4.57432L4.03076 5.36719H14.9692L14.4257 16.8672Z",fill:t||"#898989"})})})}},1826:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(7294),i=t(5893);const a=function(e){var n=e.size,t=e.color,a=e.className;return(0,i.jsx)(r.Fragment,{children:(0,i.jsx)("svg",{width:n||"1rem",height:n||"1rem",className:a||"",viewBox:"0 0 24 24",fill:t||"#898989",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M20.41 4.94l-1.35-1.35c-.78-.78-2.05-.78-2.83 0L3 16.82V21h4.18L20.41 7.77c.79-.78.79-2.05 0-2.83zm-14 14.12L5 19v-1.36l9.82-9.82 1.41 1.41-9.82 9.83z"})})})}},3114:(e,n,t)=>{t.d(n,{Z:()=>u});var r,i,a,s=t(168),o=t(7294),c=t(9163),l=t(5292),d=t(5893);const u=(0,c.Zz)((function(e){var n=e.theme,t=e.show,r=e.msg,i=e.title,a=e.children;return(0,d.jsx)(o.Fragment,{children:t&&(0,d.jsx)(h,{className:"confirmation-box",children:(0,d.jsxs)(p,{children:[(0,d.jsx)(l.Z,{size:"100px",color:n.colors.primary}),(0,d.jsx)("h2",{children:i}),(0,d.jsx)("p",{children:r}),(0,d.jsxs)(m,{children:[" ",a]})]})})})}));var h=c.ZP.div(r||(r=(0,s.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  background-color: ",";\n"])),(function(e){return e.theme.shades.dark[3]})),p=c.ZP.div(i||(i=(0,s.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center !important;\n  align-items: center;\n  max-width: 500px;\n  max-height: 400px;\n  height: 100%;\n  width: 100%;\n  padding: 2rem;\n  border: 1px solid rgb(237 237 237 / 20%);\n  border-radius: 1rem;\n  background-color: #fff;\n\n  h2,\n  p {\n    text-align: center;\n    margin: 0 0 1rem;\n  }\n  p {\n    font-size: 1.2rem;\n    margin-bottom: 2rem;\n  }\n  svg {\n    margin-bottom: 2rem;\n  }\n"]))),m=c.ZP.div(a||(a=(0,s.Z)(["\n  display: grid;\n  align-items: center;\n  grid-template-columns: repeat(2, 1fr);\n  grid-gap: 2rem;\n"])))},8614:(e,n,t)=>{t.d(n,{Z:()=>d});var r=t(7294),i=t(5977),a=t(5454),s=t(9964),o=t(5438),c=t(9070),l=t(5893);const d=function(e){var n=e.name,t=e.title,d=e.children,u=e.customBtns,h=(0,a.a)().user,p=(0,i.k6)(),m=(0,s.S)().width;return(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)(c.q$,{children:[(0,l.jsxs)("div",{children:[n&&(0,l.jsx)("p",{children:n}),(0,l.jsx)("h1",{children:t})]}),m>800&&(0,l.jsx)("div",{children:u?d:(0,l.jsxs)(r.Fragment,{children:[h&&h.role&&Array.isArray(h.role)&&h.role.includes("ceo")?(0,l.jsx)(o.z,{onClick:function(){return p.push("/resumes/new")},btnType:"primary",size:"sm",children:"Create Resume"}):(0,l.jsx)(o.z,{onClick:function(){return p.push("/subscribe")},btnType:"primary",size:"sm",children:"Upgrade"}),(0,l.jsx)(o.z,{onClick:function(){return p.push("/progress-tracker")},btnType:"ghost",size:"sm",children:"Tracker"})]})})]})})}},4719:(e,n,t)=>{t.d(n,{Z:()=>c});var r,i=t(168),a=(t(7294),t(9163)),s=t(5893),o=function(e){var n=e.children,t=e.style;return(0,s.jsx)(l,{style:t,children:n})};o.Link=function(e){var n=e.children;return(0,s.jsx)("li",{children:n})};const c=o;var l=a.ZP.ul(r||(r=(0,i.Z)(["\n  display: flex;\n  padding: 0 0.875rem;\n  border-bottom: 1px solid #e2e9f3;\n  user-select: none;\n  li {\n    display: flex;\n    float: left;\n    padding: 0;\n    a {\n      color: #878787;\n      padding: 1.5rem 1rem 0.5rem;\n      margin: 0 1rem;\n      transition: color ease-in-out 300ms;\n      &:hover {\n        color: #f08438;\n      }\n      &.active {\n        font-weight: 700;\n        color: #f08438;\n        border-bottom: 2px solid #f08438;\n      }\n    }\n  }\n  @media (max-width: 480px) {\n    justify-content: space-between;\n    li {\n      a {\n        margin: 0 0.5rem;\n        padding: 0.5rem 0;\n        font-size: 0.8rem;\n      }\n    }\n  }\n"])))},3106:(e,n,t)=>{t.d(n,{Z:()=>c});var r=t(4942),i=t(8767),a=t(5454);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const c=function(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,s=(0,a.a)(),c=s.user,l=s.token,d=c&&c.ref;return(0,i.useQuery)(e,n,o({enabled:!!l&&!!d&&t},r))}},3810:(e,n,t)=>{t.r(n),t.d(n,{default:()=>on});var r,i,a=t(168),s=t(2982),o=t(885),c=t(7294),l=t(2584),d=t(5977),u=t(7723),h=t(9163),p=t(1757),m=t(3114),g=t(8614),x=t(5861),f=t(7757),j=t.n(f),b=t(8767),v=t(9669),y=t.n(v),w=t(3106),Z=t(8950),k=t(6527),O=t(9245),P=t(732),C=t(2684),D=t(5893),z={showModal:!1,tracker:{},modalAction:"",setShowModal:function(e){},setTracker:function(e){},setModalAction:function(e){},data:{},isLoading:!1,isError:!1,isPosUpdating:!1,setReqPosChange:function(e){},deleteItem:{},setDeleteItem:function(e){},isDeleting:!1,handleDeleteTracker:function(e){}},S=c.createContext(z),M=function(e){var n,t=e.children,r=(0,c.useState)(!1),i=(0,o.Z)(r,2),a=i[0],s=i[1],l=(0,c.useState)({}),d=(0,o.Z)(l,2),u=d[0],h=d[1],p=(0,c.useState)(""),m=(0,o.Z)(p,2),g=m[0],f=m[1],v=(0,c.useState)(0),z=(0,o.Z)(v,2),M=z[0],N=z[1],_=(0,c.useState)(!1),T=(0,o.Z)(_,2),E=T[0],I=T[1],L=(0,c.useState)({}),A=(0,o.Z)(L,2),F=A[0],H=A[1],q=(0,O.d)().setNotify,V=(0,k.Z)(!1),B=V.showExitPrompt,R=V.setShowExitPrompt,Y=(n=function(){var e=(0,x.Z)(j().mark((function e(){var n,t;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().get("/progress-tracker");case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),(0,w.Z)("progressTracker",(function(){return n()}))),U=Y.data,Q=Y.isLoading,W=Y.isError,$=(0,b.useQueryClient)(),X={callbacks:0,interviews:0,jobs_applied:0};X.callbacks=U&&U.responded.length||0,X.interviews=U&&U.interview.length||0,X.jobs_applied=U&&U.applied.length||0,(0,c.useEffect)((function(){X&&(0,C.ME)(X,q,$)}),[X.callbacks,X.interviews,X.jobs_applied]),(0,c.useEffect)((function(){return function(){R(!1)}}),[]),(0,c.useEffect)((function(){R(!!E)}),[E]);var G=function(e,n,t,r,i,a,s){return(0,b.useMutation)((function(e){return y().delete("/progress-tracker",{data:e})}),{onSuccess:function(r){(0,Z.w)(e.id,e.status,n,"progressTracker",s),i(!1),t({})},onError:function(e){e._response,a({type:"danger",heading:"Err!",message:"Failed to delete tracker"})},onSettled:function(){r({})}})}(F,U,h,H,s,q,$);(0,c.useEffect)((function(){if(!(M<=0)&&U){I(!0);var e=setTimeout((function(){(0,C.Q$)(U,I,q,$),N(0)}),3e3);return function(){return clearTimeout(e)}}}),[M]);var J=function(){var e=(0,x.Z)(j().mark((function e(n){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G.mutate(n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,D.jsxs)(S.Provider,{value:{showModal:a,setShowModal:s,tracker:u,setTracker:h,modalAction:g,setModalAction:f,data:U,isLoading:Q,isError:W,isPosUpdating:E,setReqPosChange:N,deleteItem:F,setDeleteItem:H,isDeleting:G.isLoading,handleDeleteTracker:J},children:[(0,D.jsx)(P.Z,{show:B,setShow:R}),t]})},N=function(){var e=c.useContext(S);return{showModal:e.showModal,setShowModal:e.setShowModal,tracker:e.tracker,setTracker:e.setTracker,modalAction:e.modalAction,setModalAction:e.setModalAction,data:e.data,isLoading:e.isLoading,isError:e.isError,isPosUpdating:e.isPosUpdating,setReqPosChange:e.setReqPosChange,deleteItem:e.deleteItem,setDeleteItem:e.setDeleteItem,isDeleting:e.isDeleting,handleDeleteTracker:e.handleDeleteTracker}},_=t(5438),T=t(3360),E=t(4942),I=t(6240),L=t(5970);function A(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function F(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?A(Object(t),!0).forEach((function(n){(0,E.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var H={red:"rgba(255, 216, 212, 1)",green:"rgba(210, 246, 222, 1)",yellow:"rgba(249, 240, 141, 1)",blue:"rgba(209, 230, 255, 1)"};const q=function(e){var n=e.item,t=e.index,r=(0,c.useState)(!1),i=(0,o.Z)(r,2),a=i[0],s=i[1],d=N(),u=d.setModalAction,h=d.setShowModal,p=d.setTracker,m=d.setDeleteItem;return(0,D.jsx)(l._l,{draggableId:n._id,index:t,children:function(e){return(0,D.jsxs)(W,F(F(F({color:H[n.color],ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[(0,D.jsxs)($,{vertical:"bottom",horizontal:"left",show:a,setShow:s,children:[(0,D.jsx)(L.Z.Button,{children:(0,D.jsx)(I.Z,{size:"0.875rem"})}),(0,D.jsx)(L.Z.Item,{children:(0,D.jsx)("a",{onClick:function(){return function(e){p(e),u("edit"),h(!0)}(n)},children:"Edit"})}),(0,D.jsx)(L.Z.Item,{children:(0,D.jsx)("a",{onClick:function(){return m({id:n._id,status:n.status})},children:"Delete"})})]}),(0,D.jsx)("p",{className:"truncate",children:(0,D.jsx)("b",{children:n.company})}),(0,D.jsx)("p",{className:"truncate",children:n.job_title})]}))}})};var V,B,R,Y,U,Q,W=h.ZP.div(r||(r=(0,a.Z)(["\n  padding: 15px 10px 10px;\n  margin-bottom: 10px;\n  min-height: 75px;\n  background: ",";\n  box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.06);\n  border-radius: 4px;\n  position: relative;\n  p {\n    width: 95%;\n    margin: 0;\n  }\n"])),(function(e){return e.color})),$=(0,h.ZP)(L.Z)(i||(i=(0,a.Z)(["\n  display: inline-flex;\n  position: absolute;\n  z-index: 1;\n  cursor: pointer;\n  top: 0;\n  right: 0;\n  padding: 5px 10px;\n  button {\n    padding: 0;\n    svg {\n      circle {\n        transition: fill ease 0.3s;\n      }\n    }\n    &:hover {\n      svg {\n        circle {\n          fill: ",";\n        }\n      }\n    }\n  }\n  ul {\n    margin: 0;\n    padding: 5px 0;\n    li {\n      a {\n        font-size: 0.8rem;\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.primary}));function X(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?X(Object(t),!0).forEach((function(n){(0,E.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):X(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}const J=function(e){var n=e.name,t=e.elements,r=e.placeholderProps,i=N(),a=i.setTracker,s=i.setModalAction,o=i.setShowModal;return(0,D.jsxs)(he,{children:[(0,D.jsx)(le,{children:(0,D.jsx)("p",{children:n})}),(0,D.jsx)(ue,{children:(0,D.jsx)(l.bK,{droppableId:"".concat(n),children:function(e,i){return(0,D.jsx)(c.Fragment,{children:(0,D.jsxs)(pe,G(G({id:"drag-column-".concat(n)},e.droppableProps),{},{ref:e.innerRef,children:[t&&t.map((function(e,t){return(0,D.jsx)(q,{item:G(G({},e),{},{status:n}),index:t},e._id)})),e.placeholder,r&&Object.keys(r).length>0&&i.isDraggingOver&&(0,D.jsx)(me,{style:{top:r.clientY,left:r.clientX,height:r.clientHeight,width:r.clientWidth}}),(0,D.jsx)(de,{children:(0,D.jsx)("p",{className:"add-task-btn",onClick:function(){return a({status:n,color:"blue"}),s("create"),void o(!0)},children:"New Task"})})]}))})}})})]})};var K,ee,ne,te,re,ie,ae,se,oe,ce,le=h.ZP.div(V||(V=(0,a.Z)(["\n  margin-bottom: 10px;\n  text-transform: capitalize;\n  background: rgba(241, 241, 241, 0.6);\n  padding: 10px;\n  border-radius: 4px;\n  p {\n    font-weight: bold;\n    margin: 0;\n  }\n"]))),de=h.ZP.div(B||(B=(0,a.Z)(["\n  position: relative;\n  p {\n    text-transform: capitalize;\n    background: rgba(224, 224, 224, 0.6);\n    padding: 7px;\n    border-radius: 4px;\n    cursor: pointer;\n    margin: 0;\n    text-align: center;\n    width: 100%;\n    height: fit-content;\n  }\n"]))),ue=h.ZP.div(R||(R=(0,a.Z)(["\n  padding: 10px;\n  background: rgba(241, 241, 241, 0.6);\n  border-radius: 4px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]))),he=h.ZP.div(Y||(Y=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  user-select: none;\n  margin-right: 0.5rem;\n  margin-left: 0.5rem;\n  @media (max-width: 900px) {\n    width: 275px;\n  }\n"]))),pe=h.ZP.div(U||(U=(0,a.Z)(["\n  height: 100%;\n  position: relative;\n  min-height: 300px;\n"]))),me=h.ZP.div(Q||(Q=(0,a.Z)(["\n  position: absolute;\n  border-radius: 3px;\n  background-color: rgba(224, 224, 224, 0.6);\n"]))),ge=t(8834),xe=t(7484),fe=t.n(xe),je=t(2283),be=t(2537),ve=t(5795),ye=t(2790),we=t(7912),Ze=t(316),ke=t(1826),Oe=t(4719),Pe=t(9964),Ce=t(7561),De=Ce.Z_().required("job title is required").max(100,"Max 100 characters allowed"),ze=Ce.Z_().required("company name is required").max(100,"Max 100 characters allowed"),Se=Ce.Z_().max(100,"Max 100 characters allowed"),Me=/((https?):\/\/)?(www.)?[a-z0-9]+(\.[a-z]{2,}){1,3}(#?\/?[a-zA-Z0-9#]+)*\/?(\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/,Ne=Ce.Z_().test("isValid","Invalid link",(function(e){return!e||Me.test(e)})),_e=Ce.Z_().max(300,"Max 300 characters allowed"),Te=Ce.hT().nullable().transform((function(e,n){return""===n?null:e})),Ee=Ce.Z_().oneOf(["applied","responded","interview","offers","rejected"]).required(),Ie=Ce.Z_().oneOf(["red","green","blue","yellow"]).required(),Le=Ce.IX().of(Ce.Ry().shape({text:Ce.Z_().max(300,"Max 300 characters allowed").required(),updated_at:Ce.hT().required(),created_at:Ce.hT().required()})),Ae=Ce.Z_().max(3e3,"Max 3000 characters allowed"),Fe=Ce.Ry().shape({job_title:De,company:ze,salary:Se,deadline:Te,job_link:Ne,location:_e,status:Ee,color:Ie,logs:Le,description:Ae});function He(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function qe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?He(Object(t),!0).forEach((function(n){(0,E.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):He(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ve={red:"rgb(255 111 111)",green:"rgb(82 255 140)",yellow:"rgb(255 234 0)",blue:"rgb(61 150 255)"};const Be=function(){var e=(0,c.useState)(0),n=(0,o.Z)(e,2),t=n[0],r=n[1],i=(0,c.useState)(!1),a=(0,o.Z)(i,2),s=a[0],l=a[1],d=(0,c.useState)(!1),u=(0,o.Z)(d,2),h=u[0],p=u[1],m=(0,c.useState)(-1),g=(0,o.Z)(m,2),f=g[0],v=g[1],w=(0,c.useState)(""),Z=(0,o.Z)(w,2),k=Z[0],P=Z[1],C=(0,b.useQueryClient)(),z=(0,Pe.S)().width,S=N(),M=S.data,E=S.tracker,I=S.modalAction,A=S.setShowModal,F=S.setTracker,H=S.setModalAction,q=S.setDeleteItem,V=(0,O.d)().setNotify,B=(0,je.cI)({mode:"onBlur",defaultValues:{job_title:"",company:"",salary:"",deadline:"",job_link:"",job_location:"",description:"",status:"applied",color:"blue",logs:[]},resolver:(0,ge.X)(Fe)}),R=B.handleSubmit,Y=B.setValue,U=B.watch,Q=B.reset,W=B.control,$=B.formState,X=$.isDirty,G=$.isValid,J=$.isSubmitting,K=(0,je.Dq)({control:W,name:"logs"}),ee=K.fields,ne=K.update,te=K.prepend,re=K.remove;(0,c.useEffect)((function(){var e=document.getElementById("logs.".concat(f,".content"));e?e.focus():v(-1)}),[f]),(0,c.useEffect)((function(){Object.keys(E).length>0&&(E.deadline&&(E.deadline=fe()(E.deadline).format("YYYY-MM-DD")),Q(E,{keepErrors:!1,keepDirty:!1,keepIsSubmitted:!1,keepTouched:!1,keepIsValid:!1,keepSubmitCount:!1}))}),[I,E]);var ie=function(e){Y("color",e,{shouldDirty:!0,shouldValidate:!0}),p(!1)},ae=function(e){Y("status",e,{shouldDirty:!0,shouldValidate:!0}),l(!1)},se=(0,b.useMutation)((function(e){return y().post("/progress-tracker",e)}),{onSuccess:function(e){e.data&&(function(e){var n=qe({},M);n[e.status].unshift(e),C.setQueryData("progressTracker",n)}(e.data),A(!1),F({}))},onError:function(e){e._response,V({type:"danger",heading:"Err!",message:"Failed to create tracker"})}}),oe=(0,b.useMutation)((function(e){return y().patch("/progress-tracker",e)}),{onSuccess:function(e){!function(e){var n=qe({},M),t=n[E.status];if(t){var r=t.findIndex((function(e){return e._id===E._id}));-1!==r&&(e.status!==E.status?E&&(t.splice(r,1),n[e.status].unshift(e),C.setQueryData("progressTracker",n)):(t.splice(r,1,e),C.setQueryData("progressTracker",n)))}}(e.data),A(!1),F({})},onError:function(e){e._response,V({type:"danger",heading:"Err!",message:"Failed to update tracker"})}}),ce=function(){var e=(0,x.Z)(j().mark((function e(n){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("create"!==I){e.next=4;break}return e.abrupt("return",se.mutateAsync(n).then((function(e){return!0})).catch((function(e){return!1})));case 4:if("edit"!==I){e.next=8;break}return n.id=E._id,n.oldStatus=E.status,e.abrupt("return",oe.mutateAsync(n).then((function(e){return!0})).catch((function(e){return!1})));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),le=function(){R(ce)()},de=function(){Object.keys(E).length>0&&E._id&&E.status&&(A(!1),F({}),q({id:E._id,status:E.status}))},ue=U("color"),he=U("status"),pe=U("company"),me=U("job_title"),xe=(0,D.jsx)(be.Z,{name:"company",label:"Company"}),Ce=(0,D.jsx)(be.Z,{name:"job_title",label:"Job Title"}),De=(0,D.jsx)(be.Z,{name:"salary",label:"Salary"}),ze=(0,D.jsx)(be.Z,{name:"deadline",type:"date",label:"Deadline"}),Se=(0,D.jsx)(be.Z,{name:"job_link",label:"Job Link"}),Me=(0,D.jsx)(be.Z,{name:"job_location",label:"Location"}),Ne=(0,D.jsxs)("div",{children:[(0,D.jsx)("label",{children:"Color"}),(0,D.jsxs)(Je,{vertical:"bottom",horizontal:"left",show:h,setShow:p,height:"48px",children:[(0,D.jsxs)(L.Z.Button,{children:[(0,D.jsx)(Ge,{color:Ve[ue],children:ue}),(0,D.jsx)(we.Z,{})]}),(0,D.jsx)(L.Z.Item,{children:(0,D.jsx)("a",{onClick:function(){return ie("yellow")},children:(0,D.jsx)(Ge,{color:Ve.yellow,children:"Yellow"})})}),(0,D.jsx)(L.Z.Item,{children:(0,D.jsx)("a",{onClick:function(){return ie("red")},children:(0,D.jsx)(Ge,{color:Ve.red,children:"Red"})})}),(0,D.jsx)(L.Z.Item,{children:(0,D.jsx)("a",{onClick:function(){return ie("green")},children:(0,D.jsx)(Ge,{color:Ve.green,children:"Green"})})}),(0,D.jsx)(L.Z.Item,{children:(0,D.jsx)("a",{onClick:function(){return ie("blue")},children:(0,D.jsx)(Ge,{color:Ve.blue,children:"Blue"})})})]})]}),_e=(0,D.jsxs)(Je,{vertical:"top",horizontal:"left",show:s,setShow:l,height:"40px",children:[(0,D.jsxs)(L.Z.Button,{children:[he,(0,D.jsx)(we.Z,{})]}),(0,D.jsx)(L.Z.Item,{children:(0,D.jsx)("a",{onClick:function(){return ae("applied")},children:"Applied "})}),(0,D.jsx)(L.Z.Item,{children:(0,D.jsx)("a",{onClick:function(){return ae("responded")},children:"responded "})}),(0,D.jsx)(L.Z.Item,{children:(0,D.jsx)("a",{onClick:function(){return ae("interview")},children:"interview "})}),(0,D.jsx)(L.Z.Item,{children:(0,D.jsx)("a",{onClick:function(){return ae("offers")},children:"offers "})}),(0,D.jsx)(L.Z.Item,{children:(0,D.jsx)("a",{onClick:function(){return ae("rejected")},children:"rejected "})})]});return(0,D.jsx)(c.Fragment,{children:(0,D.jsx)($e,{"data-test-id":"tracker-popup",children:(0,D.jsx)(Xe,{children:(0,D.jsxs)(je.RV,qe(qe({},B),{},{children:[(0,D.jsx)(rn,{onClick:function(){return A(!1),F({}),void H("")},children:(0,D.jsx)(ye.Z,{size:"1rem"})}),(0,D.jsxs)("div",{className:"mb-2",children:[(0,D.jsxs)("h2",{className:"space-around truncate",style:z<=480?{marginBottom:"1rem"}:{},children:[me||"Untitled",pe?"(".concat(pe,")"):"(Company)"]}),(0,D.jsxs)(Oe.Z,{children:[(0,D.jsx)(Oe.Z.Link,{children:(0,D.jsx)("a",{className:0===t?"active":"",onClick:function(){return r(0)},children:"Overview"})}),(0,D.jsx)(Oe.Z.Link,{children:(0,D.jsx)("a",{className:1===t?"active":"",onClick:function(){return r(1)},children:"Notes"})}),(0,D.jsx)(Oe.Z.Link,{children:(0,D.jsx)("a",{className:2===t?"active":"",onClick:function(){return r(2)},children:"Log activity"})})]})]}),(0,D.jsxs)("div",{className:"space-around",children:[0===t?(0,D.jsx)(c.Fragment,{children:z>700?(0,D.jsxs)(c.Fragment,{children:[(0,D.jsxs)(Ke,{col:"repeat(3, 1fr)",className:"mb-1",children:[xe,Ce,De]}),(0,D.jsxs)(Ke,{col:"1fr 2fr",className:"mb-1",children:[ze,Se]}),(0,D.jsxs)(Ke,{col:"2fr 1fr",className:"mb-3",children:[Me,Ne]})]}):z<=700&&z>400?(0,D.jsxs)(c.Fragment,{children:[(0,D.jsxs)(Ke,{col:"repeat(2, 1fr)",className:"mb-1",children:[xe," ",Ce]}),(0,D.jsxs)(Ke,{col:"repeat(2, 1fr)",className:"mb-1",children:[ze,De]}),(0,D.jsx)("div",{className:"mb-1",children:Se}),(0,D.jsx)("div",{className:"mb-1",children:Me}),(0,D.jsxs)(Ke,{col:"repeat(2, 1fr)",className:"mb-3",children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("label",{children:"Status"}),_e]}),Ne]})]}):(0,D.jsxs)(c.Fragment,{children:[(0,D.jsx)("div",{className:"mb-1",children:xe}),(0,D.jsx)("div",{className:"mb-1",children:Ce}),(0,D.jsx)("div",{className:"mb-1",children:ze}),(0,D.jsx)("div",{className:"mb-1",children:De}),(0,D.jsx)("div",{className:"mb-1",children:Se}),(0,D.jsx)("div",{className:"mb-1",children:Me}),(0,D.jsxs)("div",{className:"mb-1",children:[(0,D.jsx)("label",{children:"Status"}),_e]}),(0,D.jsx)("div",{className:"mb-1",children:Ne})]})}):1===t?(0,D.jsx)(ve.Z,{name:"description",label:"Description",className:"mb-3",style:{minHeight:"150px",resize:"none"},placeholder:"Add a more detailed description..."}):2===t?(0,D.jsxs)(c.Fragment,{children:[(0,D.jsxs)(Ke,{col:z>480?"auto 10%":"auto 50px",className:"mb-1",style:{borderBottom:"1px solid rgba(196, 196, 196, 0.4)",paddingBottom:"2rem",gridGap:"1rem"},children:[(0,D.jsx)("input",{placeholder:"Write a comment",value:k,onChange:function(e){return P(e.target.value)}}),(0,D.jsx)(_.z,{btnType:"ghost",size:"lg",style:{width:"100%",margin:"auto",height:"48px"},onClick:function(){k.length<=0||(te({text:k,created_at:new Date(Date.now()).toISOString(),updated_at:new Date(Date.now()).toISOString()}),P(""))},children:"Add"})]}),(0,D.jsx)(en,{id:"log-wrapper",children:ee.map((function(e,n){return(0,D.jsxs)(tn,{children:[(0,D.jsxs)("div",{children:[(0,D.jsx)("p",{contentEditable:f===n,id:"logs.".concat(n,".content"),onBlur:function(t){return function(e,n,t){t.text=e.target.outerText,t.updated_at=new Date(Date.now()).toISOString(),ne(n,t),v(-1)}(t,n,e)},suppressContentEditableWarning:!0,children:e.text}),(0,D.jsx)("p",{className:"time",children:(t=e.updated_at,r=fe()().diff(t,"seconds"),i="just now",r>60&&(i="".concat(Math.floor(r/60)," min ago")),r>3600&&(i="".concat(Math.floor(r/3600)," hour ago")),r>86400&&(i="".concat(Math.floor(r/86400)," day ago")),r>2592e3&&(i="".concat(Math.floor(r/2592e3)," month ago")),r>31104e3&&(i="".concat(Math.floor(r/31104e3)," year ago")),i)})]}),(0,D.jsxs)("div",{className:"action-wrapper",children:[(0,D.jsx)("span",{"data-test-id":"log-edit",onClick:function(){return v(n)},children:(0,D.jsx)(ke.Z,{size:"1.2rem"})}),(0,D.jsx)("span",{"data-test-id":"log-delete",onClick:function(){return re(n)},children:(0,D.jsx)(Ze.Z,{})})]})]},n);var t,r,i}))}),ee.length>0&&(0,D.jsx)(nn,{})]}):null,z>700?(0,D.jsxs)(Ke,{col:"auto 25% 20%",children:[0===t&&(0,D.jsxs)(c.Fragment,{children:["edit"===I?(0,D.jsx)(_.z,{btnType:"ghost",size:"lg",onClick:function(){return de()},children:"Delete"}):(0,D.jsx)("div",{}),_e]}),(0,D.jsx)(_.z,{btnType:"primary",size:"lg",disabled:J||!X||!G,onClick:le,children:J?(0,D.jsx)(T.$j,{size:"1.4rem",type:"white"}):"Save"})]}):(0,D.jsxs)(an,{children:["edit"===I?(0,D.jsx)(_.z,{btnType:"ghost",size:"lg",onClick:function(){return de()},children:"Delete"}):(0,D.jsx)("div",{}),(0,D.jsx)(_.z,{btnType:"primary",size:"lg",disabled:J||!X||!G,onClick:le,children:J?(0,D.jsx)(T.$j,{size:"1.2rem",type:"white"}):"Save"})]})]})]}))})})})};var Re,Ye,Ue,Qe,We,$e=h.ZP.div(K||(K=(0,a.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  background-color: ",";\n"])),(function(e){return e.theme.shades.dark[3]})),Xe=h.ZP.div(ee||(ee=(0,a.Z)(["\n  max-width: 800px;\n  width: 100%;\n  background-color: #fff;\n  padding-top: 3rem;\n  padding-bottom: 3rem;\n  position: relative;\n  .space-around {\n    padding-right: 2rem;\n    padding-left: 2rem;\n  }\n  h2 {\n    margin-bottom: 0;\n    text-transform: capitalize;\n  }\n  @media (max-width: 700px) {\n    overflow-y: auto;\n    height: 100%;\n    .space-around {\n      padding-left: 1rem;\n      padding-right: 1rem;\n    }\n  }\n"]))),Ge=h.ZP.span(ne||(ne=(0,a.Z)(["\n  display: flex;\n  align-items: center;\n  font-size: 0.875rem;\n  &:before {\n    content: '';\n    display: block;\n    width: 25px;\n    height: 25px;\n    background-color: ",";\n    border-radius: 3px;\n    margin-right: 0.5rem;\n    border: 1px solid #eee;\n  }\n"])),(function(e){return e.color})),Je=(0,h.ZP)(L.Z)(te||(te=(0,a.Z)(["\n  width: 100%;\n  button {\n    background-color: #f4f5f7;\n    width: 100%;\n    height: ",";\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 0.2rem 0.8rem;\n    border-radius: 6px;\n    text-transform: capitalize;\n  }\n  a {\n    text-transform: capitalize;\n  }\n  @media (max-width: 700px) {\n    button {\n      height: 48px;\n    }\n  }\n"])),(function(e){return e.height})),Ke=h.ZP.div(re||(re=(0,a.Z)(["\n  display: grid;\n  grid-template-columns: ",";\n  grid-column-gap: 1.5rem;\n"])),(function(e){return e.col})),en=h.ZP.div(ie||(ie=(0,a.Z)(["\n  margin-bottom: 1rem;\n  max-height: 30vh;\n  overflow-y: auto;\n  padding-right: 1rem;\n  @media (max-width: 700px) {\n    overflow-y: unset;\n    max-height: unset;\n    padding-right: 0;\n  }\n"]))),nn=h.ZP.div(ae||(ae=(0,a.Z)(["\n  display: block;\n  margin-bottom: 2rem;\n  background: rgba(196, 196, 196, 0.4);\n  height: 1px;\n"]))),tn=h.ZP.div(se||(se=(0,a.Z)(["\n  display: grid;\n  grid-template-columns: auto 10%;\n  grid-gap: 2rem;\n  padding: 1rem;\n  transition: ease 0.3s;\n\n  &:hover {\n    background-color: rgba(39, 39, 39, 0.1);\n  }\n  p {\n    margin: 0;\n  }\n  .time {\n    color: rgba(39, 39, 39, 0.4);\n    font-size: 0.8rem;\n  }\n  .action-wrapper {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n\n    span {\n      width: 100%;\n      text-align: center;\n      cursor: pointer;\n      user-select: none;\n      &:hover {\n        svg {\n          path {\n            fill: ",";\n          }\n        }\n      }\n    }\n  }\n\n  @media (max-width: 700px) {\n    grid-template-columns: auto 60px;\n    grid-gap: 1.5rem;\n    padding: 1rem 0;\n  }\n"])),(function(e){return e.theme.colors.primary})),rn=h.ZP.div(oe||(oe=(0,a.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  right: 0;\n  top: 0;\n  padding: 1rem;\n  cursor: pointer;\n  &:hover {\n    svg {\n      path {\n        stroke: ",";\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.primary})),an=h.ZP.div(ce||(ce=(0,a.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  grid-gap: 1.5rem;\n"]))),sn=function(){var e=(0,c.useState)({}),n=(0,o.Z)(e,2),t=n[0],r=n[1],i=N(),a=i.showModal,h=i.setShowModal,x=i.setModalAction,f=i.setTracker,j=i.data,b=i.isLoading,v=i.isError,y=i.setReqPosChange,w=i.deleteItem,Z=i.setDeleteItem,k=i.isDeleting,O=i.handleDeleteTracker,P=i.isPosUpdating,z=(0,d.k6)(),S=function(e){var n="[".concat("data-rbd-drag-handle-draggable-id","='").concat(e,"']");return document.querySelector(n)};return(0,D.jsxs)(c.Fragment,{children:[(0,D.jsx)(u.Z,{in:P,timeout:{enter:200,exit:5e3},children:(0,D.jsx)(dn,{children:P?(0,D.jsxs)(c.Fragment,{children:[(0,D.jsx)(T.$j,{type:"primary",size:"1.5rem"}),(0,D.jsx)(un,{color:"#f08438",children:"Updating"})]}):(0,D.jsxs)(c.Fragment,{children:[(0,D.jsx)(p.Z,{size:"1.5rem",color:"#f08438"}),(0,D.jsx)("p",{style:{color:"#f08438",margin:"0 0.7rem"},children:"Done"})]})})}),(0,D.jsxs)(m.Z,{title:"Delete",msg:"Are you sure?",show:Object.keys(w).length>0,children:[(0,D.jsx)(_.z,{btnType:"primary",size:"lg",onClick:function(){return Z({})},disabled:k,children:"Cancel"}),(0,D.jsx)(_.z,{btnType:"ghost",size:"lg",onClick:function(){return w&&Object.keys(w).length>0&&O(w)},disabled:k,children:k?(0,D.jsx)(T.$j,{size:"1.2rem",type:"white"}):"Delete"})]}),(0,D.jsxs)(g.Z,{title:"Progress tracker",customBtns:!0,children:[(0,D.jsx)(_.z,{btnType:"primary",size:"sm",disabled:b||v,onClick:function(){return f(""),x("create"),void h(!0)},children:"Create New Card"}),(0,D.jsx)(_.z,{btnType:"ghost",size:"sm",disabled:b||v,onClick:function(){return z.push("/resumes/new")},children:"Create Resume"})]}),v?(0,D.jsx)("div",{className:"align-center",style:{height:"30vh"},children:(0,D.jsx)("h3",{children:"Failed to load progress tracker!"})}):b?(0,D.jsx)(ln,{children:(0,D.jsx)(T.ZL,{children:(0,s.Z)(Array(5)).map((function(e,n){return(0,D.jsxs)("div",{children:[(0,D.jsx)(T.up,{}),(0,D.jsx)(T.bt,{})]},n)}))})}):(0,D.jsxs)(c.Fragment,{children:[a&&(0,D.jsx)(Be,{}),(0,D.jsx)(l.Z5,{onDragEnd:function(e){r({}),(0,C.ye)(j,e),y((function(e){return e+1}))},onDragStart:function(e){var n=(0,C.AQ)(e,S);n&&r({clientHeight:n.clientHeight,clientWidth:n.clientWidth,clientY:n.clientY,clientX:parseFloat(window.getComputedStyle(n.draggedDOM.parentNode).paddingLeft)})},onDragUpdate:function(e){var n=(0,C.i6)(e,S);n&&r({clientHeight:n.clientHeight,clientWidth:n.clientWidth,clientY:n.clientY,clientX:parseFloat(window.getComputedStyle(n.draggedDOM.parentNode).paddingLeft)})},children:(0,D.jsx)(cn,{id:"drag-container",children:j&&["applied","responded","interview","offers","rejected"].map((function(e){return(0,D.jsx)(J,{elements:j[e],name:e,placeholderProps:t},e)}))})})]})]})};const on=function(){return(0,D.jsx)(M,{children:(0,D.jsx)(sn,{})})};var cn=h.ZP.div(Re||(Re=(0,a.Z)(["\n  display: grid;\n  grid-template-columns: repeat(5, 20%);\n  padding: 1.5rem 1rem;\n  margin-bottom: 1rem;\n  width: 100%;\n  flex: 1;\n\n  @media (max-width: 900px) {\n    grid-template-columns: repeat(5, 1fr);\n    overflow-x: scroll;\n    margin-bottom: 1.5rem;\n  }\n"]))),ln=h.ZP.div(Ye||(Ye=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  flex: 1;\n\n  "," {\n    display: flex;\n    grid-gap: 1rem;\n    margin-bottom: 1rem;\n    width: 100%;\n    height: 100%;\n    flex: 1;\n    padding: 1.5rem;\n\n    div {\n      display: flex;\n      flex-direction: column;\n      width: 100%;\n      "," {\n        height: 40px;\n        margin-bottom: 1rem;\n      }\n      "," {\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n  @media (max-width: 900px) {\n    "," {\n      overflow-x: scroll;\n      div {\n        width: 275px;\n      }\n    }\n  }\n"])),T.ZL,T.up,T.bt,T.ZL),dn=h.ZP.div(Ue||(Ue=(0,a.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: fit-content;\n  padding: 0 0.5rem;\n  height: 50px;\n  min-width: 50px;\n  transition: ease 300ms;\n  background-color: #fff;\n  border-radius: 1rem;\n  box-shadow: 4px 0px 20px 0px #ddd;\n  border: 1px solid #eee;\n  position: fixed;\n  right: 40px;\n  bottom: 40px;\n  opacity: 0;\n  visibility: hidden;\n  z-index: 1;\n  &.enter-done,\n  &.enter-active,\n  &.exit-active {\n    opacity: 1;\n    visibility: visible;\n  }\n  &.exit-done {\n    opacity: 0;\n    visibility: hidden;\n  }\n"]))),un=h.ZP.p(We||(We=(0,a.Z)(["\n  display: inline-flex;\n  margin: 0 0.7rem;\n  color: ",";\n  &:after {\n    content: '.';\n    margin-left: 0.1rem;\n    animation: ","\n      1s steps(5, end) infinite;\n  }\n"])),(function(e){var n=e.theme;return e.color||n.colors.dark}),(function(e){var n=e.theme;return function(e){return(0,h.F4)(Qe||(Qe=(0,a.Z)(["\n   0%, 20% {\n    color: rgba(0,0,0,0);\n    text-shadow:\n      .25em 0 0 rgba(0,0,0,0),\n      .5em 0 0 rgba(0,0,0,0);}\n  40% {\n    color: ",";\n    text-shadow:\n      .25em 0 0 rgba(0,0,0,0),\n      .5em 0 0 rgba(0,0,0,0);}\n  60% {\n    text-shadow:\n      .25em 0 0 ",",\n      .5em 0 0 rgba(0,0,0,0);}\n  80%, 100% {\n    text-shadow:\n      .25em 0 0 ",",\n      .5em 0 0 ",";\n    }\n    \n"])),e,e,e,e)}(e.color||n.colors.dark)}))},9070:(e,n,t)=>{t.d(n,{vs:()=>c,Nl:()=>l,q$:()=>d});var r,i,a,s=t(168),o=t(9163),c=o.ZP.div(r||(r=(0,s.Z)(["\n  width: 100%;\n  max-width: ",";\n  p {\n    max-width: 575px;\n  }\n"])),(function(e){return e.maxWidth})),l=o.ZP.div(i||(i=(0,s.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  button {\n    width: fit-content;\n    padding: 0 1rem;\n    margin: 0 1rem;\n  }\n"]))),d=o.ZP.header(a||(a=(0,s.Z)(["\n  min-height: 175px;\n  max-height: 175px;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  border-bottom: 1px solid #e2e9f3;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem;\n  h1 {\n    margin-bottom: 0;\n    span {\n      font-weight: normal;\n    }\n  }\n  div:last-child {\n    display: flex;\n    button {\n      margin: 0 1rem;\n    }\n  }\n  @media (max-width: 768px) {\n    div:last-child {\n      flex-direction: column;\n    }\n  }\n  @media (max-width: 480px) {\n    max-height: 100px;\n    min-height: 100px;\n    h1 {\n      margin: 0;\n    }\n    div:last-child {\n      display: block;\n      width: 100%;\n    }\n  }\n"])))}}]);
//# sourceMappingURL=810.bundle.js.map